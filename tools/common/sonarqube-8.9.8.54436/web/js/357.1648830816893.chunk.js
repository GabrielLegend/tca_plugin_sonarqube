(window.webpackJsonp=window.webpackJsonp||[]).push([[357],{2189:function(e,t,r){"use strict";r.r(t),r.d(t,"App",(function(){return ye}));var n=r(13),a=r(684),o=r(674),s=r(176),i=r(873),l=r(690),p=r(676),c=(r(1300),r(679)),u=r.n(c),m=function(){return(m=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},d=["user","codeviewer","issueadmin","securityhotspotadmin","admin","scan"];function f(e){return u()(e,(function(e){return d.indexOf(e.key)}))}function h(e,t){return e.map((function(e){var r=t.map((function(t){var r=e.permissions.find((function(e){return e.key===t.key}));return m(m({usersCount:0,groupsCount:0},t),r)}));return m(m({},e),{permissions:r})}))}function y(e,t){return void 0===t&&(t=[]),e.map((function(e){var r=[];return t.forEach((function(t){t.templateId===e.id&&r.push(t.qualifier)})),m(m({},e),{defaultFor:r})}))}var g,b=r(661),v=r(716),j=r(681),E=r.n(j),_=r(668),O=r.n(_),P=r(688),C=r.n(P),S=r(695),N=r.n(S),w=(g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),T=function(e){function t(t){var r=e.call(this,t)||this;return r.mounted=!1,r.handleSubmit=function(){return r.props.onSubmit({description:r.state.description,name:r.state.name,projectKeyPattern:r.state.projectKeyPattern}).then(r.props.onClose)},r.handleNameChange=function(e){r.setState({name:e.currentTarget.value})},r.handleDescriptionChange=function(e){r.setState({description:e.currentTarget.value})},r.handleProjectKeyPatternChange=function(e){r.setState({projectKeyPattern:e.currentTarget.value})},r.state={description:t.permissionTemplate&&t.permissionTemplate.description||"",name:t.permissionTemplate&&t.permissionTemplate.name||"",projectKeyPattern:t.permissionTemplate&&t.permissionTemplate.projectKeyPattern||""},r}return w(t,e),t.prototype.render=function(){var e=this;return n.createElement(E.a,{header:this.props.header,onClose:this.props.onClose,onSubmit:this.handleSubmit,size:"small"},(function(t){var r=t.onCloseClick,a=t.onFormSubmit,o=t.submitting;return n.createElement("form",{id:"permission-template-form",onSubmit:a},n.createElement("header",{className:"modal-head"},n.createElement("h2",null,e.props.header)),n.createElement("div",{className:"modal-body"},n.createElement(N.a,{className:"modal-field"}),n.createElement("div",{className:"modal-field"},n.createElement("label",{htmlFor:"permission-template-name"},Object(s.translate)("name"),n.createElement(C.a,null)),n.createElement("input",{autoFocus:!0,id:"permission-template-name",maxLength:256,name:"name",onChange:e.handleNameChange,required:!0,type:"text",value:e.state.name}),n.createElement("div",{className:"modal-field-description"},Object(s.translate)("should_be_unique"))),n.createElement("div",{className:"modal-field"},n.createElement("label",{htmlFor:"permission-template-description"},Object(s.translate)("description")),n.createElement("textarea",{id:"permission-template-description",name:"description",onChange:e.handleDescriptionChange,value:e.state.description})),n.createElement("div",{className:"modal-field"},n.createElement("label",{htmlFor:"permission-template-project-key-pattern"},Object(s.translate)("permission_template.key_pattern")),n.createElement("input",{id:"permission-template-project-key-pattern",maxLength:500,name:"projectKeyPattern",onChange:e.handleProjectKeyPatternChange,type:"text",value:e.state.projectKeyPattern}),n.createElement("div",{className:"modal-field-description"},Object(s.translate)("permission_template.key_pattern.description")))),n.createElement("footer",{className:"modal-foot"},n.createElement(O.a,{className:"spacer-right",loading:o}),n.createElement(b.SubmitButton,{disabled:o,id:"permission-template-submit"},e.props.confirmButtonText),n.createElement(b.ResetButtonLink,{disabled:o,id:"permission-template-cancel",onClick:r},Object(s.translate)("cancel"))))}))},t}(n.PureComponent),k=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),q=function(){return(q=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={createModal:!1},t.handleCreateClick=function(){t.setState({createModal:!0})},t.handleCreateModalClose=function(){t.mounted&&t.setState({createModal:!1})},t.handleCreateModalSubmit=function(e){return Object(i.f)(q({},e)).then((function(e){t.props.refresh().then((function(){t.props.router.push({pathname:"/permission_templates",query:{id:e.permissionTemplate.id}})}))}))},t}return k(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){return n.createElement("header",{className:"page-header",id:"project-permissions-header"},n.createElement("h1",{className:"page-title"},Object(s.translate)("permission_templates.page")),!this.props.ready&&n.createElement("i",{className:"spinner"}),n.createElement("div",{className:"page-actions"},n.createElement(b.Button,{onClick:this.handleCreateClick},Object(s.translate)("create")),this.state.createModal&&n.createElement(T,{confirmButtonText:Object(s.translate)("create"),header:Object(s.translate)("permission_template.new_template"),onClose:this.handleCreateModalClose,onSubmit:this.handleCreateModalSubmit})),n.createElement("p",{className:"page-description"},Object(s.translate)("permission_templates.page.description")))},t}(n.PureComponent),x=Object(v.a)(D),M=r(672),Q=r.n(M),F=r(671),A=r(829),K=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return K(t,e),t.prototype.renderTooltip=function(e){return"user"===e.key||"codeviewer"===e.key?n.createElement("div",null,n.createElement(A.a,{message:Object(s.translate)("projects_role",e.key,"desc")}),n.createElement(F.Alert,{className:"spacer-top",variant:"warning"},Object(s.translate)("projects_role.public_projects_warning"))):n.createElement(A.a,{message:Object(s.translate)("projects_role",e.key,"desc")})},t.prototype.render=function(){var e=this,t=this.props.permissions.map((function(t){return n.createElement("th",{className:"permission-column little-padded-left little-padded-right",key:t.key},n.createElement("div",{className:"permission-column-inner"},n.createElement("span",{className:"text-middle"},Object(s.translate)("projects_role",t.key)),n.createElement(Q.a,{className:"spacer-left",overlay:e.renderTooltip(t)})))}));return n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{className:"little-padded-left little-padded-right"}," "),t,n.createElement("th",{className:"thin nowrap text-right little-padded-left little-padded-right"}," ")))},t}(n.PureComponent),I=r(738),H=r.n(I),L=r(723),B=r.n(L),W=r(694),G=r.n(W);function z(e){var t=e.onClose,r=e.onSubmit,a=e.permissionTemplate,o=Object(s.translate)("permission_template.delete_confirm_title");return n.createElement(E.a,{header:o,onClose:t,onSubmit:r},(function(e){var t=e.onCloseClick,r=e.onFormSubmit,i=e.submitting;return n.createElement("form",{onSubmit:r},n.createElement("header",{className:"modal-head"},n.createElement("h2",null,o)),n.createElement("div",{className:"modal-body"},Object(s.translateWithParameters)("permission_template.do_you_want_to_delete_template_xxx",a.name)),n.createElement("footer",{className:"modal-foot"},n.createElement(O.a,{className:"spacer-right",loading:i}),n.createElement(b.SubmitButton,{className:"button-red",disabled:i},Object(s.translate)("delete")),n.createElement(b.ResetButtonLink,{disabled:i,onClick:t},Object(s.translate)("cancel"))))}))}var J=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),R=function(){return(R=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={deleteForm:!1,updateModal:!1},t.handleUpdateClick=function(){t.setState({updateModal:!0})},t.handleCloseUpdateModal=function(){t.mounted&&t.setState({updateModal:!1})},t.handleSubmitUpdateModal=function(e){return Object(i.y)(R({id:t.props.permissionTemplate.id},e)).then(t.props.refresh)},t.handleDeleteClick=function(){t.setState({deleteForm:!0})},t.handleCloseDeleteForm=function(){t.mounted&&t.setState({deleteForm:!1})},t.handleDeleteSubmit=function(){return Object(i.g)({templateId:t.props.permissionTemplate.id}).then((function(){t.props.router.replace("/permission_templates"),t.props.refresh()}))},t.setDefault=function(e){return function(){Object(i.x)(t.props.permissionTemplate.id,e).then(t.props.refresh,(function(){}))}},t}return J(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.getAvailableQualifiers=function(){return H()(this.props.topQualifiers,this.props.permissionTemplate.defaultFor)},t.prototype.renderSetDefaultsControl=function(){var e=this.getAvailableQualifiers();return 0===e.length?null:1===this.props.topQualifiers.length?this.renderIfSingleTopQualifier(e):this.renderIfMultipleTopQualifiers(e)},t.prototype.renderSetDefaultLink=function(e,t){return n.createElement(L.ActionsDropdownItem,{className:"js-set-default","data-qualifier":e,key:e,onClick:this.setDefault(e)},t)},t.prototype.renderIfSingleTopQualifier=function(e){var t=this;return e.map((function(e){return t.renderSetDefaultLink(e,n.createElement("span",null,Object(s.translate)("permission_templates.set_default")))}))},t.prototype.renderIfMultipleTopQualifiers=function(e){var t=this;return e.map((function(e){return t.renderSetDefaultLink(e,n.createElement("span",null,Object(s.translate)("permission_templates.set_default_for")," ",n.createElement(G.a,{qualifier:e})," ",Object(s.translate)("qualifiers",e)))}))},t.prototype.render=function(){var e=this.props.permissionTemplate;return n.createElement(n.Fragment,null,n.createElement(B.a,null,this.renderSetDefaultsControl(),!this.props.fromDetails&&n.createElement(L.ActionsDropdownItem,{to:{pathname:"/permission_templates",query:{id:e.id}}},Object(s.translate)("edit_permissions")),n.createElement(L.ActionsDropdownItem,{className:"js-update",onClick:this.handleUpdateClick},Object(s.translate)("update_details")),0===e.defaultFor.length&&n.createElement(L.ActionsDropdownItem,{className:"js-delete",destructive:!0,onClick:this.handleDeleteClick},Object(s.translate)("delete"))),this.state.updateModal&&n.createElement(T,{confirmButtonText:Object(s.translate)("update_verb"),header:Object(s.translate)("permission_template.edit_template"),onClose:this.handleCloseUpdateModal,onSubmit:this.handleSubmitUpdateModal,permissionTemplate:e}),this.state.deleteForm&&n.createElement(z,{onClose:this.handleCloseDeleteForm,onSubmit:this.handleDeleteSubmit,permissionTemplate:e}))},t}(n.PureComponent),X=Object(v.a)(V),Y=r(667);function Z(e){var t=e.template.defaultFor,r=u()(t).map((function(e){return Object(s.translate)("qualifiers",e)})).join(", ");return n.createElement("div",null,n.createElement("span",{className:"badge spacer-right"},Object(s.translateWithParameters)("permission_template.default_for",r)))}function $(e){var t=e.template;return n.createElement("td",{className:"little-padded-left little-padded-right"},n.createElement(Y.c,{to:{pathname:"/permission_templates",query:{id:t.id}}},n.createElement("strong",{className:"js-name"},t.name)),t.defaultFor.length>0&&n.createElement("div",{className:"spacer-top js-defaults"},n.createElement(Z,{template:t})),!!t.description&&n.createElement("div",{className:"spacer-top js-description"},t.description),!!t.projectKeyPattern&&n.createElement("div",{className:"spacer-top js-project-key-pattern"},"Project Key Pattern: ",n.createElement("code",null,t.projectKeyPattern)))}var ee=r(38);function te(e){var t=e.permission;return n.createElement("td",{className:"permission-column little-padded-left little-padded-right"},n.createElement("div",{className:"permission-column-inner"},n.createElement("ul",null,t.withProjectCreator&&n.createElement("li",{className:"little-spacer-bottom display-flex-center"},Object(s.translate)("permission_templates.project_creators"),n.createElement(Q.a,{className:"little-spacer-left",overlay:Object(s.translate)(Object(ee.isSonarCloud)()?"permission_templates.project_creators.explanation.sonarcloud":"permission_templates.project_creators.explanation")})),n.createElement("li",{className:"little-spacer-bottom"},n.createElement("strong",null,t.usersCount),"  user(s)"),n.createElement("li",null,n.createElement("strong",null,t.groupsCount)," group(s)"))))}function re(e){var t=e.template.permissions.map((function(e){return n.createElement(te,{key:e.key,permission:e})}));return n.createElement("tr",{"data-id":e.template.id,"data-name":e.template.name},n.createElement($,{template:e.template}),t,n.createElement("td",{className:"nowrap thin text-right text-top little-padded-left little-padded-right"},n.createElement(X,{permissionTemplate:e.template,refresh:e.refresh,topQualifiers:e.topQualifiers})))}function ne(e){var t=e.permissionTemplates.map((function(t){return n.createElement(re,{key:t.id,refresh:e.refresh,template:t,topQualifiers:e.topQualifiers})}));return n.createElement("div",{className:"boxed-group boxed-group-inner"},n.createElement("table",{className:"data zebra permissions-table",id:"permission-templates"},n.createElement(U,{permissions:e.permissions}),n.createElement("tbody",null,t)))}function ae(e){return n.createElement("div",{className:"page page-limited"},n.createElement(a.a,{defer:!1,title:Object(s.translate)("permission_templates.page")}),n.createElement(x,{ready:e.ready,refresh:e.refresh}),n.createElement(ne,{permissionTemplates:e.permissionTemplates,permissions:e.permissions,refresh:e.refresh,topQualifiers:e.topQualifiers}))}var oe=r(1327),se=r(1301),ie=r(967);function le(e){var t=e.template;return n.createElement("div",{className:"big-spacer-bottom"},t.defaultFor.length>0&&n.createElement("div",{className:"spacer-top js-defaults"},n.createElement(Z,{template:t})),!!t.description&&n.createElement("div",{className:"spacer-top js-description"},t.description),!!t.projectKeyPattern&&n.createElement("div",{className:"spacer-top js-project-key-pattern"},"Project Key Pattern: ",n.createElement("code",null,t.projectKeyPattern)))}function pe(e){var t=e.template;return n.createElement("header",{className:"page-header",id:"project-permissions-header"},n.createElement("div",{className:"note spacer-bottom"},n.createElement(Y.c,{className:"text-muted",to:"/permission_templates"},Object(s.translate)("permission_templates.page"))),n.createElement("h1",{className:"page-title"},t.name),e.loading&&n.createElement("i",{className:"spinner"}),n.createElement("div",{className:"pull-right"},n.createElement(X,{fromDetails:!0,permissionTemplate:t,refresh:e.refresh,topQualifiers:e.topQualifiers})))}var ce=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ue=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,i=o.length;s<i;s++,a++)n[a]=o[s];return n},me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={filter:"all",groups:[],loading:!1,query:"",users:[]},t.requestHolders=function(e){t.setState({loading:!0});var r=t.props.template,n=t.state,a=n.query,o=n.filter,s=n.selectedPermission,l=[],p=null!=e?e:a;return"groups"!==o?l.push(i.k(r.id,p,s)):l.push(Promise.resolve([])),"users"!==o?l.push(i.j(r.id,p,s)):l.push(Promise.resolve([])),Promise.all(l).then((function(e){var r=e[0],n=e[1];t.mounted&&t.setState({users:r,groups:n,loading:!1})}))},t.handleToggleUser=function(e,r){if("<creator>"===e.login)return t.handleToggleProjectCreator(e,r);var n=t.props.template,a=e.permissions.includes(r),o={templateId:n.id,login:e.login,permission:r};return(a?i.w(o):i.r(o)).then((function(){return t.requestHolders()})).then(t.props.refresh)},t.handleToggleProjectCreator=function(e,r){var n=t.props.template;return(e.permissions.includes(r)?i.s(n.id,r):i.a(n.id,r)).then((function(){return t.requestHolders()})).then(t.props.refresh)},t.handleToggleGroup=function(e,r){var n=t.props.template,a=e.permissions.includes(r),o={templateId:n.id,groupName:e.name,permission:r};return(a?i.v(o):i.q(o)).then((function(){return t.requestHolders()})).then(t.props.refresh)},t.handleSearch=function(e){t.setState({query:e}),t.requestHolders(e)},t.handleFilter=function(e){t.setState({filter:e},t.requestHolders)},t.handleSelectPermission=function(e){e===t.state.selectedPermission?t.setState({selectedPermission:void 0},t.requestHolders):t.setState({selectedPermission:e},t.requestHolders)},t.shouldDisplayCreator=function(e){var r=t.state,n=r.filter,a=r.query,o=r.selectedPermission,i=Object(s.translate)("permission_templates.project_creators"),l="all"!==n,p=!a||i.toLocaleLowerCase().includes(a.toLowerCase()),c=void 0===o||e.includes(o);return!l&&p&&c},t}return ce(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.requestHolders()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=Object(ie.d)(ie.b,"projects_role"),t=ue(this.state.users),r=this.props.template.permissions.filter((function(e){return e.withProjectCreator})).map((function(e){return e.key}));if(this.shouldDisplayCreator(r)){var o={login:"<creator>",name:Object(s.translate)("permission_templates.project_creators"),permissions:r};t.unshift(o)}return n.createElement("div",{className:"page page-limited"},n.createElement(a.a,{defer:!1,title:this.props.template.name}),n.createElement(pe,{loading:this.state.loading,refresh:this.props.refresh,template:this.props.template,topQualifiers:this.props.topQualifiers}),n.createElement(le,{template:this.props.template}),n.createElement(oe.a,{groups:this.state.groups,onSelectPermission:this.handleSelectPermission,onToggleGroup:this.handleToggleGroup,onToggleUser:this.handleToggleUser,permissions:e,selectedPermission:this.state.selectedPermission,showPublicProjectsWarning:!0,users:t},n.createElement(se.a,{filter:this.state.filter,onFilter:this.handleFilter,onSearch:this.handleSearch,query:this.state.query})))},t}(n.PureComponent),de=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fe=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function i(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))},he=function(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={ready:!1,permissions:[],permissionTemplates:[]},t.requestPermissions=function(){return fe(t,void 0,void 0,(function(){var e,t,r,n,a,o;return he(this,(function(s){switch(s.label){case 0:return[4,Object(i.l)()];case 1:return e=s.sent(),t=e.permissions,r=e.defaultTemplates,n=e.permissionTemplates,this.mounted&&(a=f(t),o=y(h(n,a),r),this.setState({ready:!0,permissionTemplates:o,permissions:a})),[2]}}))}))},t}return de(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.requestPermissions()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.renderTemplate=function(e){if(!this.state.ready)return null;var t=this.state.permissionTemplates.find((function(t){return t.id===e}));return t?n.createElement(me,{refresh:this.requestPermissions,template:t,topQualifiers:this.props.topQualifiers}):null},t.prototype.renderHome=function(){return n.createElement(ae,{permissionTemplates:this.state.permissionTemplates,permissions:this.state.permissions,ready:this.state.ready,refresh:this.requestPermissions,topQualifiers:this.props.topQualifiers})},t.prototype.render=function(){var e=this.props.location.query.id;return n.createElement("div",null,n.createElement(l.a,{suggestions:"permission_templates"}),n.createElement(a.a,{defer:!1,title:Object(s.translate)("permission_templates.page")}),e&&this.renderTemplate(e),!e&&this.renderHome())},t}(n.PureComponent);t.default=Object(o.b)((function(e){return{topQualifiers:Object(p.getAppState)(e).qualifiers}}))(ye)},690:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n,a=r(13),o=r(728),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function i(e){var t=e.suggestions;return a.createElement(o.a.Consumer,null,(function(e){var r=e.addSuggestions,n=e.removeSuggestions;return a.createElement(l,{addSuggestions:r,removeSuggestions:n,suggestions:t})}))}var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.componentDidMount=function(){this.props.addSuggestions(this.props.suggestions)},t.prototype.componentDidUpdate=function(e){e.suggestions!==this.props.suggestions&&(this.props.removeSuggestions(this.props.suggestions),this.props.addSuggestions(e.suggestions))},t.prototype.componentWillUnmount=function(){this.props.removeSuggestions(this.props.suggestions)},t.prototype.render=function(){return null},t}(a.PureComponent)}}]);
//# sourceMappingURL=357.1648830816893.chunk.js.map