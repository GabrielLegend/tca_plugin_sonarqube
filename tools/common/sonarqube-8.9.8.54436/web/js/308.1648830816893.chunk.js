(window.webpackJsonp=window.webpackJsonp||[]).push([[308],{1107:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(49),r=n(673);function i(e){return Object(a.getJSON)("/api/new_code_periods/show",e).catch(r.a)}function o(e){return Object(a.post)("/api/new_code_periods/set",e).catch(r.a)}function s(e){return Object(a.post)("/api/new_code_periods/unset",e).catch(r.a)}function l(e){return Object(a.getJSON)("/api/new_code_periods/list",e).catch(r.a)}},1108:function(e,t,n){"use strict";function a(e){var t=parseInt(e,10);return!(e.length<1||isNaN(t)||t<1||String(t)!==e)}function r(e){var t=e.analysis,n=e.days,a=e.referenceBranch;switch(e.type){case"NUMBER_OF_DAYS":return n;case"REFERENCE_BRANCH":return a;case"SPECIFIC_ANALYSIS":return t;default:return}}function i(e){var t=e.analysis,n=void 0===t?"":t,r=e.currentSetting,i=e.currentSettingValue,o=e.days,s=e.overrideGeneralSetting,l=e.referenceBranch,c=void 0===l?"":l,u=e.selected;return{isChanged:r||void 0===s?!1===s||u!==r||"NUMBER_OF_DAYS"===u&&o!==i||"SPECIFIC_ANALYSIS"===u&&n!==i||"REFERENCE_BRANCH"===u&&c!==i:s,isValid:!1===s||"PREVIOUS_VERSION"===u||"SPECIFIC_ANALYSIS"===u&&n.length>0||"NUMBER_OF_DAYS"===u&&a(o)||"REFERENCE_BRANCH"===u&&c.length>0}}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i}))},1153:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(13),r=n(1008),i=n.n(r),o=n(899),s=n.n(o),l=n(695),c=n.n(l),u=n(176);function p(e){var t=e.className,n=e.days,r=e.disabled,o=e.isChanged,l=e.isValid,p=e.onChangeDays,m=e.onSelect,d=e.selected;return a.createElement(i.a,{className:t,disabled:r,onClick:function(){return m("NUMBER_OF_DAYS")},selected:d,title:Object(u.translate)("baseline.number_days")},a.createElement(a.Fragment,null,a.createElement("p",{className:"big-spacer-bottom"},Object(u.translate)("baseline.number_days.description")),d&&a.createElement(a.Fragment,null,a.createElement(c.a,null),a.createElement(s.a,{error:void 0,id:"baseline_number_of_days",isInvalid:o&&!l,isValid:o&&l,label:Object(u.translate)("baseline.specify_days"),required:!0},a.createElement("input",{onChange:function(e){return p(e.currentTarget.value)},type:"text",value:n})))))}},1154:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(13),r=n(1008),i=n.n(r),o=n(176);function s(e){var t=e.disabled,n=e.isDefault,r=e.onSelect,s=e.selected;return a.createElement(i.a,{disabled:t,onClick:function(){return r("PREVIOUS_VERSION")},selected:s,title:Object(o.translate)("baseline.previous_version")+(n?" ("+Object(o.translate)("default")+")":"")},a.createElement("p",null,Object(o.translate)("baseline.previous_version.description")))}},2115:function(e,t,n){var a=n(662),r=n(2116);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},o=(a(r,i),r.locals?r.locals:{});e.exports=o},2116:function(e,t,n){(t=n(663)(!1)).push([e.i,"#settings-page .layout-page-side,#settings-page .layout-page-side-outer{width:calc(50vw - 480px);border-right:none}#settings-page .layout-page-side-inner{width:160px;margin-left:calc(50vw - 639px)}#settings-page .layout-page-main{padding:0}#settings-page .layout-page-main-inner{max-width:1110px}#settings-page .top-bar-outer{height:80px}#settings-page .top-bar{background-color:#f3f3f3;position:fixed;z-index:55;left:0;right:0}#settings-page .top-bar-inner{max-width:1280px;margin:0 auto;height:80px;box-sizing:border-box}#settings-page .page-description,#settings-page .page-title{float:none}.settings-definitions-list>li+li{margin-top:30px}.settings-definition{margin:0 -20px;padding:10px 20px;border-top:1px solid transparent;border-bottom:1px solid transparent;display:flex;align-items:stretch}.settings-definition-changed{border-top:1px solid #faebcc;border-bottom:1px solid #faebcc;background-color:#fcf8e3}.settings-definition-left{width:330px;padding-right:30px;box-sizing:border-box}.settings-definition-right{position:relative;width:calc(100% - 330px);box-sizing:border-box}.settings-definition-name{text-overflow:ellipsis}.settings-definition-key{line-height:1.5;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.settings-definition-key:hover{overflow:visible}.settings-definition-state{min-height:32px;padding-bottom:4px}.settings-definition-state>span{display:flex}.settings-definition-changes{margin-top:20px;padding-top:20px;border-top:1px dotted #e6e6e6}.settings-sub-categories-list>li+li,.settings-sub-category{margin:30px -20px 0;padding:30px 20px;border-top:1px solid #e6e6e6}.settings-sub-category-name{margin-bottom:20px;font-size:16px}.settings-sub-category-description{margin-top:-15px;margin-bottom:20px;color:#666}.settings-large-input{width:100%!important;max-width:400px;min-width:200px}.side-tabs-menu{margin-top:16px}.side-tabs-menu>li{margin-bottom:4px}.side-tabs-menu>li>a{display:block;padding:10px;line-height:1.5;border-top-left-radius:3px;border-bottom-left-radius:3px;border:1px solid #e6e6e6;border-right:none;overflow:hidden;text-overflow:ellipsis;transition:color .3s ease,background-color .3s ease}.side-tabs-menu>li>a.active,.side-tabs-menu>li>a:focus,.side-tabs-menu>li>a:hover{background-color:#fff}.side-tabs-menu>li>a.active{color:#333;cursor:default}@media (max-width:1320px){#settings-page .layout-page-side,#settings-page .layout-page-side-outer{width:180px}#settings-page .layout-page-side-inner{margin-left:20px}#settings-page .top-bar-inner{margin:0 20px}}",""]),e.exports=t},2175:function(e,t,n){"use strict";n.r(t),n.d(t,"App",(function(){return Ln}));var a=n(838),r=n.n(a),i=n(13),o=n(684),s=n(674),l=n(176),c=n(776),u=n(690),p=n(797),m=n(676),d=n(49),f=n(800),g=n(765),b=n(780),h=n(1359),y=n(1174),v=n(1175);function E(e,t){return function(n){return t(Object(y.j)(e)),Object(d.parseError)(n).then((function(n){return t(Object(y.d)(e,n)),Promise.reject()}))}}n(2115);var O,j=n(968),_=n(832),C=n(789),k=n(716),S=n(719),N=n(985),w=n.n(N),D=n(687),F=n(665),P=n(667),A=n(727),x=n(661),B=n(668),V=n.n(B),L=n(672),R=n.n(L),I=n(666),M=n.n(I),U=n(825),T=n.n(U),z=n(804),K=n.n(z),G=n(1379),q=n.n(G),W=n(1181),H=n.n(W),J=n(671),Y=n(1019),X=n(941),Q={alertSuccess:!1,failureMessage:"",type:S.b.Validating},Z=((O={})[S.b.Failure]=i.createElement(T.a,{className:"spacer-left"}),O[S.b.Success]=i.createElement(K.a,{className:"spacer-left"}),O);function $(e){var t=e.alm,n=e.branchesEnabled,a=e.definition,r=e.multipleDefinitions,o=e.status,s=void 0===o?Q:o,c=t===S.a.GitLab?Object(l.translate)("settings.almintegration.feature.mr_decoration.title"):Object(l.translate)("settings.almintegration.feature.pr_decoration.title"),u=t===S.a.GitLab?Object(l.translate)("settings.almintegration.feature.mr_decoration.description"):Object(l.translate)("settings.almintegration.feature.pr_decoration.description");return i.createElement("div",{className:"boxed-group-inner bordered spacer-top spacer-bottom it__alm-binding-definition"},i.createElement("div",{className:"actions pull-right"},i.createElement(x.Button,{onClick:function(){return e.onEdit(a.key)}},i.createElement(H.a,{className:"spacer-right"}),Object(l.translate)("edit")),i.createElement(x.Button,{className:"button-red spacer-left",onClick:function(){return e.onDelete(a.key)}},i.createElement(q.a,{className:"spacer-right"}),Object(l.translate)("delete"))),i.createElement("div",{className:"big-spacer-bottom"},i.createElement("h3",null,a.key),a.url&&i.createElement("span",null,a.url)),s.type===S.b.Validating?i.createElement(i.Fragment,null,i.createElement("i",{className:"spinner spacer-right"}),Object(l.translate)("settings.almintegration.checking_configuration")):i.createElement(i.Fragment,null,s.type!==S.b.Warning&&i.createElement("div",{className:"display-flex-row spacer-bottom"},i.createElement("div",{className:"huge-spacer-right"},i.createElement(M.a,{overlay:u},i.createElement("span",null,c)),function(e,t){return e?Z[t]:i.createElement("div",{className:"display-inline-flex-center"},i.createElement("strong",{className:"spacer-left"},Object(l.translate)("settings.almintegration.feature.pr_decoration.disabled")),i.createElement(R.a,{className:"little-spacer-left",overlay:i.createElement(F.FormattedMessage,{id:"settings.almintegration.feature.pr_decoration.disabled.no_branches",defaultMessage:Object(l.translate)("settings.almintegration.feature.pr_decoration.disabled.no_branches"),values:{link:i.createElement("a",{href:Object(Y.e)(Object(Y.b)(X.a.developer),{sourceEdition:X.a.community}),rel:"noopener noreferrer",target:"_blank"},Object(l.translate)("settings.almintegration.feature.pr_decoration.disabled.no_branches.link"))}})}))}(n,s.type)),A.b.includes(t)&&i.createElement("div",null,i.createElement(M.a,{overlay:Object(l.translate)("settings.almintegration.feature.alm_repo_import.description")},i.createElement("span",null,Object(l.translate)("settings.almintegration.feature.alm_repo_import.title"))),function(e,t,n){return t?i.createElement("div",{className:"display-inline-flex-center"},i.createElement("strong",{className:"spacer-left"},Object(l.translate)("settings.almintegration.feature.alm_repo_import.disabled")),i.createElement(R.a,{className:"little-spacer-left",overlay:Object(l.translate)("settings.almintegration.feature.alm_repo_import.disabled.multiple")})):e.url?Z[n]:i.createElement("div",{className:"display-inline-flex-center"},i.createElement("strong",{className:"spacer-left"},Object(l.translate)("settings.almintegration.feature.alm_repo_import.disabled")),i.createElement(R.a,{className:"little-spacer-left",overlay:Object(l.translate)("settings.almintegration.feature.alm_repo_import.disabled.no_url")}))}(a,r,s.type))),i.createElement("div",{className:"width-50"},s.type===S.b.Warning&&i.createElement(J.Alert,{variant:"warning"},Object(l.translate)("settings.almintegration.could_not_validate")),s.type===S.b.Failure&&i.createElement(J.Alert,{variant:"error"},s.failureMessage),s.type===S.b.Success&&s.alertSuccess&&i.createElement(J.Alert,{variant:"success"},Object(l.translate)("settings.almintegration.configuration_valid"))),i.createElement(x.Button,{className:"big-spacer-top",onClick:function(){return e.onCheck(a.key)}},Object(l.translate)("settings.almintegration.check_configuration"))))}var ee=n(815),te=n.n(ee),ne=n(933),ae=n.n(ne),re=n(680),ie=n.n(re);function oe(e){var t=e.action,n=e.children,a=e.help,r=e.isSecondInstance,o=Object(l.translate)("settings.almintegration.form.header",t);return i.createElement(ie.a,{contentLabel:o,onRequestClose:e.onCancel,shouldCloseOnOverlayClick:!1,size:"medium"},i.createElement("form",{className:"views-form",onSubmit:function(t){t.preventDefault(),e.onSubmit()}},i.createElement("div",{className:"modal-head"},i.createElement("h2",null,o)),i.createElement("div",{className:"modal-body modal-container"},r&&"create"===t&&i.createElement(J.Alert,{className:"big-spacer-bottom",variant:"warning"},Object(l.translate)("settings.almintegration.form.second_instance_warning")),i.createElement("div",{className:"display-flex-start"},i.createElement("div",{className:"flex-1"},n),a?i.createElement(J.Alert,{className:"huge-spacer-left flex-1",variant:"info"},a):i.createElement("div",{className:"flex-1"}))),i.createElement("div",{className:"modal-foot"},i.createElement(x.SubmitButton,{disabled:!e.canSubmit()},Object(l.translate)("settings.almintegration.form.save")),i.createElement(x.ResetButtonLink,{onClick:e.onCancel},Object(l.translate)("cancel")))))}var se,le=(se=function(e,t){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}se(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ce=function(){return(ce=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ue=function(e){function t(t){var n=e.call(this,t)||this;return n.handleCancel=function(){n.setState({formData:n.props.bindingDefinition,touched:!1}),n.props.onCancel&&n.props.onCancel()},n.handleDelete=function(){n.props.onDelete&&n.props.onDelete(n.props.bindingDefinition.key)},n.handleEdit=function(){n.props.onEdit&&n.props.onEdit(n.props.bindingDefinition.key)},n.handleFieldChange=function(e,t){n.setState((function(n){var a,r=n.formData;return{formData:ce(ce({},r),(a={},a[e]=t,a)),touched:!0}}))},n.handleFormSubmit=function(){n.props.onSubmit(n.state.formData,n.props.bindingDefinition.key)},n.canSubmit=function(){var e=n.props.optionalFields,t=n.state,a=t.formData,r=t.touched,i=ce({},a);return e&&e.length>0&&(i=te()(i,e)),r&&!Object.values(i).some((function(e){return!e}))},n.state={formData:t.bindingDefinition,touched:!1},n}return le(t,e),t.prototype.componentDidUpdate=function(e){ae()(e.bindingDefinition,this.props.bindingDefinition)||this.setState({formData:this.props.bindingDefinition,touched:!1})},t.prototype.render=function(){var e=this.props,t=e.bindingDefinition,n=e.children,a=e.help,r=e.isSecondInstance,o=this.state.formData,s=t.key?"edit":"create";return i.createElement(oe,{action:s,canSubmit:this.canSubmit,help:a,isSecondInstance:Boolean(r),onCancel:this.handleCancel,onSubmit:this.handleFormSubmit},n({formData:o,onFieldChange:this.handleFieldChange}))},t}(i.PureComponent);var pe=Object(C.a)((function(e){var t=e.alm,n=e.appState.edition,a=e.children,r=e.preventCreation,o=n?X.a[n]:void 0;return i.createElement(M.a,{overlay:r?i.createElement(F.FormattedMessage,{id:"settings.almintegration.create.tooltip",defaultMessage:Object(l.translate)("settings.almintegration.create.tooltip"),values:{link:i.createElement("a",{href:Object(Y.e)(Object(Y.b)(X.a.enterprise),{sourceEdition:o}),rel:"noopener noreferrer",target:"_blank"},Object(l.translate)("settings.almintegration.create.tooltip.link")),alm:Object(l.translate)("alm",t)}}):null,mouseLeaveDelay:.25},a)}));function me(e){var t=e.alm,n=e.branchesEnabled,a=e.definitions,r=e.definitionStatus,o=e.editedDefinition,s=e.form,c=e.loadingAlmDefinitions,u=e.loadingProjectCount,p=e.multipleAlmEnabled,m=e.optionalFields,d=e.help,f=u||!p&&a.length>0;return i.createElement("div",{className:"big-padded"},i.createElement(V.a,{loading:c},0===a.length&&i.createElement("p",{className:"spacer-top"},Object(l.translate)("settings.almintegration.empty",t)),i.createElement("div",{className:a.length>0?"spacer-bottom text-right":"big-spacer-top"},i.createElement(pe,{alm:t,preventCreation:f},i.createElement(x.Button,{"data-test":"settings__alm-create",disabled:f,onClick:e.onCreate},Object(l.translate)("settings.almintegration.create")))),a.map((function(o){return i.createElement($,{alm:Object(S.d)(o)?S.a.BitbucketCloud:t,branchesEnabled:n,definition:o,key:o.key,multipleDefinitions:a.length>1,onCheck:e.onCheck,onDelete:e.onDelete,onEdit:e.onEdit,status:r[o.key]})})),o&&i.createElement(ue,{bindingDefinition:o,help:d,isSecondInstance:1===a.length,onCancel:e.onCancel,onSubmit:e.onSubmit,optionalFields:m},s)))}var de=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),fe=function(){return(fe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={submitting:!1,success:!1},t.handleCancel=function(){t.setState({editedDefinition:void 0,success:!1})},t.handleCreate=function(){t.setState({editedDefinition:t.props.defaultBinding,success:!1})},t.handleEdit=function(e){var n=t.props.definitions.find((function(t){return t.key===e}));t.setState({editedDefinition:n,success:!1})},t.handleSubmit=function(e,n){var a=n?t.props.updateConfiguration(fe(fe({newKey:e.key},e),{key:n})):t.props.createConfiguration(fe({},e));return t.setState({submitting:!0}),a.then((function(){t.mounted&&t.setState({editedDefinition:void 0,submitting:!1,success:!0})})).then(t.props.onUpdateDefinitions).then((function(){t.props.onCheck(e.key)})).catch((function(){t.mounted&&t.setState({submitting:!1,success:!1})}))},t}return de(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.alm,n=e.branchesEnabled,a=e.definitions,r=e.definitionStatus,o=e.form,s=e.help,l=e.loadingAlmDefinitions,c=e.loadingProjectCount,u=e.multipleAlmEnabled,p=e.optionalFields,m=this.state,d=m.editedDefinition,f=m.submitting,g=m.success;return i.createElement(me,{alm:t,branchesEnabled:n,definitions:a,definitionStatus:r,editedDefinition:d,form:o,help:s,loadingAlmDefinitions:l,loadingProjectCount:c,multipleAlmEnabled:u,onCancel:this.handleCancel,onCheck:this.props.onCheck,onCreate:this.handleCreate,onDelete:this.props.onDelete,onEdit:this.handleEdit,onSubmit:this.handleSubmit,optionalFields:p,submitting:f,success:g})},t}(i.PureComponent),be=n(688),he=n.n(be);function ye(e){var t=e.autoFocus,n=e.help,a=e.id,r=e.isTextArea,o=e.maxLength,s=e.optional,c=e.overwriteOnly,u=void 0!==c&&c,p=e.propKey,m=e.value,d=i.useState(!u),f=d[0],g=d[1];return i.createElement("div",{className:"modal-field"},i.createElement("label",{className:"display-flex-center",htmlFor:a},Object(l.translate)("settings.almintegration.form",a),!s&&i.createElement(he.a,null),n&&i.createElement(R.a,{className:"spacer-left",overlay:n,placement:"right"})),!f&&u&&i.createElement("div",null,i.createElement("p",null,Object(l.translate)("settings.almintegration.form.secret_field")),i.createElement(x.ButtonLink,{onClick:function(){e.onFieldChange(p,""),g(!0)}},Object(l.translate)("settings.almintegration.form.update_secret_field"))),f&&r&&i.createElement("textarea",{className:"settings-large-input",id:a,maxLength:o||2e3,onChange:function(t){return e.onFieldChange(p,t.currentTarget.value)},required:!s,rows:5,value:m}),f&&!r&&i.createElement("input",{autoFocus:t,className:"input-super-large",id:a,maxLength:o||100,name:a,onChange:function(t){return e.onFieldChange(p,t.currentTarget.value)},size:50,type:"text",value:m}))}function ve(e){var t=e.formData,n=e.onFieldChange;return i.createElement(i.Fragment,null,i.createElement(ye,{autoFocus:!0,help:Object(l.translate)("settings.almintegration.form.name.azure.help"),id:"name.azure",onFieldChange:n,propKey:"key",value:t.key}),i.createElement(ye,{help:i.createElement(i.Fragment,null,Object(l.translate)("settings.almintegration.form.url.azure.help1"),i.createElement("br",null),i.createElement("em",null,"https://ado.your-company.com/your_collection"),i.createElement("br",null),i.createElement("br",null),Object(l.translate)("settings.almintegration.form.url.azure.help2"),i.createElement("br",null),i.createElement("em",null,"https://dev.azure.com/your_organization")),id:"url.azure",maxLength:2e3,onFieldChange:n,propKey:"url",value:t.url||""}),i.createElement(ye,{help:Object(l.translate)("settings.almintegration.form.personal_access_token.azure.help"),id:"personal_access_token",isTextArea:!0,onFieldChange:n,overwriteOnly:Boolean(t.key),propKey:"personalAccessToken",value:t.personalAccessToken}))}var Ee=function(){return(Ee=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Oe(e){var t=e.branchesEnabled,n=e.multipleAlmEnabled,a=e.definitions,r=e.definitionStatus,o=e.loadingAlmDefinitions,s=e.loadingProjectCount;return i.createElement("div",{className:"bordered"},i.createElement(ge,{alm:S.a.Azure,branchesEnabled:t,createConfiguration:_.b,defaultBinding:{key:"",personalAccessToken:"",url:""},definitions:a,definitionStatus:r,form:function(e){return i.createElement(ve,Ee({},e))},help:i.createElement(F.FormattedMessage,{defaultMessage:Object(l.translate)("settings.almintegration.azure.info"),id:"settings.almintegration.azure.info",values:{link:i.createElement(P.c,{target:"_blank",to:A.a[S.a.Azure]},Object(l.translate)("learn_more"))}}),loadingAlmDefinitions:o,loadingProjectCount:s,multipleAlmEnabled:n,onCheck:e.onCheck,onDelete:e.onDelete,onUpdateDefinitions:e.onUpdateDefinitions,updateConfiguration:_.r}))}var je=n(756),_e=n.n(je);function Ce(e){var t=e.formData,n=e.isCreating,a=e.variant;return i.createElement("div",null,n&&i.createElement(i.Fragment,null,i.createElement("strong",null,Object(l.translate)("settings.almintegration.form.choose_bitbucket_variant")),i.createElement(_e.a,{className:"little-spacer-top big-spacer-bottom",name:"variant",onCheck:e.onSelectVariant,options:[{label:"Bitbucket Server",value:S.a.BitbucketServer},{label:"Bitbucket Cloud",value:S.a.BitbucketCloud}],value:a})),a===S.a.BitbucketServer&&Object(S.c)(t)&&i.createElement("div",null,i.createElement(ye,{autoFocus:!0,help:Object(l.translate)("settings.almintegration.form.name.bitbucket.help"),id:"name.bitbucket",maxLength:100,onFieldChange:e.onFieldChange,propKey:"key",value:t.key}),i.createElement(ye,{help:i.createElement(F.FormattedMessage,{defaultMessage:Object(l.translate)("settings.almintegration.form.url.bitbucket.help"),id:"settings.almintegration.form.url.bitbucket.help",values:{example:"https://bitbucket-server.your-company.com"}}),id:"url.bitbucket",maxLength:2e3,onFieldChange:e.onFieldChange,propKey:"url",value:t.url}),i.createElement(ye,{id:"personal_access_token",isTextArea:!0,onFieldChange:e.onFieldChange,overwriteOnly:Boolean(t.key),propKey:"personalAccessToken",value:t.personalAccessToken})),a===S.a.BitbucketCloud&&Object(S.d)(t)&&i.createElement("div",null,i.createElement(ye,{autoFocus:!0,help:Object(l.translate)("settings.almintegration.form.name.bitbucketcloud.help"),id:"name.bitbucket",maxLength:100,onFieldChange:e.onFieldChange,propKey:"key",value:t.key}),i.createElement(ye,{help:i.createElement(F.FormattedMessage,{defaultMessage:Object(l.translate)("settings.almintegration.form.workspace.bitbucketcloud.help"),id:"settings.almintegration.form.workspace.bitbucketcloud.help",values:{example:i.createElement(i.Fragment,null,"https://bitbucket.org/",i.createElement("strong",null,"{workspace}"),"/{repository}")}}),id:"workspace.bitbucketcloud",maxLength:2e3,onFieldChange:e.onFieldChange,propKey:"workspace",value:t.workspace}),i.createElement(ye,{id:"client_id.bitbucketcloud",onFieldChange:e.onFieldChange,propKey:"clientId",value:t.clientId}),i.createElement(ye,{id:"client_secret.bitbucketcloud",onFieldChange:e.onFieldChange,overwriteOnly:Boolean(t.key),propKey:"clientSecret",value:t.clientSecret})))}var ke=function(){return(ke=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Se(e){var t,n=e.branchesEnabled,a=e.editedDefinition,r=e.definitions,o=e.definitionStatus,s=e.isCreating,c=e.loadingAlmDefinitions,u=e.loadingProjectCount,p=e.multipleAlmEnabled,m=e.submitting,d=e.success,f=e.variant;return f===S.a.BitbucketServer?t=i.createElement(i.Fragment,null,i.createElement("h3",null,Object(l.translate)("onboarding.create_project.pat_help.title")),i.createElement("p",{className:"big-spacer-top"},Object(l.translate)("settings.almintegration.bitbucket.help_1")),i.createElement("ul",{className:"big-spacer-top list-styled"},i.createElement("li",null,Object(l.translate)("settings.almintegration.bitbucket.help_2")),i.createElement("li",null,Object(l.translate)("settings.almintegration.bitbucket.help_3"))),i.createElement("p",{className:"big-spacer-top big-spacer-bottom"},i.createElement(P.c,{target:"_blank",to:A.a[S.a.BitbucketServer]},Object(l.translate)("learn_more")))):f===S.a.BitbucketCloud&&(t=i.createElement(F.FormattedMessage,{defaultMessage:Object(l.translate)("settings.almintegration.bitbucketcloud.info"),id:"settings.almintegration.bitbucketcloud.info",values:{link:i.createElement(P.c,{target:"_blank",to:A.a[S.a.BitbucketCloud]},Object(l.translate)("learn_more"))}})),i.createElement("div",{className:"bordered"},i.createElement(me,{branchesEnabled:n,alm:S.a.BitbucketServer,definitions:r,definitionStatus:o,editedDefinition:a,form:function(t){return i.createElement(Ce,ke({isCreating:s,onSelectVariant:e.onSelectVariant,variant:f},t))},help:t,loadingAlmDefinitions:c,loadingProjectCount:u,multipleAlmEnabled:p,onCancel:e.onCancel,onCheck:e.onCheck,onCreate:e.onCreate,onDelete:e.onDelete,onEdit:e.onEdit,onSubmit:e.onSubmit,submitting:m,success:d}))}var Ne=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),we=function(){return(we=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},De={key:"",url:"",personalAccessToken:""},Fe={key:"",clientId:"",clientSecret:"",workspace:""},Pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={isCreating:!1,submitting:!1,success:!1},t.handleCancel=function(){t.setState({editedDefinition:void 0,isCreating:!1,success:!1,variant:void 0})},t.handleCreate=function(){t.setState({editedDefinition:De,isCreating:!0,success:!1,variant:void 0})},t.handleSelectVariant=function(e){t.setState({variant:e,editedDefinition:e===S.a.BitbucketServer?De:Fe})},t.handleEdit=function(e){var n=t.props.definitions.find((function(t){return t.key===e})),a=Object(S.c)(n)?S.a.BitbucketServer:S.a.BitbucketCloud;t.setState({editedDefinition:n,variant:a,success:!1})},t.handleSubmit=function(e,n){var a=n?t.updateConfiguration(we(we({newKey:e.key},e),{key:n})):t.createConfiguration(we({},e));return t.setState({submitting:!0}),a.then((function(){t.mounted&&t.setState({editedDefinition:void 0,isCreating:!1,submitting:!1,success:!0})})).then(t.props.onUpdateDefinitions).then((function(){t.props.onCheck(e.key)})).catch((function(){t.mounted&&t.setState({submitting:!1,success:!1})}))},t.updateConfiguration=function(e){return Object(S.c)(e)?Object(_.t)(e):Object(_.s)(e)},t.createConfiguration=function(e){return Object(S.c)(e)?Object(_.d)(e):Object(_.c)(e)},t}return Ne(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.branchesEnabled,n=e.definitions,a=e.definitionStatus,r=e.loadingAlmDefinitions,o=e.loadingProjectCount,s=e.multipleAlmEnabled,l=this.state,c=l.editedDefinition,u=l.isCreating,p=l.submitting,m=l.success,d=l.variant;return i.createElement(Se,{branchesEnabled:t,definitions:n,definitionStatus:a,editedDefinition:c,isCreating:u,loadingAlmDefinitions:r,loadingProjectCount:o,multipleAlmEnabled:s,onCancel:this.handleCancel,onCheck:this.props.onCheck,onCreate:this.handleCreate,onDelete:this.props.onDelete,onEdit:this.handleEdit,onSelectVariant:this.handleSelectVariant,onSubmit:this.handleSubmit,submitting:p,success:m,variant:d})},t}(i.PureComponent),Ae=n(706),xe=n.n(Ae);function Be(e){var t=e.id,n=e.onDelete,a=e.onCancel,r=e.projectCount;return i.createElement(xe.a,{confirmButtonText:Object(l.translate)("delete"),confirmData:t,header:Object(l.translate)("settings.almintegration.delete.header"),isDestructive:!0,onClose:a,onConfirm:n},i.createElement(i.Fragment,null,i.createElement("p",{className:"spacer-bottom"},i.createElement(F.FormattedMessage,{defaultMessage:Object(l.translate)("settings.almintegration.delete.message"),id:"settings.almintegration.delete.message",values:{id:i.createElement("b",null,t)}})),function(e){return void 0===e?i.createElement("p",null,Object(l.translate)("settings.almintegration.delete.no_info")):e?i.createElement("p",null,Object(l.translateWithParameters)("settings.almintegration.delete.info",e)," "):null}(r)))}var Ve=n(679),Le=n.n(Ve),Re=n(733),Ie=n.n(Re),Me=n(760),Ue=n(660),Te=n.n(Ue),ze=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ke=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={reseting:!1},t.handleClose=function(){t.setState({reseting:!1})},t.handleReset=function(){t.setState({reseting:!0})},t.handleSubmit=function(){t.props.onReset(),t.handleClose()},t}return ze(t,e),t.prototype.renderModal=function(){var e=Object(l.translate)("settings.reset_confirm.title");return i.createElement(ie.a,{contentLabel:e,onRequestClose:this.handleClose},i.createElement("header",{className:"modal-head"},i.createElement("h2",null,e)),i.createElement("form",{onSubmit:this.handleSubmit},i.createElement("div",{className:"modal-body"},i.createElement("p",null,Object(l.translate)("settings.reset_confirm.description"))),i.createElement("footer",{className:"modal-foot"},i.createElement(x.SubmitButton,{className:"button-red"},Object(l.translate)("reset_verb")),i.createElement(x.ResetButtonLink,{onClick:this.handleClose},Object(l.translate)("cancel")))))},t.prototype.render=function(){var e=this.props,t=e.setting,n=e.isDefault,a=e.changedValue,r=e.hasValueChanged,o=!Object(b.m)(t.definition,Object(b.g)(t)),s=null!=a&&Object(b.m)(t.definition,a),c=o&&(s||!n&&!r);return i.createElement(i.Fragment,null,n&&!r&&i.createElement("div",{className:"spacer-top note",style:{lineHeight:"24px"}},Object(l.translate)("settings._default")),i.createElement("div",{className:"settings-definition-changes nowrap"},r&&i.createElement(x.Button,{className:"spacer-right button-success",disabled:this.props.hasError,onClick:this.props.onSave},Object(l.translate)("save")),c&&i.createElement(x.Button,{className:"spacer-right",onClick:this.handleReset},Object(l.translate)("reset_verb")),r&&i.createElement(x.ResetButtonLink,{className:"spacer-right",onClick:this.props.onCancel},Object(l.translate)("cancel")),c&&i.createElement("span",{className:"note"},Object(l.translate)("default"),": ",Object(b.c)(t)),this.state.reseting&&this.renderModal()))},t}(i.PureComponent),Ge=n(1309),qe=n.n(Ge);function We(e){var t=e.onChange,n=e.name,a=e.value,r=null!=a&&a;return i.createElement("div",{className:"display-inline-block text-top"},i.createElement(qe.a,{name:n,onChange:t,value:r}),null==a&&i.createElement("span",{className:"spacer-left note"},Object(l.translate)("settings.not_set")))}var He=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={formatError:!1},t.handleInputChange=function(e){t.setState({formatError:!1}),t.props.onChange(e.target.value)},t.format=function(){var e=t.props.value;try{e&&t.props.onChange(JSON.stringify(JSON.parse(e),void 0,4))}catch(e){t.setState({formatError:!0})}},t}return He(t,e),t.prototype.render=function(){var e=this.state.formatError;return i.createElement("div",{className:"display-flex-end"},i.createElement("textarea",{className:"settings-large-input text-top monospaced spacer-right",name:this.props.name,onChange:this.handleInputChange,rows:5,value:this.props.value||""}),i.createElement("div",null,e&&i.createElement(J.Alert,{variant:"info"},Object(l.translate)("settings.json.format_error")," "),i.createElement(x.Button,{className:"spacer-top",onClick:this.format},Object(l.translate)("settings.json.format"))))},t}(i.PureComponent),Ye=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleInputChange=function(e){t.props.onChange(e.currentTarget.value)},t.handleKeyDown=function(e){13===e.keyCode&&t.props.onSave?t.props.onSave():27===e.keyCode&&t.props.onCancel&&t.props.onCancel()},t}return Ye(t,e),t.prototype.render=function(){return i.createElement("input",{className:Ue("text-top",this.props.className),name:this.props.name,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,type:this.props.type,value:this.props.value||""})},t}(i.PureComponent),Qe=function(){return(Qe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Ze(e){return i.createElement(Xe,Qe({},e,{className:"input-small",type:"text"}))}var $e=n(1314),et=n.n($e),tt=n(698),nt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),at=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={changing:!t.props.value},t.handleInputChange=function(e){t.props.onChange(e.target.value)},t.handleChangeClick=function(){t.setState({changing:!0})},t}return nt(t,e),t.prototype.componentWillReceiveProps=function(e){!this.props.hasValueChanged&&this.props.value===e.value||e.hasValueChanged||this.setState({changing:!e.value})},t.prototype.renderInput=function(){return i.createElement("form",null,i.createElement("input",{className:"hidden",type:"password"}),i.createElement("input",{autoComplete:"off",autoFocus:this.state.changing&&this.props.value,className:"js-password-input settings-large-input text-top",name:this.props.name,onChange:this.handleInputChange,type:"password",value:this.props.value}))},t.prototype.render=function(){return this.state.changing?this.renderInput():i.createElement(i.Fragment,null,i.createElement(et.a,{className:"text-middle big-spacer-right",fill:tt.colors.gray60}),i.createElement(x.Button,{className:"text-middle",onClick:this.handleChangeClick},Object(l.translate)("change_verb")))},t}(i.PureComponent),rt=n(697),it=n.n(rt),ot=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),st=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleInputChange=function(e){var n=e.value;t.props.onChange(n)},t}return ot(t,e),t.prototype.render=function(){var e=this.props.options.map((function(e){return{label:e,value:e}}));return i.createElement(it.a,{className:"settings-large-input",clearable:!1,name:this.props.name,onChange:this.handleInputChange,options:e,value:this.props.value})},t}(i.PureComponent),lt=function(){return(lt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function ct(e){return i.createElement(Xe,lt({},e,{className:"settings-large-input",type:"text"}))}var ut=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),pt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleInputChange=function(e){t.props.onChange(e.target.value)},t}return ut(t,e),t.prototype.render=function(){return i.createElement("textarea",{className:"settings-large-input text-top",name:this.props.name,onChange:this.handleInputChange,rows:5,value:this.props.value||""})},t}(i.PureComponent),mt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),dt=function(){return(dt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ft=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},gt={STRING:ct,TEXT:pt,JSON:Je,PASSWORD:at,BOOLEAN:We,INTEGER:Ze,LONG:Ze,FLOAT:Ze},bt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mt(t,e),t.prototype.render=function(){var e=this.props,t=e.setting,n=ft(e,["setting"]),a=t.definition,r=this.props.name||Object(b.j)(a);if("SINGLE_SELECT_LIST"===a.type)return i.createElement(st,dt({isDefault:Object(b.l)(t),name:r,options:a.options},n));var o=a.type&&gt[a.type]||ct;return i.createElement(o,dt({isDefault:Object(b.l)(t),name:r},n))},t}(i.PureComponent),ht=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),yt=function(){return(yt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},vt=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,r++)a[r]=i[o];return a},Et=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ensureValue=function(){return t.props.value||[]},t.handleSingleInputChange=function(e,n){var a=vt(t.ensureValue());a.splice(e,1,n),t.props.onChange(a)},t.handleDeleteValue=function(e){var n=vt(t.ensureValue());n.splice(e,1),t.props.onChange(n)},t}return ht(t,e),t.prototype.renderInput=function(e,t,n){var a=this,r=this.props.setting;return i.createElement("li",{className:"spacer-bottom",key:t},i.createElement(bt,{hasValueChanged:this.props.hasValueChanged,onChange:function(e){return a.handleSingleInputChange(t,e)},setting:yt(yt({},r),{definition:yt(yt({},r.definition),{multiValues:!1}),values:void 0}),value:e}),!n&&i.createElement("div",{className:"display-inline-block spacer-left"},i.createElement(x.DeleteButton,{className:"js-remove-value",onClick:function(){return a.handleDeleteValue(t)}})))},t.prototype.render=function(){var e=this,t=vt(this.ensureValue(),Object(b.d)(this.props.setting.definition));return i.createElement("div",null,i.createElement("ul",null,t.map((function(n,a){return e.renderInput(n,a,a===t.length-1)}))))},t}(i.PureComponent),Ot=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),jt=function(){return(jt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},_t=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,r++)a[r]=i[o];return a},Ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDeleteValue=function(e){var n=_t(t.ensureValue());n.splice(e,1),t.props.onChange(n)},t.handleInputChange=function(e,n,a){var r,i=Object(b.d)(t.props.setting.definition)[0],o=_t(t.ensureValue()),s=jt(jt(jt({},i),o[e]),((r={})[n]=a,r));return o.splice(e,1,s),t.props.onChange(o)},t}return Ot(t,e),t.prototype.ensureValue=function(){return this.props.value||[]},t.prototype.renderFields=function(e,t,n){var a=this,r=this.props.setting,o=r.definition;return i.createElement("tr",{key:t},Object(b.k)(o)&&o.fields.map((function(n){return i.createElement("td",{key:n.key},i.createElement(bt,{hasValueChanged:a.props.hasValueChanged,name:Object(b.j)(o,n.key),onChange:function(e){return a.handleInputChange(t,n.key,e)},setting:jt(jt({},r),{definition:n,value:e[n.key]}),value:e[n.key]}))})),i.createElement("td",{className:"thin nowrap text-middle"},!n&&i.createElement(x.DeleteButton,{className:"js-remove-value",onClick:function(){return a.handleDeleteValue(t)}})))},t.prototype.render=function(){var e=this,t=this.props.setting.definition,n=_t(this.ensureValue(),Object(b.d)(t));return i.createElement("div",null,i.createElement("table",{className:"data zebra-hover no-outer-padding",style:{width:"auto",minWidth:480,marginTop:-12}},i.createElement("thead",null,i.createElement("tr",null,Object(b.k)(t)&&t.fields.map((function(e){return i.createElement("th",{key:e.key},e.name,null!=e.description&&i.createElement("span",{className:"spacer-top small"},e.description))})),i.createElement("th",null," "))),i.createElement("tbody",null,n.map((function(t,a){return e.renderFields(t,a,a===n.length-1)})))))},t}(i.PureComponent),kt=function(){return(kt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function St(e){var t=e.setting.definition;return Object(b.k)(t)&&t.multiValues?i.createElement(Et,kt({},e)):"PROPERTY_SET"===t.type?i.createElement(Ct,kt({},e)):i.createElement(bt,kt({},e))}var Nt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),wt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={success:!1},t.handleChange=function(e){clearTimeout(t.timeout),t.props.changeValue(t.props.setting.definition.key,e),t.handleCheck()},t.handleReset=function(){var e=t.props,n=e.component,a=e.setting.definition,r=n&&n.key;return t.props.resetValue(a.key,r).then((function(){t.props.cancelChange(a.key),t.safeSetState({success:!0}),t.timeout=window.setTimeout((function(){return t.safeSetState({success:!1})}),3e3)}))},t.handleCancel=function(){var e=t.props.setting;t.props.cancelChange(e.definition.key),t.props.passValidation(e.definition.key)},t.handleCheck=function(){var e=t.props.setting;t.props.checkValue(e.definition.key)},t.handleSave=function(){if(null!=t.props.changedValue){t.safeSetState({success:!1});var e=t.props,n=e.component,a=e.setting;t.props.saveValue(a.definition.key,n&&n.key).then((function(){t.safeSetState({success:!0}),t.timeout=window.setTimeout((function(){return t.safeSetState({success:!1})}),3e3)}),(function(){}))}},t}return Nt(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.safeSetState=function(e){this.mounted&&this.setState(e)},t.prototype.render=function(){var e=this.props,t=e.changedValue,n=e.loading,a=e.setting,r=e.validationMessage,o=a.definition,s=Object(b.f)(o),c=null!=r,u=null!=t,p=u?t:Object(b.g)(a),m=Object(b.l)(a),d=Object(b.e)(o);return i.createElement("div",{className:Te()("settings-definition",{"settings-definition-changed":u}),"data-key":o.key},i.createElement("div",{className:"settings-definition-left"},i.createElement("h3",{className:"settings-definition-name",title:s},s),d&&i.createElement("div",{className:"markdown small spacer-top",dangerouslySetInnerHTML:{__html:Object(Me.b)(d)}}),i.createElement("div",{className:"settings-definition-key note little-spacer-top"},Object(l.translateWithParameters)("settings.key_x",o.key))),i.createElement("div",{className:"settings-definition-right"},i.createElement("div",{className:"settings-definition-state"},n&&i.createElement("span",{className:"text-info"},i.createElement("i",{className:"spinner spacer-right"}),Object(l.translate)("settings.state.saving")),!n&&r&&i.createElement("span",{className:"text-danger"},i.createElement(T.a,{className:"spacer-right"}),i.createElement("span",null,Object(l.translateWithParameters)("settings.state.validation_failed",r))),!n&&!c&&this.state.success&&i.createElement("span",{className:"text-success"},i.createElement(K.a,{className:"spacer-right"}),Object(l.translate)("settings.state.saved"))),i.createElement(St,{hasValueChanged:u,onCancel:this.handleCancel,onChange:this.handleChange,onSave:this.handleSave,setting:a,value:p}),i.createElement(Ke,{changedValue:t,hasError:c,hasValueChanged:u,isDefault:m,onCancel:this.handleCancel,onReset:this.handleReset,onSave:this.handleSave,setting:a})))},t}(i.PureComponent),Dt={cancelChange:y.a,changeValue:y.b,checkValue:function(e){return function(t,n){var a=n(),r=Object(m.getSettingsAppDefinition)(a,e),i=Object(m.getSettingsAppChangedValue)(a,e);if(Object(b.m)(r,i))return void 0===r.defaultValue?t(Object(y.d)(e,Object(l.translate)("settings.state.value_cant_be_empty_no_default"))):t(Object(y.d)(e,Object(l.translate)("settings.state.value_cant_be_empty"))),!1;if("JSON"===r.type)try{JSON.parse(i)}catch(n){return t(Object(y.d)(e,n.message)),!1}return t(Object(y.h)(e)),!0}},passValidation:y.h,resetValue:function(e,t){return function(n){return n(Object(y.i)(e)),Object(f.f)({keys:e,component:t}).then((function(){return Object(f.e)({keys:e,component:t})})).then((function(a){a.length>0?n(Object(v.c)(a,t)):n(Object(v.c)([{key:e}],t)),n(Object(y.h)(e)),n(Object(y.j)(e))})).catch(E(e,n))}},saveValue:function(e,t){return function(n,a){n(Object(y.i)(e));var r=a(),i=Object(m.getSettingsAppDefinition)(r,e),o=Object(m.getSettingsAppChangedValue)(r,e);return Object(b.m)(i,o)?(n(Object(y.d)(e,Object(l.translate)("settings.state.value_cant_be_empty"))),n(Object(y.j)(e)),Promise.reject()):Object(f.h)(i,o,t).then((function(){return Object(f.e)({keys:e,component:t})})).then((function(a){n(Object(v.c)(a,t)),n(Object(y.a)(e)),n(Object(y.h)(e)),n(Object(y.j)(e))})).catch(E(e,n))}}},Ft=Object(s.b)((function(e,t){return{changedValue:Object(m.getSettingsAppChangedValue)(e,t.setting.definition.key),loading:Object(m.isSettingsAppLoading)(e,t.setting.definition.key),validationMessage:Object(m.getSettingsAppValidationMessage)(e,t.setting.definition.key)}}),Dt)(wt);function Pt(e){var t=e.component,n=e.settings;return i.createElement("ul",{className:"settings-definitions-list"},n.map((function(e){return i.createElement("li",{key:e.definition.key},i.createElement(Ft,{component:t,setting:e}))})))}var At=n(695),xt=n.n(At),Bt=n(773),Vt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Lt=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.handleError=function(e){return Object(d.parseError)(e).then((function(e){n.mounted&&n.setState({error:e,loading:!1})}))},n.handleFormSubmit=function(e){e.preventDefault(),n.setState({success:void 0,error:void 0,loading:!0});var t=n.state,a=t.recipient,r=t.subject,i=t.message;Object(f.g)(a,r,i).then((function(){n.mounted&&n.setState({success:a,loading:!1})}),n.handleError)},n.onRecipientChange=function(e){n.setState({recipient:e.target.value})},n.onSubjectChange=function(e){n.setState({subject:e.target.value})},n.onMessageChange=function(e){n.setState({message:e.target.value})},n.state={recipient:n.props.currentUser.email||"",subject:Object(l.translate)("email_configuration.test.subject"),message:Object(l.translate)("email_configuration.test.message_text"),loading:!1},n}return Vt(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.state,t=e.error,n=e.loading,a=e.message,r=e.recipient,o=e.subject,s=e.success;return i.createElement("div",{className:"settings-definition"},i.createElement("div",{className:"settings-definition-left"},i.createElement("h3",{className:"settings-definition-name"},Object(l.translate)("email_configuration.test.title"))),i.createElement("form",{className:"settings-definition-right",onSubmit:this.handleFormSubmit},s&&i.createElement("div",{className:"form-field"},i.createElement(J.Alert,{variant:"success"},Object(l.translateWithParameters)("email_configuration.test.email_was_sent_to_x",s))),void 0!==t&&i.createElement("div",{className:"form-field"},i.createElement(J.Alert,{variant:"error"},t)),i.createElement(xt.a,{className:"form-field"}),i.createElement("div",{className:"form-field"},i.createElement("label",{htmlFor:"test-email-to"},Object(l.translate)("email_configuration.test.to_address"),i.createElement(he.a,null)),i.createElement("input",{className:"settings-large-input",disabled:n,id:"test-email-to",onChange:this.onRecipientChange,required:!0,type:"email",value:r})),i.createElement("div",{className:"form-field"},i.createElement("label",{htmlFor:"test-email-subject"},Object(l.translate)("email_configuration.test.subject")),i.createElement("input",{className:"settings-large-input",disabled:n,id:"test-email-subject",onChange:this.onSubjectChange,type:"text",value:o})),i.createElement("div",{className:"form-field"},i.createElement("label",{htmlFor:"test-email-message"},Object(l.translate)("email_configuration.test.message"),i.createElement(he.a,null)),i.createElement("textarea",{className:"settings-large-input",disabled:n,id:"test-email-message",onChange:this.onMessageChange,required:!0,rows:5,value:a})),i.createElement(x.SubmitButton,{disabled:n},Object(l.translate)("email_configuration.test.send")),n&&i.createElement(V.a,{className:"spacer-left"})))},t}(i.PureComponent),Rt=Object(Bt.a)(Lt),It=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Mt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderEmailForm=function(e){return"general"===t.props.category&&"email"===e?i.createElement(Rt,null):null},t}return It(t,e),t.prototype.componentDidMount=function(){this.fetchValues()},t.prototype.componentDidUpdate=function(e){var t=e.settings.map((function(e){return e.definition.key})),n=this.props.settings.map((function(e){return e.definition.key}));e.component===this.props.component&&ae()(t,n)||this.fetchValues()},t.prototype.fetchValues=function(){var e=this.props.settings.map((function(e){return e.definition.key})).join();this.props.fetchValues(e,this.props.component&&this.props.component.key)},t.prototype.render=function(){var e=this,t=Ie()(this.props.settings,(function(e){return e.definition.subCategory})),n=Object.keys(t).map((function(e){return{key:e,name:Object(b.i)(t[e][0].definition.category,e),description:Object(b.h)(t[e][0].definition.category,e)}})),a=Le()(n,(function(e){return e.name.toLowerCase()})),r=this.props.subCategory?a.filter((function(t){return t.key===e.props.subCategory})):a;return i.createElement("ul",{className:"settings-sub-categories-list"},r.map((function(n){return i.createElement("li",{key:n.key},i.createElement("h2",{className:"settings-sub-category-name"},n.name),null!=n.description&&i.createElement("div",{className:"settings-sub-category-description markdown",dangerouslySetInnerHTML:{__html:Object(Me.b)(n.description)}}),i.createElement(Pt,{component:e.props.component,settings:t[n.key]}),e.renderEmailForm(n.key))})))},t}(i.PureComponent),Ut={fetchValues:function(e,t){return function(n){return Object(f.e)({keys:e,component:t}).then((function(e){n(Object(v.c)(e,t)),n(Object(g.c)())}))}}},Tt=Object(s.b)((function(e,t){return{settings:Object(m.getSettingsAppSettingsForCategory)(e,t.category,t.component&&t.component.key)}}),Ut)(Mt);function zt(e){var t=e.formData,n=e.onFieldChange;return i.createElement(i.Fragment,null,i.createElement(ye,{autoFocus:!0,help:Object(l.translate)("settings.almintegration.form.name.github.help"),id:"name.github",onFieldChange:n,propKey:"key",value:t.key}),i.createElement(ye,{help:i.createElement(i.Fragment,null,Object(l.translate)("settings.almintegration.form.url.github.help1"),i.createElement("br",null),i.createElement("em",null,"https://github.company.com/api/v3"),i.createElement("br",null),i.createElement("br",null),Object(l.translate)("settings.almintegration.form.url.github.help2"),i.createElement("br",null),i.createElement("em",null,"https://api.github.com/")),id:"url.github",maxLength:2e3,onFieldChange:n,propKey:"url",value:t.url}),i.createElement(ye,{id:"app_id",maxLength:80,onFieldChange:n,propKey:"appId",value:t.appId}),i.createElement(ye,{id:"client_id.github",maxLength:80,onFieldChange:n,propKey:"clientId",value:t.clientId}),i.createElement(ye,{id:"client_secret.github",maxLength:80,onFieldChange:n,overwriteOnly:Boolean(t.key),propKey:"clientSecret",value:t.clientSecret}),i.createElement(ye,{id:"private_key",isTextArea:!0,onFieldChange:n,overwriteOnly:Boolean(t.key),propKey:"privateKey",value:t.privateKey}))}var Kt=function(){return(Kt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Gt(e){var t=e.branchesEnabled,n=e.component,a=e.multipleAlmEnabled,r=e.definitions,o=e.definitionStatus,s=e.loadingAlmDefinitions,c=e.loadingProjectCount;return i.createElement("div",{className:"bordered"},i.createElement(ge,{alm:S.a.GitHub,branchesEnabled:t,createConfiguration:_.e,defaultBinding:{key:"",appId:"",clientId:"",clientSecret:"",url:"",privateKey:""},definitions:r,definitionStatus:o,form:function(e){return i.createElement(zt,Kt({},e))},help:i.createElement(F.FormattedMessage,{defaultMessage:Object(l.translate)("settings.almintegration.github.info"),id:"settings.almintegration.github.info",values:{link:i.createElement(P.c,{target:"_blank",to:A.a[S.a.GitHub]},Object(l.translate)("learn_more"))}}),loadingAlmDefinitions:s,loadingProjectCount:c,multipleAlmEnabled:a,onCheck:e.onCheck,onDelete:e.onDelete,onUpdateDefinitions:e.onUpdateDefinitions,updateConfiguration:_.u}),i.createElement("div",{className:"huge-spacer-top huge-spacer-bottom bordered-top"}),i.createElement("div",{className:"big-padded"},i.createElement(Tt,{category:j.a,component:n,subCategory:S.a.GitHub})))}function qt(e){var t=e.formData,n=e.onFieldChange;return i.createElement(i.Fragment,null,i.createElement(ye,{autoFocus:!0,help:Object(l.translate)("settings.almintegration.form.name.gitlab.help"),id:"name.gitlab",onFieldChange:n,propKey:"key",value:t.key}),i.createElement(ye,{help:i.createElement(i.Fragment,null,Object(l.translate)("settings.almintegration.form.url.gitlab.help"),i.createElement("br",null),i.createElement("em",null,"https://gitlab.com/api/v4")),id:"url.gitlab",maxLength:2e3,onFieldChange:n,propKey:"url",value:t.url||""}),i.createElement(ye,{help:Object(l.translate)("settings.almintegration.form.personal_access_token.gitlab.help"),id:"personal_access_token",isTextArea:!0,onFieldChange:n,overwriteOnly:Boolean(t.key),propKey:"personalAccessToken",value:t.personalAccessToken}))}var Wt=function(){return(Wt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Ht(e){var t=e.branchesEnabled,n=e.component,a=e.multipleAlmEnabled,r=e.definitions,o=e.definitionStatus,s=e.loadingAlmDefinitions,c=e.loadingProjectCount;return i.createElement("div",{className:"bordered"},i.createElement(ge,{alm:S.a.GitLab,branchesEnabled:t,createConfiguration:_.f,defaultBinding:{key:"",personalAccessToken:"",url:""},definitions:r,definitionStatus:o,form:function(e){return i.createElement(qt,Wt({},e))},help:i.createElement(F.FormattedMessage,{defaultMessage:Object(l.translate)("settings.almintegration.gitlab.info"),id:"settings.almintegration.gitlab.info",values:{link:i.createElement(P.c,{target:"_blank",to:A.a[S.a.GitLab]},Object(l.translate)("learn_more"))}}),loadingAlmDefinitions:s,loadingProjectCount:c,multipleAlmEnabled:a,onCheck:e.onCheck,onDelete:e.onDelete,onUpdateDefinitions:e.onUpdateDefinitions,updateConfiguration:_.v}),i.createElement("div",{className:"huge-spacer-top huge-spacer-bottom bordered-top"}),i.createElement("div",{className:"big-padded"},i.createElement(Tt,{category:j.a,component:n,subCategory:S.a.GitLab})))}var Jt=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,r++)a[r]=i[o];return a},Yt=[{key:S.a.GitHub,label:i.createElement(i.Fragment,null,i.createElement("img",{alt:"github",className:"spacer-right",height:16,src:Object(D.getBaseUrl)()+"/images/alm/github.svg"}),"GitHub"),requiresBranchesEnabled:!1},{key:S.a.BitbucketServer,label:i.createElement(i.Fragment,null,i.createElement("img",{alt:"bitbucket",className:"spacer-right",height:16,src:Object(D.getBaseUrl)()+"/images/alm/bitbucket.svg"}),"Bitbucket"),requiresBranchesEnabled:!1},{key:S.a.Azure,label:i.createElement(i.Fragment,null,i.createElement("img",{alt:"azure",className:"spacer-right",height:16,src:Object(D.getBaseUrl)()+"/images/alm/azure.svg"}),"Azure DevOps"),requiresBranchesEnabled:!1},{key:S.a.GitLab,label:i.createElement(i.Fragment,null,i.createElement("img",{alt:"gitlab",className:"spacer-right",height:16,src:Object(D.getBaseUrl)()+"/images/alm/gitlab.svg"}),"GitLab"),requiresBranchesEnabled:!1}];function Xt(e){var t=e.component,n=e.definitionKeyForDeletion,a=e.definitions,r=e.definitionStatus,o=e.currentAlm,s=e.loadingAlmDefinitions,c=e.loadingProjectCount,u=e.branchesEnabled,p=e.multipleAlmEnabled,m=e.projectCount;return i.createElement(i.Fragment,null,i.createElement("header",{className:"page-header"},i.createElement("h1",{className:"page-title"},Object(l.translate)("settings.almintegration.title"))),i.createElement("div",{className:"markdown small spacer-top big-spacer-bottom"},Object(l.translate)("settings.almintegration.description")),i.createElement(w.a,{onSelect:e.onSelectAlm,selected:o,tabs:Yt.filter((function(e){return!(e.requiresBranchesEnabled&&!u)}))}),o===S.a.Azure&&i.createElement(Oe,{branchesEnabled:u,definitions:a.azure,definitionStatus:r,loadingAlmDefinitions:s,loadingProjectCount:c,multipleAlmEnabled:p,onCheck:e.onCheck,onDelete:e.onDelete,onUpdateDefinitions:e.onUpdateDefinitions}),o===S.a.BitbucketServer&&i.createElement(Pe,{branchesEnabled:u,definitions:Jt(a.bitbucket,a.bitbucketcloud),definitionStatus:r,loadingAlmDefinitions:s,loadingProjectCount:c,multipleAlmEnabled:p,onCheck:e.onCheck,onDelete:e.onDelete,onUpdateDefinitions:e.onUpdateDefinitions}),o===S.a.GitHub&&i.createElement(Gt,{branchesEnabled:u,component:t,definitions:a.github,definitionStatus:r,loadingAlmDefinitions:s,loadingProjectCount:c,multipleAlmEnabled:p,onCheck:e.onCheck,onDelete:e.onDelete,onUpdateDefinitions:e.onUpdateDefinitions}),o===S.a.GitLab&&i.createElement(Ht,{branchesEnabled:u,definitions:a.gitlab,definitionStatus:r,loadingAlmDefinitions:s,loadingProjectCount:c,multipleAlmEnabled:p,onCheck:e.onCheck,onDelete:e.onDelete,onUpdateDefinitions:e.onUpdateDefinitions}),n&&i.createElement(Be,{id:n,onCancel:e.onCancel,onDelete:e.onConfirmDelete,projectCount:m}))}var Qt=[S.a.Azure,S.a.BitbucketServer,S.a.BitbucketCloud,S.a.GitHub,S.a.GitLab],Zt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),$t=function(){return($t=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},en=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))},tn=function(e,t){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},nn=function(e){function t(t){var n,a=e.call(this,t)||this;return a.mounted=!1,a.deleteConfiguration=function(e){return Object(_.g)(e).then((function(){a.mounted&&a.setState({definitionKeyForDeletion:void 0,projectCount:void 0})})).then(a.fetchPullRequestDecorationSetting)},a.fetchPullRequestDecorationSetting=function(){return a.setState({loadingAlmDefinitions:!0}),Object(_.i)().then((function(e){if(a.mounted)return a.setState({definitions:e,loadingAlmDefinitions:!1}),e})).catch((function(){a.mounted&&a.setState({loadingAlmDefinitions:!1})}))},a.handleSelectAlm=function(e){a.setState({currentAlm:e})},a.handleCancel=function(){a.setState({definitionKeyForDeletion:void 0,projectCount:void 0})},a.handleDelete=function(e){return a.setState({loadingProjectCount:!0}),Object(_.a)(e).then((function(t){a.mounted&&a.setState({definitionKeyForDeletion:e,loadingProjectCount:!1,projectCount:t})})).catch((function(){a.mounted&&a.setState({loadingProjectCount:!1})}))},a.handleCheck=function(e,t){return void 0===t&&(t=!0),en(a,void 0,void 0,(function(){var n,a;return tn(this,(function(r){switch(r.label){case 0:this.setState((function(t){var n=t.definitionStatus;return n[e]=$t($t({},n[e]),{type:S.b.Validating}),{definitionStatus:$t({},n)}})),a="",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Object(_.w)(e)];case 2:return a=r.sent(),n=a?S.b.Failure:S.b.Success,[3,4];case 3:return r.sent(),n=S.b.Warning,[3,4];case 4:return this.mounted&&this.setState((function(r){var i=r.definitionStatus;return i[e]={alertSuccess:t,failureMessage:a,type:n},{definitionStatus:$t({},i)}})),[2]}}))}))},a.state={currentAlm:t.location.query.alm||S.a.GitHub,definitions:(n={},n[S.a.Azure]=[],n[S.a.BitbucketServer]=[],n[S.a.BitbucketCloud]=[],n[S.a.GitHub]=[],n[S.a.GitLab]=[],n),definitionStatus:{},loadingAlmDefinitions:!0,loadingProjectCount:!1},a}return Zt(t,e),t.prototype.componentDidMount=function(){var e=this;return this.mounted=!0,this.fetchPullRequestDecorationSetting().then((function(t){t&&Qt.forEach((function(t){e.state.definitions[t].forEach((function(t){return e.handleCheck(t.key,!1)}))}))}))},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.appState,n=t.branchesEnabled,a=t.multipleAlmEnabled,r=e.component;return i.createElement(Xt,$t({branchesEnabled:Boolean(n),component:r,multipleAlmEnabled:Boolean(a),onCancel:this.handleCancel,onConfirmDelete:this.deleteConfiguration,onCheck:this.handleCheck,onDelete:this.handleDelete,onSelectAlm:this.handleSelectAlm,onUpdateDefinitions:this.fetchPullRequestDecorationSetting},this.state))},t}(i.PureComponent),an=Object(k.a)(Object(C.a)(nn));function rn(e){var t=e.component,n=e.selectedCategory;return i.createElement(i.Fragment,null,i.createElement("p",{className:"spacer-bottom"},Object(l.translate)("settings.analysis_scope.wildcards.introduction"),i.createElement(P.c,{className:"spacer-left",to:"/documentation/project-administration/narrowing-the-focus/"},Object(l.translate)("learn_more"))),i.createElement("table",{className:"data spacer-bottom"},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",null,"*"),i.createElement("td",null,Object(l.translate)("settings.analysis_scope.wildcards.zero_more_char"))),i.createElement("tr",null,i.createElement("td",null,"**"),i.createElement("td",null,Object(l.translate)("settings.analysis_scope.wildcards.zero_more_dir"))),i.createElement("tr",null,i.createElement("td",null,"?"),i.createElement("td",null,Object(l.translate)("settings.analysis_scope.wildcards.single_char"))))),i.createElement("div",{className:"settings-sub-category"},i.createElement(Tt,{category:n,component:t})))}var on={abap:j.c,apex:j.c,"c / c++ / objective-c":j.c,"c#":j.c,cobol:j.c,css:j.c,flex:j.c,go:j.c,html:j.c,java:j.c,javascript:j.c,"javascript / typescript":j.c,kotlin:j.c,php:j.c,"pl/i":j.c,"pl/sql":j.c,python:j.c,rpg:j.c,ruby:j.c,scala:j.c,swift:j.c,"t-sql":j.c,typescript:j.c,"vb.net":j.c,"visual basic":j.c,xml:j.c},sn=function(){return(sn=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var ln=Object(k.a)(Object(s.b)((function(e){return{categories:Object(m.getSettingsAppAllCategories)(e)}}))((function(e){var t=e.categories,n=e.component,a=e.location,r=e.router,o=function(e,t){var n=j.c.toLowerCase(),a=t.toLowerCase(),r=e.filter((function(e){return on[e.toLowerCase()]===n})).map((function(e){return{label:Object(b.b)(e),value:e.toLowerCase(),originalValue:e}})),i=void 0;a!==n&&r.find((function(e){return e.value===a}))&&(i=a);return{availableLanguages:r,selectedLanguage:i}}(t,e.selectedCategory),s=o.availableLanguages,c=o.selectedLanguage;return i.createElement(i.Fragment,null,i.createElement("h2",{className:"settings-sub-category-name"},Object(l.translate)("property.category.languages")),i.createElement("div",{"data-test":"language-select"},i.createElement(it.a,{className:"input-large",onChange:function(e){r.push(sn(sn({},a),{query:sn(sn({},a.query),{category:e.originalValue})}))},options:s,placeholder:Object(l.translate)("settings.languages.select_a_language_placeholder"),value:c})),c&&i.createElement("div",{className:"settings-sub-category"},i.createElement(Tt,{category:c,component:n})))}))),cn=n(1107),un=n(1153),pn=n(1154),mn=n(1108),dn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),fn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!0,days:"30",saving:!1,success:!1},t.onSelectDays=function(e){t.setState({days:e,success:!1})},t.onSelectSetting=function(e){t.setState({selected:e,success:!1})},t.onCancel=function(){t.setState((function(e){var t=e.currentSetting,n=e.currentSettingValue,a=e.days;return{selected:t,days:"NUMBER_OF_DAYS"===t?String(n):a}}))},t.onSubmit=function(e){e.preventDefault();var n=t.state,a=n.days,r=n.selected,i="NUMBER_OF_DAYS"===r?a:void 0;r&&(t.setState({saving:!0,success:!1}),Object(cn.d)({type:r,value:i}).then((function(){t.setState({saving:!1,currentSetting:r,currentSettingValue:i||void 0,success:!0})}),(function(){t.setState({saving:!1})})))},t}return dn(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchNewCodePeriodSetting()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.fetchNewCodePeriodSetting=function(){var e=this;Object(cn.a)().then((function(t){var n=t.type,a=t.value,r=n||"PREVIOUS_VERSION";e.setState((function(e){var t=e.days;return{currentSetting:r,days:"NUMBER_OF_DAYS"===r?String(a):t,loading:!1,currentSettingValue:a,selected:r}}))})).catch((function(){e.setState({loading:!1})}))},t.prototype.render=function(){var e=this.state,t=e.currentSetting,n=e.days,a=e.loading,r=e.currentSettingValue,o=e.saving,s=e.selected,c=e.success,u=s!==t||"NUMBER_OF_DAYS"===s&&String(n)!==r,p="NUMBER_OF_DAYS"!==s||Object(mn.b)(n);return i.createElement("ul",{className:"settings-sub-categories-list"},i.createElement("li",null,i.createElement("ul",{className:"settings-definitions-list"},i.createElement("li",null,i.createElement("div",{className:"settings-definition"},i.createElement("div",{className:"settings-definition-left"},i.createElement("h3",{className:"settings-definition-name",title:Object(l.translate)("settings.new_code_period.title")},Object(l.translate)("settings.new_code_period.title")),i.createElement("div",{className:"small big-spacer-top"},i.createElement(F.FormattedMessage,{defaultMessage:Object(l.translate)("settings.new_code_period.description"),id:"settings.new_code_period.description",values:{link:i.createElement(P.c,{to:"/documentation/project-administration/new-code-period/"},Object(l.translate)("learn_more"))}}),i.createElement("p",{className:"spacer-top"},Object(l.translate)("settings.new_code_period.description2")))),i.createElement("div",{className:"settings-definition-right"},a?i.createElement(V.a,null):i.createElement("form",{onSubmit:this.onSubmit},i.createElement(pn.a,{isDefault:!0,onSelect:this.onSelectSetting,selected:"PREVIOUS_VERSION"===s}),i.createElement(un.a,{className:"spacer-top",days:n,isChanged:u,isValid:p,onChangeDays:this.onSelectDays,onSelect:this.onSelectSetting,selected:"NUMBER_OF_DAYS"===s}),u&&i.createElement("div",{className:"big-spacer-top"},i.createElement("p",{className:"spacer-bottom"},Object(l.translate)("baseline.next_analysis_notice")),i.createElement(V.a,{className:"spacer-right",loading:o}),i.createElement(x.SubmitButton,{disabled:o||!p},Object(l.translate)("save")),i.createElement(x.ResetButtonLink,{className:"spacer-left",onClick:this.onCancel},Object(l.translate)("cancel"))),!o&&!a&&c&&i.createElement("div",{className:"big-spacer-top"},i.createElement("span",{className:"text-success"},i.createElement(K.a,{className:"spacer-right"}),Object(l.translate)("settings.state.saved"))))))))))},t}(i.PureComponent),gn=n(673),bn=function(){return(bn=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function hn(e){var t=e.help,n=e.helpParams,a=e.optional,r=e.id;return i.createElement("label",{className:"display-flex-center",htmlFor:r},Object(l.translate)("settings.pr_decoration.binding.form",r),!a&&i.createElement(he.a,null),t&&i.createElement(R.a,{className:"spacer-left",overlay:i.createElement(F.FormattedMessage,{defaultMessage:Object(l.translate)("settings.pr_decoration.binding.form",r,"help"),id:"settings.pr_decoration.binding.form."+r+".help",values:n}),placement:"right"}))}function yn(e){var t=e.id,n=e.value,a=e.onFieldChange,r=e.propKey,o=e.inputExtra;return i.createElement("div",{className:"form-field"},hn(bn(bn({},e),{optional:!0})),i.createElement("div",{className:"display-flex-center"},i.createElement(We,{isDefault:!0,name:t,onChange:function(e){return a(r,e)},value:n}),o))}function vn(e){var t=e.id,n=e.propKey,a=e.value,r=e.onFieldChange;return i.createElement("div",{className:"form-field"},hn(e),i.createElement("input",{className:"input-super-large",id:t,maxLength:256,name:t,onChange:function(e){return r(n,e.currentTarget.value)},type:"text",value:a}))}function En(e){var t,n=e.alm,a=e.formData,r=a.repository,o=a.slug,s=a.summaryCommentEnabled,c=a.monorepo,u=e.monorepoEnabled;switch(n){case S.a.Azure:t=i.createElement(i.Fragment,null,vn({help:!0,id:"azure.project",onFieldChange:e.onFieldChange,propKey:"slug",value:o||""}),vn({help:!0,id:"azure.repository",onFieldChange:e.onFieldChange,propKey:"repository",value:r||""}));break;case S.a.BitbucketServer:t=i.createElement(i.Fragment,null,vn({help:!0,helpParams:{example:i.createElement(i.Fragment,null,".../projects/",i.createElement("strong",null,"{KEY}"),"/repos/{SLUG}/browse")},id:"bitbucket.repository",onFieldChange:e.onFieldChange,propKey:"repository",value:r||""}),vn({help:!0,helpParams:{example:i.createElement(i.Fragment,null,".../projects/{KEY}/repos/",i.createElement("strong",null,"{SLUG}"),"/browse")},id:"bitbucket.slug",onFieldChange:e.onFieldChange,propKey:"slug",value:o||""}));break;case S.a.BitbucketCloud:t=i.createElement(i.Fragment,null,vn({help:!0,helpParams:{example:i.createElement(i.Fragment,null,"https://bitbucket.org/{workspace}/",i.createElement("strong",null,"{repository}"))},id:"bitbucketcloud.repository",onFieldChange:e.onFieldChange,propKey:"repository",value:r||""}));break;case S.a.GitHub:t=i.createElement(i.Fragment,null,vn({help:!0,helpParams:{example:"SonarSource/sonarqube"},id:"github.repository",onFieldChange:e.onFieldChange,propKey:"repository",value:r||""}),yn({help:!0,id:"github.summary_comment_setting",onFieldChange:e.onFieldChange,propKey:"summaryCommentEnabled",value:void 0===s||s}));break;case S.a.GitLab:t=i.createElement(i.Fragment,null,vn({id:"gitlab.repository",onFieldChange:e.onFieldChange,propKey:"repository",value:r||""}))}return i.createElement(i.Fragment,null,t,u&&yn({help:!0,helpParams:{doc_link:i.createElement(P.c,{to:A.a[n],target:"_blank"},Object(l.translate)("learn_more"))},id:"monorepo",onFieldChange:e.onFieldChange,propKey:"monorepo",value:c,inputExtra:c&&i.createElement(J.Alert,{className:"no-margin-bottom spacer-left",variant:"warning",display:"inline"},Object(l.translate)("settings.pr_decoration.binding.form.monorepo.warning"))}))}function On(e){return e.url?i.createElement(i.Fragment,null,i.createElement("span",null,e.key," — "),i.createElement("span",{className:"text-muted"},e.url)):i.createElement("span",null,e.key)}function jn(e){var t=e.formData,n=e.instances,a=e.isChanged,r=e.isConfigured,o=e.isValid,s=e.loading,c=e.saving,u=e.success,p=e.monorepoEnabled;if(s)return i.createElement(V.a,null);if(n.length<1)return i.createElement("div",null,i.createElement(J.Alert,{className:"spacer-top huge-spacer-bottom",variant:"info"},i.createElement(F.FormattedMessage,{defaultMessage:Object(l.translate)("settings.pr_decoration.binding.no_bindings"),id:"settings.pr_decoration.binding.no_bindings",values:{link:i.createElement(P.c,{to:"/documentation/analysis/pull-request/#pr-decoration"},Object(l.translate)("learn_more"))}})));var m=t.key&&n.find((function(e){return e.key===t.key})),d=m&&m.alm;return i.createElement("div",null,i.createElement("header",{className:"page-header"},i.createElement("h1",{className:"page-title"},Object(l.translate)("settings.pr_decoration.binding.title"))),i.createElement("div",{className:"markdown small spacer-top big-spacer-bottom"},Object(l.translate)("settings.pr_decoration.binding.description")),i.createElement("form",{onSubmit:function(t){t.preventDefault(),e.onSubmit()}},i.createElement(xt.a,{className:"form-field"}),i.createElement("div",{className:"form-field"},i.createElement("label",{htmlFor:"name"},Object(l.translate)("settings.pr_decoration.binding.form.name"),i.createElement(he.a,{className:"spacer-right"})),i.createElement(it.a,{autosize:!0,className:"abs-width-400",clearable:!1,id:"name",menuContainerStyle:{maxWidth:"210%",width:"auto"},onChange:function(t){return e.onFieldChange("key",t.key)},optionRenderer:On,options:n,searchable:!1,value:t.key,valueKey:"key",valueRenderer:On})),d&&i.createElement(En,{alm:d,formData:t,onFieldChange:e.onFieldChange,monorepoEnabled:p}),i.createElement("div",{className:"display-flex-center"},i.createElement(V.a,{className:"spacer-right",loading:c}),a&&i.createElement(x.SubmitButton,{className:"spacer-right button-success",disabled:c||!o},i.createElement("span",{"data-test":"project-settings__alm-save"},Object(l.translate)("save"))),r&&i.createElement(x.Button,{className:"spacer-right",onClick:e.onReset},i.createElement("span",{"data-test":"project-settings__alm-reset"},Object(l.translate)("reset_verb"))),!c&&u&&i.createElement("span",{className:"text-success"},i.createElement(K.a,{className:"spacer-right"}),Object(l.translate)("settings.state.saved")))))}var _n,Cn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),kn=function(){return(kn=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Sn=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},Nn=((_n={})[S.a.Azure]=["repository","slug"],_n[S.a.BitbucketServer]=["repository","slug"],_n[S.a.BitbucketCloud]=["repository"],_n[S.a.GitHub]=["repository"],_n[S.a.GitLab]=["repository"],_n),wn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={formData:{key:"",monorepo:!1},instances:[],isChanged:!1,isConfigured:!1,isValid:!1,loading:!0,saving:!1,success:!1},t.fetchDefinitions=function(){var e=t.props.component.key;return Promise.all([Object(_.j)(e),t.getProjectBinding(e)]).then((function(e){var n=e[0],a=e[1];t.mounted&&t.setState((function(e){var r=e.formData,i=a||r;return{formData:i,instances:n||[],isChanged:!1,isConfigured:!!a,isValid:t.validateForm(i),loading:!1,orignalData:i}}))})).catch((function(){t.mounted&&t.setState({loading:!1})}))},t.catchError=function(){t.mounted&&t.setState({saving:!1})},t.handleReset=function(){var e=t.props.component;t.setState({saving:!0}),Object(_.h)(e.key).then((function(){t.mounted&&t.setState({formData:{key:"",repository:"",slug:"",monorepo:!1},orignalData:void 0,isChanged:!1,isConfigured:!1,saving:!1,success:!0})})).catch(t.catchError)},t.handleSubmit=function(){t.setState({saving:!0});var e=t.state,n=e.formData,a=n.key,r=Sn(n,["key"]),i=e.instances.find((function(e){return e.key===a}));a&&i&&t.submitProjectAlmBinding(i.alm,a,r).then((function(){t.mounted&&t.setState({saving:!1,success:!0})})).then(t.fetchDefinitions).catch(t.catchError)},t.handleFieldChange=function(e,n){t.setState((function(a){var r,i=a.formData,o=a.orignalData,s=kn(kn({},i),((r={})[e]=n,r));return{formData:s,isValid:t.validateForm(s),isChanged:!t.isDataSame(s,o||{key:"",monorepo:!1}),success:!1}}))},t.validateForm=function(e){var n=e.key,a=Sn(e,["key"]),r=t.state.instances.find((function(e){return e.key===n}));return!(!n||!r)&&Nn[r.alm].reduce((function(e,t){return e&&Boolean(a[t])}),!0)},t}return Cn(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchDefinitions()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.getProjectBinding=function(e){return Object(_.l)(e).catch((function(e){if(!e||e.status!==d.HttpStatus.NotFound)return Object(gn.a)(e)}))},t.prototype.submitProjectAlmBinding=function(e,t,n){var a,r,i=t,o=this.props.component.key,s=null==n?void 0:n.repository,l=null==n?void 0:n.slug,c=null!==(a=null==n?void 0:n.monorepo)&&void 0!==a&&a;if(!s)return Promise.reject();switch(e){case S.a.Azure:return l?Object(_.m)({almSetting:i,project:o,projectName:l,repositoryName:s,monorepo:c}):Promise.reject();case S.a.BitbucketServer:return l?Object(_.n)({almSetting:i,project:o,repository:s,slug:l,monorepo:c}):Promise.reject();case S.a.BitbucketCloud:return Object(_.o)({almSetting:i,project:o,repository:s,monorepo:c});case S.a.GitHub:var u=null===(r=null==n?void 0:n.summaryCommentEnabled)||void 0===r||r;return Object(_.p)({almSetting:i,project:o,repository:s,summaryCommentEnabled:u,monorepo:c});case S.a.GitLab:return Object(_.q)({almSetting:i,project:o,repository:s,monorepo:c});default:return Promise.reject()}},t.prototype.isDataSame=function(e,t){var n=e.key,a=e.repository,r=void 0===a?"":a,i=e.slug,o=void 0===i?"":i,s=e.summaryCommentEnabled,l=void 0!==s&&s,c=e.monorepo,u=void 0!==c&&c,p=t.key,m=void 0===p?"":p,d=t.repository,f=void 0===d?"":d,g=t.slug,b=void 0===g?"":g,h=t.summaryCommentEnabled,y=void 0!==h&&h,v=t.monorepo;return n===m&&r===f&&o===b&&l===y&&u===(void 0!==v&&v)},t.prototype.render=function(){var e=this.props.monorepoEnabled;return i.createElement(jn,kn({onFieldChange:this.handleFieldChange,onReset:this.handleReset,onSubmit:this.handleSubmit,monorepoEnabled:e},this.state))},t}(i.PureComponent),Dn=Object(s.b)((function(e){return{monorepoEnabled:[X.a.enterprise,X.a.datacenter].includes(Object(m.getAppState)(e).edition)}}))(wn),Fn=function(){return(Fn=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Pn=[{key:j.c,name:Object(l.translate)("property.category.languages"),renderComponent:function(e){return i.createElement(ln,Fn({},e))},availableGlobally:!0,availableForProject:!0,displayTab:!0},{key:j.d,name:Object(l.translate)("settings.new_code_period.category"),renderComponent:function(){return i.createElement(fn,null)},availableGlobally:!0,availableForProject:!1,displayTab:!0},{key:j.b,name:Object(l.translate)("property.category.exclusions"),renderComponent:function(e){return i.createElement(rn,Fn({},e))},availableGlobally:!0,availableForProject:!0,displayTab:!1},{key:j.a,name:Object(l.translate)("property.category.almintegration"),renderComponent:function(e){return i.createElement(an,Fn({},e))},availableGlobally:!0,availableForProject:!1,displayTab:!1},{key:j.e,name:Object(l.translate)("settings.pr_decoration.binding.category"),renderComponent:function(e){return e.component&&i.createElement(Dn,{component:e.component})},availableGlobally:!1,availableForProject:!0,displayTab:!0,requiresBranchesEnabled:!0}];var An=Object(s.b)((function(e){return{categories:Object(m.getSettingsAppAllCategories)(e),branchesEnabled:Object(m.getAppState)(e).branchesEnabled}}))((function(e){var t=e.branchesEnabled,n=e.categories,a=e.component,r=e.defaultCategory,o=e.selectedCategory,s=a?"/project/settings":"/settings",l=n.filter((function(e){return!on[e.toLowerCase()]})).map((function(e){return{key:e,name:Object(b.b)(e)}})).concat(Pn.filter((function(e){return e.displayTab})).filter((function(e){return a?e.availableForProject:e.availableGlobally})).filter((function(e){return t||!e.requiresBranchesEnabled}))),c=Le()(l,(function(e){return e.name.toLowerCase()}));return i.createElement("ul",{className:"side-tabs-menu"},c.map((function(e){return i.createElement("li",{key:e.key},i.createElement(P.a,{className:Ue({active:e.key.toLowerCase()===o.toLowerCase()}),title:e.name,to:{pathname:s,query:{category:e.key!==r?e.key.toLowerCase():void 0,id:a&&a.key}}},e.name))})))})),xn=n(829);function Bn(e){var t=e.component,n=t?Object(l.translate)("project_settings.page"):Object(l.translate)("settings.page"),a=t?Object(l.translate)("project_settings.page.description"):i.createElement(xn.a,{message:Object(l.translate)("settings.page.description")});return i.createElement("header",{className:"top-bar-outer"},i.createElement("div",{className:"top-bar"},i.createElement("div",{className:"top-bar-inner bordered-bottom big-padded-top padded-bottom"},i.createElement("h1",{className:"page-title"},n),i.createElement("div",{className:"page-description spacer-top"},a))))}var Vn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ln=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!0},t.fetchSettings=function(){var e=t.props.component;t.props.fetchSettings(e&&e.key).then(t.stopLoading,t.stopLoading)},t.stopLoading=function(){t.mounted&&t.setState({loading:!1})},t}return Vn(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,Object(c.addSideBarClass)(),Object(c.addWhitePageClass)(),this.fetchSettings()},t.prototype.componentDidUpdate=function(e){e.component!==this.props.component&&this.fetchSettings()},t.prototype.componentWillUnmount=function(){this.mounted=!1,Object(c.removeSideBarClass)(),Object(c.removeWhitePageClass)()},t.prototype.render=function(){var e=this;if(this.state.loading)return null;var t=this.props.location.query.category||this.props.defaultCategory,n=on[t.toLowerCase()]||t,a=r()(Pn,(function(e){return e.key===n})),s=this.props.component,c=a&&(s&&a.availableForProject||!s&&a.availableGlobally);return i.createElement("div",{id:"settings-page"},i.createElement(u.a,{suggestions:"settings"}),i.createElement(o.a,{defer:!1,title:Object(l.translate)("settings.page")}),i.createElement(Bn,{component:this.props.component}),i.createElement("div",{className:"layout-page"},i.createElement(p.a,{className:"layout-page-side-outer"},(function(t){var a=t.top;return i.createElement("div",{className:"layout-page-side",style:{top:a}},i.createElement("div",{className:"layout-page-side-inner"},i.createElement(An,{component:e.props.component,defaultCategory:e.props.defaultCategory,selectedCategory:n})))})),i.createElement("div",{className:"layout-page-main"},i.createElement("div",{className:"layout-page-main-inner"},i.createElement("div",{className:"big-padded"},a&&c?a.renderComponent({component:this.props.component,selectedCategory:t}):i.createElement(Tt,{category:n,component:this.props.component}))))))},t}(i.PureComponent),Rn={fetchSettings:function(e){return function(t){return Object(f.d)(e).then((function(e){var n=e.filter((function(e){return"LICENSE"!==e.type}));t(Object(h.f)(n))}))}}};t.default=Object(s.b)((function(e){return{defaultCategory:Object(m.getSettingsAppDefaultCategory)(e)}}),Rn)(Ln)},690:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a,r=n(13),i=n(728),o=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function s(e){var t=e.suggestions;return r.createElement(i.a.Consumer,null,(function(e){var n=e.addSuggestions,a=e.removeSuggestions;return r.createElement(l,{addSuggestions:n,removeSuggestions:a,suggestions:t})}))}var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.componentDidMount=function(){this.props.addSuggestions(this.props.suggestions)},t.prototype.componentDidUpdate=function(e){e.suggestions!==this.props.suggestions&&(this.props.removeSuggestions(this.props.suggestions),this.props.addSuggestions(e.suggestions))},t.prototype.componentWillUnmount=function(){this.props.removeSuggestions(this.props.suggestions)},t.prototype.render=function(){return null},t}(r.PureComponent)},760:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(914);function r(e){return Object(a.sanitize)(e,{ALLOWED_TAGS:["b","br","code","i","li","p","strong","ul","a"],ALLOWED_ATTR:["target","href"]})}function i(e){return Object(a.sanitize)(e,{USE_PROFILES:{html:!0}})}},797:function(e,t,n){"use strict";var a,r=n(731),i=n.n(r),o=n(13),s=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(t){var n=e.call(this,t)||this;return n.getPosition=function(){var e=n.container&&n.container.getBoundingClientRect();return e?{top:window.pageYOffset+e.top,left:window.pageXOffset+e.left}:{top:0,left:0}},n.debouncedOnResize=i()((function(){return n.forceUpdate()}),250),n}return s(t,e),t.prototype.componentDidMount=function(){this.forceUpdate(),window.addEventListener("resize",this.debouncedOnResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.debouncedOnResize)},t.prototype.render=function(){var e=this;return o.createElement("div",{className:this.props.className,ref:function(t){return e.container=t}},this.props.children(this.getPosition()))},t}(o.PureComponent);t.a=l},800:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return b}));var a=n(786),r=n.n(a),i=n(49),o=n(673),s=n(780);function l(e){return Object(i.getJSON)("/api/settings/list_definitions",{component:e}).then((function(e){return e.definitions}),o.a)}function c(e){return Object(i.getJSON)("/api/settings/values",e).then((function(e){return e.settings}))}function u(e,t,n){var a={key:e.key,component:n};return Object(s.k)(e)&&e.multiValues?a.values=t:"PROPERTY_SET"===e.type?a.fieldValues=t.map((function(e){return r()(e,(function(e){return null==e}))})).map(JSON.stringify):a.value=t,Object(i.post)("/api/settings/set",a)}function p(e){return Object(i.post)("/api/settings/set",e).catch(o.a)}function m(e){return Object(i.post)("/api/settings/reset",e)}function d(e,t,n){return Object(i.post)("/api/emails/send",{to:e,subject:t,message:n})}function f(){return Object(i.getJSON)("/api/settings/check_secret_key").catch(o.a)}function g(){return Object(i.postJSON)("/api/settings/generate_secret_key").catch(o.a)}function b(e){return Object(i.postJSON)("/api/settings/encrypt",{value:e}).catch(o.a)}},832:function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return s})),n.d(t,"w",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"u",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"r",(function(){return m})),n.d(t,"d",(function(){return d})),n.d(t,"t",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"s",(function(){return b})),n.d(t,"f",(function(){return h})),n.d(t,"v",(function(){return y})),n.d(t,"g",(function(){return v})),n.d(t,"a",(function(){return E})),n.d(t,"l",(function(){return O})),n.d(t,"h",(function(){return j})),n.d(t,"m",(function(){return _})),n.d(t,"n",(function(){return C})),n.d(t,"o",(function(){return k})),n.d(t,"p",(function(){return S})),n.d(t,"q",(function(){return N}));var a=n(49),r=n(673);function i(){return Object(a.getJSON)("/api/alm_settings/list_definitions")}function o(e){return s(e).catch(r.a)}function s(e){return Object(a.getJSON)("/api/alm_settings/list",{project:e}).then((function(e){return e.almSettings}))}function l(e){return Object(a.get)("/api/alm_settings/validate",{key:e}).then((function(){return""})).catch((function(e){return e.status===a.HttpStatus.BadRequest?Object(a.parseError)(e):Object(r.a)(e)}))}function c(e){return Object(a.post)("/api/alm_settings/create_github",e).catch(r.a)}function u(e){return Object(a.post)("/api/alm_settings/update_github",e).catch(r.a)}function p(e){return Object(a.post)("/api/alm_settings/create_azure",e).catch(r.a)}function m(e){return Object(a.post)("/api/alm_settings/update_azure",e).catch(r.a)}function d(e){return Object(a.post)("/api/alm_settings/create_bitbucket",e).catch(r.a)}function f(e){return Object(a.post)("/api/alm_settings/update_bitbucket",e).catch(r.a)}function g(e){return Object(a.post)("/api/alm_settings/create_bitbucketcloud",e).catch(r.a)}function b(e){return Object(a.post)("/api/alm_settings/update_bitbucketcloud",e).catch(r.a)}function h(e){return Object(a.post)("/api/alm_settings/create_gitlab",e).catch(r.a)}function y(e){return Object(a.post)("/api/alm_settings/update_gitlab",e).catch(r.a)}function v(e){return Object(a.post)("/api/alm_settings/delete",{key:e}).catch(r.a)}function E(e){return Object(a.getJSON)("/api/alm_settings/count_binding",{almSetting:e}).then((function(e){return e.projects})).catch(r.a)}function O(e){return Object(a.getJSON)("/api/alm_settings/get_binding",{project:e})}function j(e){return Object(a.post)("/api/alm_settings/delete_binding",{project:e}).catch(r.a)}function _(e){return Object(a.post)("/api/alm_settings/set_azure_binding",e).catch(r.a)}function C(e){return Object(a.post)("/api/alm_settings/set_bitbucket_binding",e).catch(r.a)}function k(e){return Object(a.post)("/api/alm_settings/set_bitbucketcloud_binding",e).catch(r.a)}function S(e){return Object(a.post)("/api/alm_settings/set_github_binding",e).catch(r.a)}function N(e){return Object(a.post)("/api/alm_settings/set_gitlab_binding",e).catch(r.a)}},968:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s}));var a="almintegration",r="exclusions",i="languages",o="new_code_period",s="pull_request_decoration_binding"}}]);
//# sourceMappingURL=308.1648830816893.chunk.js.map