(window.webpackJsonp=window.webpackJsonp||[]).push([[309],{1297:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(13),a=r(667),o=r(1093),i=r.n(o),l=r(176),c=r(670),s=r(779);r(1298);function u(e){var t=e.branchLike,r=e.component,o=e.graph,u=e.label,p=e.metric;return n.createElement(a.c,{className:"activity-link",to:void 0!==p&&void 0!==o&&Object(s.j)(o)?Object(c.r)(r,p,t):Object(c.a)(r,t,o)},n.createElement(i.a,{className:"little-spacer-right",size:14}),n.createElement("span",null,u||Object(l.translate)("portfolio.activity_link")))}},1298:function(e,t,r){var n=r(662),a=r(1299);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(n(a,o),a.locals?a.locals:{});e.exports=i},1299:function(e,t,r){(t=r(663)(!1)).push([e.i,"a.activity-link{border:none}.activity-link>span{border-bottom:1px solid #cae3f2}",""]),e.exports=t},2027:function(e,t,r){var n=r(662),a=r(2028);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(n(a,o),a.locals?a.locals:{});e.exports=i},2028:function(e,t,r){(t=r(663)(!1)).push([e.i,".measures-link{border:none}.measures-link>span{border-bottom:1px solid #cae3f2}",""]),e.exports=t},2029:function(e,t,r){var n=r(662),a=r(2030);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(n(a,o),a.locals?a.locals:{});e.exports=i},2030:function(e,t,r){(t=r(663)(!1)).push([e.i,".portfolio-overview>h1{font-weight:400}.portfolio-overview>.page-actions{margin-bottom:0}.portfolio-measure-secondary-value{line-height:24px;font-size:18px;font-weight:300}.portfolio-grid{position:relative;z-index:10;display:flex;justify-content:space-around;align-items:center}.portfolio-grid>li{vertical-align:top;width:50%;text-align:center}.portfolio-grid>li.text-middle{vertical-align:middle}.portfolio-freshness{line-height:24px;white-space:nowrap}.portfolio-description{max-width:60%}.portfolio-boxes{display:flex;justify-content:space-between;align-items:stretch;margin-bottom:20px;padding:15px 0;width:100%}.portfolio-box{flex:1 0 10%;position:relative;padding:0 16px 66px;margin:0 8px;border:1px solid #e6e6e6;background-color:#fff;box-sizing:border-box}.portfolio-box:first-child{margin-left:0}.portfolio-box:last-child{margin-right:0}.portfolio-box-title{padding:8px 0 16px;margin:8px 0 16px;font-size:16px;line-height:16px;border-bottom:1px solid #e6e6e6;white-space:nowrap}.portfolio-box-title>.button-small>svg{margin-top:0}.portfolio-box>h3{color:#666;font-size:12px;font-weight:400;margin-top:8px}.portfolio-box-rating,.portfolio-box-rating .rating{display:block;width:80px;height:80px;line-height:80px}.portfolio-box-rating{margin:16px auto;border:none}.portfolio-box-rating .rating{border-radius:80px;font-size:48px;text-align:center}.portfolio-box-rating .rating.no-rating{color:#666;font-size:16px}.portfolio-box-links{border-top:1px solid #e6e6e6;text-align:center;position:absolute;bottom:0;left:0;right:0}.portfolio-box-links>div{display:inline-block;padding:12px 0;width:50%;box-sizing:border-box}.portfolio-box-links>div:first-child{border-right:1px solid #e6e6e6}.portfolio-box-links svg,.portfolio-breakdown-box-link svg{vertical-align:middle}.portfolio-breakdown{display:flex}.portfolio-breakdown-box{flex:0 0 auto;display:flex;flex-direction:column;background-color:#fff;border:1px solid #e6e6e6;margin:8px 0 16px}.portfolio-breakdown-box+.portfolio-breakdown-box{margin-left:16px}.portfolio-breakdown-box .portfolio-breakdown-metric,.portfolio-breakdown-box h2{margin:8px 16px 0}.portfolio-breakdown-box-link{margin-top:16px;border-top:1px solid #e6e6e6;padding:16px}.portfolio-sub-components table.data th{font-size:13px;text-transform:none;vertical-align:middle}.portfolio-sub-components-cell{width:110px}.portfolio-meta-header{margin-bottom:4px;color:#333}.portfolio-meta-card{min-width:200px;box-sizing:border-box}.portfolio-meta-card+.portfolio-meta-card{margin-top:16px;padding-top:15px;border-top:1px solid #e6e6e6}",""]),e.exports=t},2198:function(e,t,r){"use strict";r.r(t),r.d(t,"App",(function(){return fe}));var n=r(13),a=r(674),o=r(176),i=r(724),l=r(894),c=r(660),s=r(667),u=r(2026),p=r.n(u),m=r(670);r(2027);function f(e){var t=e.branchLike,r=e.className,a=e.component,i=e.label,l=e.metric;return n.createElement(s.c,{className:c("measures-link",r),to:Object(m.h)({branchLike:t,componentKey:a,metric:l})},n.createElement(p.a,{className:"little-spacer-right",size:14}),n.createElement("span",null,i||Object(o.translate)("portfolio.measures_link")))}var d=r(775),b=r(859),g=r(676),_=(r(2029),["projects","ncloc","ncloc_language_distribution","releasability_rating","releasability_effort","sqale_rating","maintainability_rating_effort","reliability_rating","reliability_rating_effort","security_rating","security_rating_effort","security_review_rating","security_review_rating_effort","last_change_on_releasability_rating","last_change_on_maintainability_rating","last_change_on_security_rating","last_change_on_security_review_rating","last_change_on_reliability_rating"]),y={releasability:{measuresMetric:"Releasability",label:"metric_domain.Releasability",rating:"releasability_rating",effort:"releasability_effort",last_change:"last_change_on_releasability_rating"},reliability:{measuresMetric:"Reliability",label:"metric_domain.Reliability",rating:"reliability_rating",effort:"reliability_rating_effort",last_change:"last_change_on_reliability_rating",activity:"reliability_rating,bugs"},vulnerabilities:{measuresMetric:"Security",label:"portfolio.metric_domain.vulnerabilities",rating:"security_rating",effort:"security_rating_effort",last_change:"last_change_on_security_rating",activity:"security_rating,vulnerabilities"},security_hotspots:{measuresMetric:"security_review_rating",label:"portfolio.metric_domain.security_hotspots",rating:"security_review_rating",effort:"security_review_rating_effort",last_change:"last_change_on_security_review_rating",activity:"security_review_rating,security_hotspots"},maintainability:{measuresMetric:"Maintainability",label:"metric_domain.Maintainability",rating:"sqale_rating",effort:"maintainability_rating_effort",last_change:"last_change_on_maintainability_rating",activity:"sqale_rating,code_smells"}},h=["ncloc","releasability_rating","security_rating","security_review_rating","reliability_rating","sqale_rating","alert_status"];function v(e){var t={};return e.forEach((function(e){t[e.metric]=e.value})),t}var x=r(672),E=r.n(x),j=r(735),O=r.n(j),N=r(1297),w=r(858),k=r(665),T=r(759),M=r.n(T);function S(e){var t=e.component,r=e.effort,a=e.metricKey;return n.createElement("div",{className:"portfolio-effort"},n.createElement(k.FormattedMessage,{defaultMessage:Object(o.translate)("portfolio.x_in_y"),id:"portfolio.x_in_y",values:{projects:n.createElement(s.c,{to:Object(m.h)({componentKey:t,metric:a,listView:!0})},n.createElement("span",null,n.createElement(d.a,{className:"little-spacer-right",metricKey:"projects",metricType:"SHORT_INT",value:String(r.projects)}),1===r.projects?Object(o.translate)("project_singular"):Object(o.translate)("project_plural"))),rating:n.createElement(M.a,{small:!0,value:r.rating})}}))}function R(e){var t=e.component,r=e.metric,a=e.value;return n.createElement(s.c,{className:"portfolio-box-rating",to:Object(m.s)(t,r)},n.createElement(M.a,{value:a}))}var K=r(715),q=r.n(K);function C(e){var t=e.lastChange,r=e.rating;if(!t)return n.createElement("div",{className:"portfolio-freshness"},r&&n.createElement(k.FormattedMessage,{defaultMessage:Object(o.translate)("portfolio.has_always_been_x"),id:"portfolio.has_always_been_x",values:{rating:n.createElement(M.a,{small:!0,value:r})}}));var a=JSON.parse(t);return n.createElement("div",{className:"portfolio-freshness"},n.createElement(k.FormattedMessage,{defaultMessage:Object(o.translate)("portfolio.was_x_y"),id:"portfolio.was_x_y",values:{rating:n.createElement(M.a,{small:!0,value:a.value}),date:n.createElement(q.a,{date:a.date})}}))}function P(e){var t=e.component,r=e.measures,a=e.metricKey,i=y[a],l=r[i.rating],c=r[i.last_change],u=r[i.effort],p=u?JSON.parse(u):void 0;return n.createElement("div",{className:"portfolio-box"},n.createElement("h2",{className:"portfolio-box-title"},Object(o.translate)(i.label),n.createElement(E.a,{className:"little-spacer-left",overlay:Object(o.translate)("portfolio.metric_domain",a,"help")})),l?n.createElement(R,{component:t,metric:i.rating,value:l}):n.createElement("div",{className:"portfolio-box-rating"},n.createElement("span",{className:"rating no-rating"},"â€”")),l&&n.createElement(n.Fragment,null,n.createElement("h3",null,Object(o.translate)("portfolio.metric_trend")),n.createElement(C,{lastChange:c,rating:l})),"releasability"===a?Number(p)>0&&n.createElement(n.Fragment,null,n.createElement("h3",null,Object(o.translate)("portfolio.lowest_rated_projects")),n.createElement("div",{className:"portfolio-effort"},n.createElement(s.c,{to:Object(m.h)({componentKey:t,metric:"alert_status"})},n.createElement("span",null,n.createElement(d.a,{className:"little-spacer-right",metricKey:"projects",metricType:"SHORT_INT",value:p}),1===Number(p)?Object(o.translate)("project_singular"):Object(o.translate)("project_plural"))),n.createElement(O.a,{"aria-label":1===Number(p)?Object(o.translate)("portfolio.has_qg_status"):Object(o.translate)("portfolio.have_qg_status"),className:"little-spacer-left",level:"ERROR",small:!0}))):p&&n.createElement(n.Fragment,null,n.createElement("h3",null,Object(o.translate)("portfolio.lowest_rated_projects")),n.createElement(S,{component:t,effort:p,metricKey:i.rating})),n.createElement("div",{className:"portfolio-box-links"},n.createElement("div",null,n.createElement(f,{component:t,metric:i.measuresMetric})),n.createElement("div",null,n.createElement(N.a,{component:t,metric:i.activity||i.rating,graph:w.a.custom}))))}var I=r(661),z=r(675),A=r.n(z),F=r(683),U=r.n(F),L=r(49),W=r(673),D=r(38);function G(e){return Object(L.getJSON)("/api/governance_reports/status",{componentKey:e}).catch(W.a)}function H(e){return Object(D.getBaseUrl)()+"/api/governance_reports/download?componentKey="+encodeURIComponent(e)}function J(e){return Object(L.post)("/api/governance_reports/subscribe",{componentKey:e}).catch(W.a)}function V(e){return Object(L.post)("/api/governance_reports/unsubscribe",{componentKey:e}).catch(W.a)}var B,Z=r(785),Q=r(702),X=(B=function(e,t){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}B(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSubscription=function(e){Object(Z.a)(e?Object(o.translateWithParameters)("report.subscribe_x_success",t.getFrequencyText()):Object(o.translateWithParameters)("report.unsubscribe_x_success",t.getFrequencyText())),t.props.onSubscribe()},t.handleSubscribe=function(){J(t.props.component).then((function(){return t.handleSubscription(!0)})).catch(W.a)},t.handleUnsubscribe=function(){V(t.props.component).then((function(){return t.handleSubscription(!1)})).catch(W.a)},t.getFrequencyText=function(){var e=t.props.status.componentFrequency||t.props.status.globalFrequency;return Object(o.translate)("report.frequency",e)},t}return X(t,e),t.prototype.render=function(){var e=Object(Q.b)(this.props.currentUser)&&!!this.props.currentUser.email,t=this.props.status;return e?t.subscribed?n.createElement("a",{href:"#",onClick:this.handleUnsubscribe},Object(o.translateWithParameters)("report.unsubscribe_x",this.getFrequencyText())):n.createElement("a",{href:"#",onClick:this.handleSubscribe},Object(o.translateWithParameters)("report.subscribe_x",this.getFrequencyText())):n.createElement("span",{className:"text-muted-2"},Object(o.translate)("report.no_email_to_subscribe"))},t}(n.PureComponent),$=Object(a.b)((function(e){return{currentUser:Object(g.getCurrentUser)(e)}}))(Y),ee=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!0},t.loadStatus=function(){G(t.props.component.key).then((function(e){t.mounted&&t.setState({status:e,loading:!1})}),(function(){t.mounted&&t.setState({loading:!1})}))},t}return ee(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.loadStatus()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props.component,t=this.state,r=t.status;return t.loading||!r?null:r.canSubscribe?n.createElement(A.a,{overlay:n.createElement("ul",{className:"menu"},n.createElement("li",null,n.createElement("a",{download:e.name+" - Executive Report.pdf",href:H(e.key),target:"_blank",rel:"noopener noreferrer"},Object(o.translate)("report.print"))),n.createElement("li",null,n.createElement($,{component:e.key,onSubscribe:this.loadStatus,status:r}))),tagName:"li"},n.createElement(I.Button,{className:"dropdown-toggle"},Object(o.translate)("portfolio.pdf_report"),n.createElement(U.a,{className:"spacer-left icon-half-transparent"}))):n.createElement("a",{className:"button",download:e.name+" - Executive Report.pdf",href:H(e.key),target:"_blank",rel:"noopener noreferrer"},Object(o.translate)("report.print"))},t}(n.PureComponent),re=r(1287),ne=r.n(re),ae=r(694),oe=r.n(ae),ie=r(669),le=r(698),ce=r(686);function se(e){var t=e.component,r=e.subComponents,a=e.total,i=r.length;if(!i)return null;var l=ne()(r.map((function(e){return Number(e.measures.ncloc||0)}))),c={pathname:"/code",query:{id:t}};return n.createElement("div",{className:"panel panel-white portfolio-sub-components",id:"portfolio-sub-components"},n.createElement("table",{className:"data zebra"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"Â "),n.createElement("th",{className:"text-center portfolio-sub-components-cell"},Object(o.translate)("metric_domain.Releasability")),n.createElement("th",{className:"text-center portfolio-sub-components-cell"},Object(o.translate)("metric_domain.Reliability")),n.createElement("th",{className:"text-center portfolio-sub-components-cell"},Object(o.translate)("portfolio.metric_domain.vulnerabilities")),n.createElement("th",{className:"text-center portfolio-sub-components-cell"},Object(o.translate)("portfolio.metric_domain.security_hotspots")),n.createElement("th",{className:"text-center portfolio-sub-components-cell"},Object(o.translate)("metric_domain.Maintainability")),n.createElement("th",{className:"text-center portfolio-sub-components-cell"},Object(o.translate)("metric.ncloc.name")))),n.createElement("tbody",null,r.map((function(e){return n.createElement("tr",{key:e.key},n.createElement("td",null,n.createElement(s.c,{className:"link-with-icon",to:Object(m.k)(e.refKey||e.key,e.qualifier)},n.createElement(oe.a,{qualifier:e.qualifier})," ",e.name)),e.qualifier===ce.a.Project?ue(e.measures,"alert_status","LEVEL"):ue(e.measures,"releasability_rating","RATING"),ue(e.measures,"reliability_rating","RATING"),ue(e.measures,"security_rating","RATING"),ue(e.measures,"security_review_rating","RATING"),ue(e.measures,"sqale_rating","RATING"),function(e,t){var r=Number(e.ncloc||0),a=t>0?Math.max(1,Math.round(r/t*50)):0;return n.createElement("td",{className:"text-right"},n.createElement("span",{className:"note"},n.createElement(d.a,{metricKey:"ncloc",metricType:"SHORT_INT",value:e.ncloc})),t>0&&n.createElement("svg",{className:"spacer-left",height:"16",width:"50"},n.createElement("rect",{className:"bar-chart-bar",fill:le.colors.blue,height:"10",width:a,x:"0",y:"3"})))}(e.measures,l))})))),a>i&&n.createElement("footer",{className:"spacer-top note text-center"},Object(o.translateWithParameters)("x_of_y_shown",Object(ie.formatMeasure)(i,"INT"),Object(ie.formatMeasure)(a,"INT")),n.createElement(s.c,{className:"spacer-left",to:c},Object(o.translate)("show_more"))))}function ue(e,t,r){return n.createElement("td",{className:"text-center"},n.createElement(d.a,{metricKey:t,metricType:r,value:e[t]}))}var pe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),me=function(){return(me=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!0},t.isEmpty=function(){return void 0===t.state.measures||void 0===t.state.measures.ncloc},t.isNotComputed=function(){return t.state.measures&&void 0===t.state.measures.reliability_rating},t}return pe(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.props.fetchMetrics(),this.fetchData()},t.prototype.componentDidUpdate=function(e){e.component!==this.props.component&&this.fetchData()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.fetchData=function(){var e=this;this.setState({loading:!0}),Promise.all([Object(l.d)({component:this.props.component.key,metricKeys:_.join()}),Object(i.h)(this.props.component.key,h,{ps:20,s:"qualifier"})]).then((function(t){var r=t[0],n=t[1];e.mounted&&e.setState({loading:!1,measures:v(r),subComponents:n.components.map((function(e){return me(me({},e),{measures:v(e.measures)})})),totalSubComponents:n.paging.total})}),(function(){e.mounted&&e.setState({loading:!1})}))},t.prototype.renderSpinner=function(){return n.createElement("div",{className:"page page-limited"},n.createElement("div",{className:"text-center"},n.createElement("i",{className:"spinner spacer"})))},t.prototype.renderEmpty=function(){return n.createElement("div",{className:"page page-limited"},n.createElement("div",{className:"empty-search"},n.createElement("h3",null,this.state.measures&&this.state.measures.projects?Object(o.translate)("portfolio.no_lines_of_code"):Object(o.translate)("portfolio.empty"))))},t.prototype.renderWhenNotComputed=function(){return n.createElement("div",{className:"page page-limited"},n.createElement("div",{className:"empty-search"},n.createElement("h3",null,Object(o.translate)("portfolio.not_computed"))))},t.prototype.render=function(){var e=this.props.component,t=this.state,r=t.loading,a=t.measures,i=t.subComponents,l=t.totalSubComponents;return r?this.renderSpinner():this.isEmpty()?this.renderEmpty():this.isNotComputed()?this.renderWhenNotComputed():n.createElement("div",{className:"page page-limited portfolio-overview"},n.createElement("div",{className:"page-actions"},n.createElement(te,{component:e})),e.description&&n.createElement("div",{className:"portfolio-description display-inline-block big-spacer-bottom"},e.description),n.createElement("h1",null,Object(o.translate)("portfolio.health_factors")),n.createElement("div",{className:"portfolio-boxes"},n.createElement(P,{component:e.key,measures:a,metricKey:"releasability"}),n.createElement(P,{component:e.key,measures:a,metricKey:"reliability"}),n.createElement(P,{component:e.key,measures:a,metricKey:"vulnerabilities"}),n.createElement(P,{component:e.key,measures:a,metricKey:"security_hotspots"}),n.createElement(P,{component:e.key,measures:a,metricKey:"maintainability"})),n.createElement("h1",null,Object(o.translate)("portfolio.breakdown")),n.createElement("div",{className:"portfolio-breakdown"},n.createElement("div",{className:"portfolio-breakdown-box"},n.createElement("h2",{className:"text-muted small"},Object(o.translate)("portfolio.number_of_projects")),n.createElement("div",{className:"portfolio-breakdown-metric huge"},n.createElement(d.a,{metricKey:"projects",metricType:"SHORT_INT",value:a&&a.projects||"0"})),n.createElement("div",{className:"portfolio-breakdown-box-link"},n.createElement("div",null,n.createElement(f,{component:e.key,metric:"projects"})))),n.createElement("div",{className:"portfolio-breakdown-box"},n.createElement("h2",{className:"text-muted small"},Object(o.translate)("portfolio.number_of_lines")),n.createElement("div",{className:"portfolio-breakdown-metric huge"},n.createElement(d.a,{metricKey:"ncloc",metricType:"SHORT_INT",value:a&&a.ncloc||"0"})),n.createElement("div",{className:"portfolio-breakdown-box-link"},n.createElement("div",null,n.createElement(f,{component:e.key,label:Object(o.translate)("portfolio.language_breakdown_link"),metric:"ncloc"}))))),void 0!==i&&void 0!==l&&n.createElement(se,{component:e.key,subComponents:i,total:l}))},t}(n.PureComponent),de={fetchMetrics:b.e};t.default=Object(a.b)((function(e){return{metrics:Object(g.getMetrics)(e)}}),de)(fe)},768:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return c}));var n=r(707),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},o=["sqale_rating","maintainability_rating","reliability_rating","security_rating","security_review_rating"];function i(e,t){return a(a({},e),{metric:t[e.metric],leak:l(e)})}function l(e){var t;return null===(t=null==e?void 0:e.period)||void 0===t?void 0:t.value}function c(e,t){var r=Object(n.isDiffMetric)(e)?e.substr(4):e;if(o.includes(r))return Object(n.getRatingTooltip)(r,t)}},775:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n=r(13),a=r(666),o=r.n(a),i=r(735),l=r.n(i),c=r(759),s=r.n(c),u=r(669),p=r(768);function m(e){var t=e.className,r=e.decimals,a=e.metricKey,i=e.metricType,c=e.small,m=e.value;if(void 0===m)return n.createElement("span",{className:t},"â€“");if("LEVEL"===i)return n.createElement(l.a,{className:t,level:m,small:c});if("RATING"!==i){var f=Object(u.formatMeasure)(m,i,{decimals:r,omitExtraDecimalZeros:"PERCENT"===i});return n.createElement("span",{className:t},null!=f?f:"â€“")}var d=Object(p.c)(a,Number(m)),b=n.createElement(s.a,{small:c,value:m});return d?n.createElement(o.a,{overlay:d},n.createElement("span",{className:t},b)):b}},779:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"j",(function(){return E})),r.d(t,"e",(function(){return j})),r.d(t,"h",(function(){return O})),r.d(t,"i",(function(){return N})),r.d(t,"g",(function(){return w})),r.d(t,"d",(function(){return k})),r.d(t,"f",(function(){return T})),r.d(t,"l",(function(){return M})),r.d(t,"b",(function(){return S})),r.d(t,"k",(function(){return R})),r.d(t,"c",(function(){return K}));var n,a,o=r(679),i=r.n(o),l=r(733),c=r.n(l),s=r(880),u=r.n(s),p=r(1003),m=r.n(p),f=r(176),d=r(93),b=r(707),g=r(744),_=r(858),y=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,a++)n[a]=o[i];return n},h=_.a.issues,v=((n={})[_.a.issues]=[g.a.bugs,g.a.code_smells,g.a.vulnerabilities],n[_.a.coverage]=[g.a.lines_to_cover,g.a.uncovered_lines],n[_.a.duplications]=[g.a.ncloc,g.a.duplicated_lines],n),x=((a={})[_.a.issues]=v[_.a.issues].concat([g.a.reliability_rating,g.a.security_rating,g.a.sqale_rating]),a[_.a.coverage]=y(v[_.a.coverage],[g.a.coverage]),a[_.a.duplications]=y(v[_.a.duplications],[g.a.duplicated_lines_density]),a);function E(e){return e===_.a.custom}function j(e){void 0===e&&(e=!1);var t=[_.a.issues,_.a.coverage,_.a.duplications];return e?t:y(t,[_.a.custom])}function O(e){return e.data.some((function(e){return Boolean(e.y||0===e.y)}))}function N(e){return e.some((function(e){return e.data&&e.data.length>1}))}function w(e){return e.length>0?e[0].type:"INT"}function k(e,t){return E(e)?t:v[e]}function T(e,t){return E(e)?t:x[e]}function M(e,t,r){return u()(c()(e,(function(e){return e.type})),(function(e){return m()(e,r)})).slice(0,t)}function S(e,t,r,n){return n.length<=0||void 0===e?[]:i()(e.filter((function(e){return n.indexOf(e.metric)>=0})).map((function(n){if(n.metric===g.a.uncovered_lines&&!E(t))return function(e,t){var r=t.find((function(e){return e.metric===g.a.lines_to_cover}));return{data:r?e.history.map((function(e,t){return{x:e.date,y:Number(r.history[t].value)-Number(e.value)}})):[],name:"covered_lines",translatedName:Object(f.translate)("project_activity.custom_metric.covered_lines"),type:"INT"}}(n,e);var a=function(e,t){if(Array.isArray(t))return t.find((function(t){return t.key===e}));return t[e]}(n.metric,r);return{data:n.history.map((function(e){return{x:e.date,y:a&&"LEVEL"===a.type?e.value:Number(e.value)}})),name:n.metric,translatedName:a?Object(f.getLocalizedMetricName)(a):Object(b.localizeMetric)(n.metric),type:a?a.type:"INT"}})),(function(e){return n.indexOf("covered_lines"===e.name?"uncovered_lines":e.name)}))}function R(e,t,r,n){void 0===n&&(n=[]),Object(d.save)(e,r,t),E(r)&&Object(d.save)(e+".custom",n.join(","),t)}function K(e,t){var r=Object(d.get)(e+".custom",t);return{graph:Object(d.get)(e,t)||h,customGraphs:r?r.split(","):[]}}},785:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(765),a=r(763);function o(e){Object(a.default)().dispatch(n.b(e))}},858:function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e.issues="issues",e.coverage="coverage",e.duplications="duplications",e.custom="custom"}(n||(n={}))}}]);
//# sourceMappingURL=309.1648830816893.chunk.js.map