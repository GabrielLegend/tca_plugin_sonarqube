(window.webpackJsonp=window.webpackJsonp||[]).push([[287],{1061:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var o=n(660),r=n(13),i=n(667),s=n(661),a=n(703),c=n(980),l=n.n(c),u=n(694),p=n.n(u),d=n(668),h=n.n(d),f=n(176),m=n(754),g=n(687),v=n(677),b=n(670),y=n(686),k=(n(1062),function(){return(k=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)});function x(e){var t=e.branchLike,n=e.expandable,c=e.displayProjectName,u=void 0===c||c,d=e.linkToProject,x=void 0===d||d,E=e.loading,L=e.onExpand,O=e.sourceViewerFile,C=O.measures,j=O.path,w=O.project,A=O.projectName,N=O.q,P=O.subProject,I=O.subProjectName,_=r.createElement(r.Fragment,null,r.createElement(p.a,{qualifier:y.a.Project})," ",r.createElement("span",null,A));return r.createElement("div",{className:"source-viewer-header-slim display-flex-row display-flex-space-between"},r.createElement("div",{className:"display-flex-center flex-1"},u&&r.createElement("div",{className:"spacer-right"},x?r.createElement("a",{className:"link-with-icon",href:Object(g.getPathUrlAsString)(Object(b.c)(w,t))},_):_),void 0!==P&&r.createElement(r.Fragment,null,r.createElement(p.a,{qualifier:y.a.SubProject})," ",r.createElement("span",{className:"spacer-right"},I)),r.createElement("div",{className:"spacer-right"},r.createElement(p.a,{qualifier:N})," ",r.createElement("span",null,Object(m.collapsedDirFromPath)(j)),r.createElement("span",{className:"component-name-file"},Object(m.fileFromPath)(j))),r.createElement("div",{className:"spacer-right"},r.createElement(a.ClipboardIconButton,{className:"button-link link-no-underline",copyValue:j}))),void 0!==C.issues&&r.createElement("div",{className:o("flex-0 big-spacer-left",{"little-spacer-right":!n||E})},r.createElement(i.c,{to:Object(b.j)(w,k(k({},Object(v.d)(t)),{files:j,resolved:"false"}))},Object(f.translate)("source_viewer.view_all_issues"))),n&&r.createElement(h.a,{className:"little-spacer-right",loading:E},r.createElement("div",{className:"flex-0 big-spacer-left"},r.createElement(s.ButtonIcon,{className:"js-actions",onClick:L},r.createElement(l.a,null)))))}},1062:function(e,t,n){var o=n(662),r=n(1063);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},s=(o(r,i),r.locals?r.locals:{});e.exports=s},1063:function(e,t,n){(t=n(663)(!1)).push([e.i,".source-viewer-header-slim{padding:4px 10px;border-bottom:1px solid #cdcdcd;background-color:#f3f3f3;align-items:center;min-height:25px}",""]),e.exports=t},1064:function(e,t){e.exports=function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}},1065:function(e,t,n){var o=n(662),r=n(1066);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},s=(o(r,i),r.locals?r.locals:{});e.exports=s},1066:function(e,t,n){(t=n(663)(!1)).push([e.i,'.source-line:hover .source-line-coverage,.source-line:hover .source-line-duplications,.source-line:hover .source-line-duplications-extra,.source-line:hover .source-line-issues,.source-line:hover .source-line-number,.source-line:hover .source-line-scm{border-color:#e9e9e9;background-color:#e9e9e9}.source-line:hover .source-line-code{background-color:#f5f5f5}.source-line [role=button]{cursor:pointer}.source-line-highlighted .source-line-coverage,.source-line-highlighted .source-line-duplications,.source-line-highlighted .source-line-duplications-extra,.source-line-highlighted .source-line-issues,.source-line-highlighted .source-line-number,.source-line-highlighted .source-line-scm,.source-line-highlighted:hover .source-line-coverage,.source-line-highlighted:hover .source-line-duplications,.source-line-highlighted:hover .source-line-duplications-extra,.source-line-highlighted:hover .source-line-issues,.source-line-highlighted:hover .source-line-number,.source-line-highlighted:hover .source-line-scm{border-color:#c4dfec!important;background-color:#c4dfec}.source-line-highlighted .source-line-code,.source-line-highlighted:hover .source-line-code{background-color:#d9edf7}.source-line-filtered .source-line-code{background-color:#fbf3d5!important}.source-line-filtered.source-line-highlighted .source-line-code,.source-line-filtered.source-line-highlighted:hover .source-line-code{background-color:#cdd9c4!important}.source-line-filtered.source-line-filtered-dark .source-line-code{background-color:#f9ebb7!important}.source-line-filtered.source-line-filtered-dark:hover .source-line-code,.source-line-filtered:hover .source-line-code{background-color:#f1e8cb!important}.source-line-last .source-line-code{padding-bottom:160px}.source-line-number,.source-line-scm,.source-viewer pre{line-height:18px;font-family:Consolas,Ubuntu Mono,Liberation Mono,Menlo,Courier,monospace;font-size:12px}.source-line-code{position:relative;padding:0 10px}.source-line-code pre{float:left;word-wrap:break-word;white-space:pre-wrap}.source-line-code .issue-list{margin-left:-10px;margin-right:-10px}.source-line-code-inner{min-height:18px}.source-line-code-inner:after,.source-line-code-inner:before{display:table;content:"";line-height:0}.source-line-code-inner:after{clear:both}.source-line-code-inner pre{-moz-tab-size:4;tab-size:4}.source-line-code-issue{display:inline-block;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAGCAYAAAAPDoR2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1M0M2Rjk4M0M3QUYxMUUzODkzRUREMUM5OTNDMjY4QSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1M0M2Rjk4NEM3QUYxMUUzODkzRUREMUM5OTNDMjY4QSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjUzQzZGOTgxQzdBRjExRTM4OTNFREQxQzk5M0MyNjhBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjUzQzZGOTgyQzdBRjExRTM4OTNFREQxQzk5M0MyNjhBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+bcqJtQAAAEhJREFUeNpi+G+swwDGDAwgbAWlwZiJAQFCgfgwEIfDRaC67ID4NRDnQ2kQnwFZwgFqnANMAQOUYY9sF0wBiCGH5CBkrAgQYACuWi4sSGW8yAAAAABJRU5ErkJggg==);background-repeat:repeat-x;background-size:4px;background-position:bottom}.source-meta{position:relative;vertical-align:top;width:1px;background-clip:padding-box;-webkit-user-select:none;-ms-user-select:none;user-select:none}.source-meta:focus{outline:none}.source-line-number{min-width:18px;padding:0 10px;background-color:#f3f3f3;color:#666;text-align:right}.source-line-issues{position:relative;padding:0 2px;background-color:#f3f3f3;white-space:nowrap}.source-line-with-issues svg{padding-right:2px;vertical-align:middle}.source-line-issues-counter{position:absolute;left:17px;line-height:8px;font-size:8px;z-index:900}.source-line-coverage,.source-line-duplications,.source-line-duplications-extra{background-color:#f3f3f3}.source-line-duplications-extra{display:none}.source-line-scm{padding:0 5px;background-color:#f3f3f3}.source-line-scm .dropdown{display:block}.source-line-scm [role=button]{height:18px}.source-line-scm-inner{max-width:40px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.source-line-bar{width:5px;height:18px}.source-line-bar:focus{outline:none}.source-line-covered{background-color:#b4dd78!important}.source-line-partially-covered,.source-line-uncovered{background-color:#a4030f!important}.source-line-partially-covered{background-image:repeating-linear-gradient(45deg,hsla(0,0%,100%,.5) 4px,transparent 0,transparent 8px,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,.5) 12px,transparent 0,transparent 16px,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,.5) 20px)!important}.source-line-duplicated{background-color:#797979!important}.source-viewer-bubble-popup a{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:13px;text-align:left;-webkit-user-select:text;-ms-user-select:text;user-select:text;border-bottom:none;transition:none;color:unset}',""]),e.exports=t},1078:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a}));var o=n(952),r=n.n(o);function i(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);var n=r()(e,t);return n.length?n:void 0}function s(e,t){return null!=e&&t.some((function(t){return t.index===e.index}))?e:void 0}function a(e,t){return void 0!==e&&t.find((function(t){return t.key===e}))?e:void 0}},1079:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return f}));var o=function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,r++)o[r]=i[s];return o},i=11,s=9,a=50;function c(e,t){var n=e[0],o=e[1],r=t[0];return!(n>t[1]+i||o<r-i)}function l(e){return{component:e.component,textRange:e.textRange||{endLine:0,endOffset:0,startLine:0,startOffset:0}}}function u(e){var t=e.component,n=e.issue,o=e.locations,i=n.secondaryLocations.length>0,a=(i&&n.component===t&&void 0!==n.textRange?r([l(n)],o):o).reduce((function(e,t,o){var r,i=Math.max(1,t.textRange.startLine-5),a=function(e){var t=e.issue,n=e.locationEnd,o=t.textRange&&t.textRange.endLine||0;return o&&o!==n?n+5:n+s}({issue:n,locationEnd:t.textRange.endLine});return e=e.filter((function(e){if(c([e.start,e.end],[i,a])){var t=!1;return r||(r=e,t=!0),r.start=Math.min(i,e.start,r.start),r.end=Math.max(a,e.end,r.end),t}return!0})),void 0===r&&e.push({start:i,end:a,index:o}),e}),[]);return i?a.sort((function(e,t){return e.start-t.start})):a}function p(e,t){return e.map((function(e){for(var n=[],o=e.start;o<=e.end;o++)t[o]&&n.push(t[o]);return n})).filter((function(e){return e.length>0}))}function d(e,t,n){var r,i="",s=[],a=function(e){r=o(o({},n[e]||{component:{key:e,measures:{},path:"",project:"",projectName:"",q:"FIL",uuid:""},sources:[]}),{locations:[]}),s.push(r),i=e};return e.secondaryLocations.length>0&&t.every((function(t){return t.component!==e.component}))&&a(e.component),t.forEach((function(e,t){e.component!==i&&a(e.component),e.index=t,r.locations.push(e)})),s}function h(e){var t=e.direction,n=e.snippetIndex,o=e.snippets,r=o.find((function(e){return e.index===n}));if(!r)throw new Error("Snippet "+n+" not found");return r.start=Math.max(0,r.start-("up"===t?a:0)),r.end+="down"===t?a:0,o.map((function(e){return e.index===n?r:(c([e.start,e.end],[r.start,r.end])&&(r.start=Math.min(e.start,r.start),r.end=Math.max(e.end,r.end),e.toDelete=!0),e)}))}function f(e,t){return e>=t[0].line&&e<=t[t.length-1].line}},1110:function(e,t,n){"use strict";var o=n(1064),r=n.n(o),i=n(660),s=n(13),a=(n(1065),n(897)),c=n(1023),l=n(948),u=n(1009);function p(e){var t=e.issuePopup;return s.createElement("div",{className:"issue-list"},e.issues.map((function(n){return s.createElement(u.a,{branchLike:e.branchLike,displayLocationsCount:e.displayIssueLocationsCount,displayLocationsLink:e.displayIssueLocationsLink,issue:n,key:n.key,onChange:e.onIssueChange,onClick:e.onIssueClick,onPopupToggle:e.onIssuePopupToggle,openPopup:t&&t.issue===n.key?t.name:void 0,selected:e.selectedIssue===n.key})})))}var d,h=(d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,r++)o[r]=i[s];return o},m=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSymbolClick=function(e){e.preventDefault();var t=e.currentTarget.className.match(/sym-\d+/g);t&&t.length>0&&n.props.onSymbolClick(t)},n.state={tokens:Object(l.c)(t.line.code||"")},n}return h(t,e),t.prototype.componentDidMount=function(){this.attachEvents(),this.props.highlightedLocationMessage&&this.activeMarkerNode&&this.props.scroll&&this.props.scroll(this.activeMarkerNode)},t.prototype.componentWillReceiveProps=function(e){e.line.code!==this.props.line.code&&this.setState({tokens:Object(l.c)(e.line.code||"")})},t.prototype.componentWillUpdate=function(){this.detachEvents()},t.prototype.componentDidUpdate=function(e){this.attachEvents(),this.props.highlightedLocationMessage&&(!e.highlightedLocationMessage||e.highlightedLocationMessage.index!==this.props.highlightedLocationMessage.index)&&this.activeMarkerNode&&this.props.scroll&&this.props.scroll(this.activeMarkerNode)},t.prototype.componentWillUnmount=function(){this.detachEvents()},t.prototype.attachEvents=function(){if(this.codeNode&&(this.symbols=this.codeNode.querySelectorAll(".sym"),this.symbols))for(var e=0;e<this.symbols.length;e++){this.symbols[e].addEventListener("click",this.handleSymbolClick)}},t.prototype.detachEvents=function(){if(this.symbols)for(var e=0;e<this.symbols.length;e++){this.symbols[e].addEventListener("click",this.handleSymbolClick)}},t.prototype.renderMarker=function(e,t,n,o){var r=this,i=this.props.onLocationSelect,l=i?function(){return i(e)}:void 0,u=n?function(e){return r.activeMarkerNode=e}:void 0;return s.createElement(a.a,{key:"marker-"+e,leading:o,onClick:l,selected:n},s.createElement("span",{ref:u},e+1),t&&s.createElement(c.a,{selected:!0},t))},t.prototype.render=function(){var e=this,t=this.props,n=t.highlightedLocationMessage,o=t.highlightedSymbols,r=t.issues,a=t.issueLocations,c=t.line,u=t.onIssueSelect,d=t.padding,h=t.secondaryIssueLocations,m=t.selectedIssue,g=t.showIssues,v=f(this.state.tokens);if(o&&o.forEach((function(e){v=Object(l.b)(v,e)})),a.length>0&&(v=Object(l.a)(v,a)),h&&(v=Object(l.a)(v,h,"issue-location"),n)){var b=h.find((function(e){return e.index===n.index}));b&&(v=Object(l.a)(v,[b],"selected"))}var y=i("source-line-code","code",{"has-issues":r.length>0}),k=[],x=!1;v.forEach((function(t,o){e.props.displayLocationMarkers&&t.markers.length>0&&t.markers.forEach((function(t){var o=void 0!==n&&n.index===t,r=h.find((function(e){return e.index===t})),i=r&&r.text;k.push(e.renderMarker(t,i,o,x))})),k.push(s.createElement("span",{className:t.className,key:o},t.text)),x=(0===o||x)&&!t.text.trim().length}));var E=d?{paddingBottom:d+"px"}:void 0,L=r.filter((function(e){return e.key===m}));return s.createElement("td",{className:y,"data-line-number":c.line,style:E},s.createElement("div",{className:"source-line-code-inner"},s.createElement("pre",{ref:function(t){return e.codeNode=t}},k)),g&&r.length>0&&s.createElement(p,{branchLike:this.props.branchLike,displayIssueLocationsCount:this.props.displayIssueLocationsCount,displayIssueLocationsLink:this.props.displayIssueLocationsLink,issuePopup:this.props.issuePopup,issues:r,onIssueChange:this.props.onIssueChange,onIssueClick:u,onIssuePopupToggle:this.props.onIssuePopupToggle,selectedIssue:m}),m&&!g&&s.createElement(p,{branchLike:this.props.branchLike,issuePopup:this.props.issuePopup,issues:L,onIssueChange:this.props.onIssueChange,onIssueClick:u,onIssuePopupToggle:this.props.onIssuePopupToggle,selectedIssue:m}))},t}(s.PureComponent),g=n(666),v=n.n(g),b=n(176);var y=s.memo((function(e){var t=e.line,n=e.scroll,o=e.scrollToUncoveredLine,r=s.useRef(null);s.useEffect((function(){o&&n&&r.current&&n(r.current)}),[o,n,r]);var i="source-meta source-line-coverage"+(null!=t.coverageStatus?" source-line-"+t.coverageStatus:""),a=function(e){if("uncovered"===e.coverageStatus)return e.conditions?Object(b.translateWithParameters)("source_viewer.tooltip.uncovered.conditions",e.conditions):Object(b.translate)("source_viewer.tooltip.uncovered");if("covered"===e.coverageStatus)return e.conditions?Object(b.translateWithParameters)("source_viewer.tooltip.covered.conditions",e.conditions):Object(b.translate)("source_viewer.tooltip.covered");if("partially-covered"===e.coverageStatus)return e.conditions?Object(b.translateWithParameters)("source_viewer.tooltip.partially-covered.conditions",e.coveredConditions||0,e.conditions):Object(b.translate)("source_viewer.tooltip.partially-covered");return}(t);return s.createElement("td",{className:i,"data-line-number":t.line,ref:r},s.createElement(v.a,{overlay:a,placement:"bottom"},s.createElement("div",{"aria-label":a,className:"source-line-bar"})))})),k=n(675),x=n.n(k),E=n(708),L=n.n(E),O=n(721);var C=s.memo((function(e){var t=e.blocksLoaded,n=e.duplicated,o=e.index,r=e.line,a=s.useState(!1),c=a[0],l=a[1],u=i("source-meta","source-line-duplications",{"source-line-duplicated":n});return n?s.createElement("td",{className:u,"data-index":o,"data-line-number":r.line},s.createElement(v.a,{overlay:c?void 0:Object(b.translate)("source_viewer.tooltip.duplicated_block"),placement:"right"},s.createElement("div",null,s.createElement(L.a,{onRequestClose:function(){return l(!1)},open:c,overlay:s.createElement(k.DropdownOverlay,{placement:O.PopupPlacement.RightTop},e.renderDuplicationPopup(o,r.line))},s.createElement("div",{"aria-label":Object(b.translate)("source_viewer.tooltip.duplicated_block"),className:"source-line-bar",onClick:function(){l(!0),!t&&r.duplicated&&e.onClick&&e.onClick(r)},role:"button",tabIndex:0}))))):s.createElement("td",{className:u,"data-index":o,"data-line-number":r.line},s.createElement("div",{className:"source-line-bar"}))})),j=n(805),w=n.n(j),A=n(791),N=n.n(A),P=n(893);var I=s.memo((function(e){var t=e.issues,n=e.issuesOpen,o=e.line,r=t.length>0,a=i("source-meta","source-line-issues",{"source-line-with-issues":r});if(!r)return s.createElement("td",{className:a,"data-line-number":o.line});var c,l=Object(P.c)(t)[0];return c=w()(t.map((function(e){return e.type}))).length>1?Object(b.translate)("source_viewer.issues_on_line.multiple_issues"):1===t.length?Object(b.translateWithParameters)("source_viewer.issues_on_line.issue_of_type_X",Object(b.translate)("issue.type",l.type)):Object(b.translateWithParameters)("source_viewer.issues_on_line.X_issues_of_type_Y",t.length,Object(b.translate)("issue.type",l.type,"plural")),s.createElement("td",{className:a,"data-line-number":o.line},s.createElement("span",{"aria-label":Object(b.translate)("source_viewer.issues_on_line",n?"hide":"show"),onClick:function(t){t.preventDefault(),t.currentTarget.blur(),e.onClick()},role:"button",tabIndex:0},s.createElement(v.a,{overlay:c},s.createElement(N.a,{type:l.type})),t.length>1&&s.createElement("span",{className:"source-line-issues-counter"},t.length)))})),_=n(723),S=n(687),M=n(670),R=n(950);var D=s.memo((function(e){var t=e.firstLineNumber,n=e.line;return s.createElement(R.a.Consumer,null,(function(e){var o=e.branchLike,r=e.file,i=Object(M.e)(r.project,o,r.key,n.line),a=Object(S.getPathUrlAsString)(i,!1),c=n.line-4<t;return s.createElement(k.DropdownOverlay,{className:"big-spacer-left",noPadding:!0,placement:c?O.PopupPlacement.BottomLeft:O.PopupPlacement.TopLeft},s.createElement("ul",{className:"padded source-viewer-bubble-popup nowrap"},s.createElement(_.ActionsDropdownItem,{copyValue:a},Object(b.translate)("component_viewer.copy_permalink"))))}))}));var B=s.memo((function(e){var t=e.displayOptions,n=e.firstLineNumber,o=e.line,r=s.useState(!1),i=r[0],a=r[1],c=o.line;return!!c?s.createElement("td",{className:"source-meta source-line-number","data-line-number":c},t?s.createElement(L.a,{closeOnClickOutside:!0,onRequestClose:function(){return a(!1)},open:i,overlay:s.createElement(D,{firstLineNumber:n,line:o})},s.createElement("span",{"aria-expanded":i,"aria-haspopup":!0,"aria-label":Object(b.translateWithParameters)("source_viewer.line_X",c),onClick:function(){return a(!0)},role:"button",tabIndex:0},c)):c):s.createElement("td",{className:"source-meta source-line-number"})})),T=n(712),F=n.n(T);var G=s.memo((function(e){var t=e.line,n=void 0!==t.scmAuthor&&""!==t.scmAuthor,o=void 0!==t.scmDate;return s.createElement("div",{className:"source-viewer-bubble-popup abs-width-400"},n&&s.createElement("div",null,s.createElement("h4",null,Object(b.translate)("author")),t.scmAuthor),o&&s.createElement("div",{className:i({"spacer-top":n})},s.createElement("h4",null,Object(b.translate)("source_viewer.tooltip.scm.commited_on")),s.createElement(F.a,{date:t.scmDate})),t.scmRevision&&s.createElement("div",{className:i({"spacer-top":n||o})},s.createElement("h4",null,Object(b.translate)("source_viewer.tooltip.scm.revision")),t.scmRevision))}));var U=s.memo((function(e){var t=e.line,n=e.previousLine,o=!!t.line,r=s.createElement("div",{className:"source-line-scm-inner"},function(e,t){var n=!0;null!=t&&null!=e.scmRevision&&null!=t.scmRevision&&(n=e.scmRevision!==t.scmRevision||e.scmDate!==t.scmDate);return n}(t,n)?t.scmAuthor||"…":" ");if(o){var i=Object(b.translate)("source_viewer.click_for_scm_info");return t.scmAuthor&&(i=Object(b.translateWithParameters)("source_viewer.author_X",t.scmAuthor)+", "+i),s.createElement("td",{className:"source-meta source-line-scm","data-line-number":t.line},s.createElement(x.a,{overlay:s.createElement(G,{line:t}),overlayPlacement:O.PopupPlacement.RightTop},s.createElement("div",{"aria-label":i,role:"button"},r)))}return s.createElement("td",{className:"source-meta source-line-scm","data-line-number":t.line},r)})),z=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleIssuesIndicatorClick=function(){if(t.props.openIssues)t.props.onIssuesClose(t.props.line),t.props.onIssueUnselect();else{t.props.onIssuesOpen(t.props.line);var e=t.props.issues;e.length>0&&t.props.onIssueSelect(e[0].key)}},t}return z(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.branchLike,o=t.displayAllIssues,a=t.displayCoverage,c=t.displayDuplications,l=t.displayIssueLocationsCount,u=t.displayIssueLocationsLink,p=t.displayLineNumberOptions,d=t.displayLocationMarkers,h=t.highlightedLocationMessage,f=t.displayIssues,g=t.displaySCM,v=void 0===g||g,b=t.duplications,k=t.duplicationsCount,x=t.firstLineNumber,E=t.highlighted,L=t.highlightedSymbols,O=t.issueLocations,j=t.issuePopup,w=t.issues,A=t.last,N=t.line,P=t.openIssues,_=t.previousLine,S=t.scrollToUncoveredLine,M=t.secondaryIssueLocations,R=t.selectedIssue,D=t.verticalBuffer,T=i("source-line",{"source-line-highlighted":E,"source-line-filtered":N.isNew,"source-line-filtered-dark":a&&("uncovered"===N.coverageStatus||"partially-covered"===N.coverageStatus),"source-line-last":!0===A}),F=D?18*D:void 0,G=!1!==p;return s.createElement("tr",{className:T,"data-line-number":N.line},s.createElement(B,{displayOptions:G,firstLineNumber:x,line:N}),v&&s.createElement(U,{line:N,previousLine:_}),f&&!o?s.createElement(I,{issues:w,issuesOpen:P,line:N,onClick:this.handleIssuesIndicatorClick}):s.createElement("td",{className:"source-meta source-line-issues"}),c&&s.createElement(C,{blocksLoaded:k>0,duplicated:Boolean(N.duplicated),index:0,key:0,line:this.props.line,onClick:this.props.loadDuplications,renderDuplicationPopup:this.props.renderDuplicationPopup}),k>1&&r()(k-1,(function(t){return s.createElement(C,{blocksLoaded:!0,duplicated:b.includes(t+1),index:t+1,key:t+1,line:e.props.line,renderDuplicationPopup:e.props.renderDuplicationPopup})})),a&&s.createElement(y,{line:N,scroll:this.props.scroll,scrollToUncoveredLine:S}),s.createElement(m,{branchLike:n,displayIssueLocationsCount:l,displayIssueLocationsLink:u,displayLocationMarkers:d,highlightedLocationMessage:h,highlightedSymbols:L,issueLocations:O,issuePopup:j,issues:w,line:N,onIssueChange:this.props.onIssueChange,onIssuePopupToggle:this.props.onIssuePopupToggle,onIssueSelect:this.props.onIssueSelect,onLocationSelect:this.props.onLocationSelect,onSymbolClick:this.props.onSymbolClick,padding:F,scroll:this.props.scroll,secondaryIssueLocations:M,selectedIssue:R,showIssues:P||o}))},t}(s.PureComponent);t.a=W},1195:function(e,t,n){"use strict";var o,r=n(660),i=n.n(r),s=n(13),a=n(980),c=n.n(a),l=n(176),u=n(783),p=n(1110),d=n(947),h=n(949),f=n(1078),m=(n(1204),n(1079)),g=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(e){function t(t){var n=e.call(this,t)||this;return n.doScroll=function(e){n.props.scroll&&n.props.scroll(e);var t=n.snippetNodeRef.current;if(t){var o=t.getBoundingClientRect().width/2;Object(u.scrollHorizontally)(e,{leftOffset:o,rightOffset:o,parent:t})}},n.scrollToLastExpandedRow=function(){if(n.props.scroll){var e=n.snippetNodeRef.current;if(!e)return;var t=e.querySelectorAll("tr"),o=t[t.length-1];n.props.scroll(o,100)}},n.expandBlock=function(e){return function(){return n.props.expandBlock(n.props.index,e).then((function(){"down"===e&&n.scrollToLastExpandedRow()}))}},n.snippetNodeRef=s.createRef(),n}return g(t,e),t.prototype.renderLine=function(e){var t=this,n=e.displayDuplications,o=e.displaySCM,r=e.index,i=e.issuesForLine,a=e.issueLocations,c=e.line,l=e.snippet,u=e.symbols,d=e.verticalBuffer,m=Object(h.b)(c,this.props.locations),g=this.props,v=g.displayLineNumberOptions,b=g.duplications,y=g.duplicationsByLine,k=b?b.length:0,x=k&&y&&y[c.line]||[],E=i.some((function(e){return e.key===t.props.issue.key})),L=l&&l.length?l[0].line:0,O=function(){};return s.createElement(p.a,{branchLike:this.props.branchLike,displayAllIssues:!1,displayCoverage:!0,displayDuplications:n,displayIssues:!E||i.length>1,displayLineNumberOptions:v,displayLocationMarkers:!0,displaySCM:o,duplications:x,duplicationsCount:k,firstLineNumber:L,highlighted:!1,highlightedLocationMessage:Object(f.b)(this.props.highlightedLocationMessage,m),highlightedSymbols:Object(f.a)(u,this.props.highlightedSymbols),issueLocations:a,issuePopup:this.props.issuePopup,issues:i,key:c.line,last:!1,line:c,loadDuplications:this.props.loadDuplications||O,onIssueChange:this.props.onIssueChange,onIssuePopupToggle:this.props.onIssuePopupToggle,onIssueSelect:O,onIssueUnselect:O,onIssuesClose:this.props.handleCloseIssues,onIssuesOpen:this.props.handleOpenIssues,onLocationSelect:this.props.onLocationSelect,onSymbolClick:this.props.handleSymbolClick,openIssues:this.props.openIssuesByLine[c.line],previousLine:r>0?l[r-1]:void 0,renderDuplicationPopup:this.props.renderDuplicationPopup,scroll:this.doScroll,secondaryIssueLocations:m,selectedIssue:Object(f.c)(this.props.issue.key,i),verticalBuffer:d})},t.prototype.render=function(){var e=this,t=this.props,n=t.component,o=t.displaySCM,r=t.issue,a=t.issuesByLine,u=void 0===a?{}:a,p=t.lastSnippetOfLastGroup,h=t.locationsByLine,f=t.openIssuesByLine,g=t.snippet,v=n.measures&&n.measures.lines&&parseInt(n.measures.lines,10),b=Object(d.e)(g),y=g[g.length-1].line,k=r.textRange?r.textRange.endLine:r.line,x=Math.max.apply(Math,Object.keys(u).map((function(e){return parseInt(e,10)})).filter((function(e){return Object(m.g)(e,g)&&(e===k||f[e])}))),E=p?Math.max(0,m.b-(y-x)):0,L=Boolean(this.props.loadDuplications)&&g.some((function(e){return!!e.duplicated}));return s.createElement("div",{className:"source-viewer-code snippet",ref:this.snippetNodeRef},s.createElement("div",null,g[0].line>1&&s.createElement("div",{className:"expand-block expand-block-above"},s.createElement("button",{"aria-label":Object(l.translate)("source_viewer.expand_above"),onClick:this.expandBlock("up"),type:"button"},s.createElement(c.a,null))),s.createElement("table",{className:i()("source-table",{"expand-up":g[0].line>1,"expand-down":!v||g[g.length-1].line<v})},s.createElement("tbody",null,g.map((function(t,n){return e.renderLine({displayDuplications:L,displaySCM:o,index:n,issuesForLine:u[t.line]||[],issueLocations:h[t.line]||[],line:t,snippet:g,symbols:b[t.line],verticalBuffer:n===g.length-1?E:0})})))),(!v||g[g.length-1].line<v)&&s.createElement("div",{className:"expand-block expand-block-below"},s.createElement("button",{"aria-label":Object(l.translate)("source_viewer.expand_below"),onClick:this.expandBlock("down"),type:"button"},s.createElement(c.a,null)))))},t}(s.PureComponent);t.a=v},1204:function(e,t,n){var o=n(662),r=n(1205);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},s=(o(r,i),r.locals?r.locals:{});e.exports=s},1205:function(e,t,n){(t=n(663)(!1)).push([e.i,'.snippet{margin:8px;border:1px solid #cdcdcd;overflow-x:auto;overflow-y:hidden;transition:max-height .2s}.snippet>div{display:table;width:100%;position:relative;transition:margin-top .2s}.snippet table{width:100%}.expand-block{position:absolute;z-index:2;width:100%}.expand-block>button{background:transparent;box-sizing:border-box;color:#666;height:20px;width:100%;padding:2px;border:0;text-align:left;cursor:pointer}.expand-block>button:active,.expand-block>button:focus,.expand-block>button:hover{color:#236a97;outline:none}.expand-block-above{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAAXNSR0IArs4c6QAAADdJREFUCB1dzMEKADAIAlBd1v9/bcc2YgRjHh8qq2qTxCQzsX4wM6y30RARF3sy0Es1SIK7Y64OpCES1W69JS4AAAAASUVORK5CYII=");top:0}.expand-block-below{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wQQBjQEQVd5jwAAADhJREFUCNddyTEKADEMA8GVA/7/Z+PGwUp1cGTaYe/tv5lxrLWoKj6SiMzkjZDEG7JtANt0N+ccLrB/KZxXTt7fAAAAAElFTkSuQmCC");bottom:0}.source-table.expand-up{margin-top:20px}.source-table.expand-down{margin-bottom:20px}',""]),e.exports=t},1323:function(e,t,n){"use strict";var o,r=n(679),i=n.n(r),s=n(733),a=n.n(s),c=n(13),l=n(667),u=n(694),p=n.n(u),d=n(671),h=n(176),f=n(754),m=n(677),g=n(670),v=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDifferentComponent=function(e,t){return Boolean(e&&t&&(e.project!==t.project||e.subProject!==t.subProject))},t.handleFileClick=function(e){e.preventDefault(),e.currentTarget.blur();var n=e.currentTarget.dataset,o=n.key,r=n.line;t.shouldLink()&&o&&t.props.openComponent({branchLike:t.props.branchLike,key:o,line:r?Number(r):void 0})},t}return v(t,e),t.prototype.shouldLink=function(){var e=this.props.branchLike;return!Object(m.h)(e)},t.prototype.renderDuplication=function(e,t,n){return this.shouldLink()?c.createElement("a",{"data-key":e.key,"data-line":n,href:"#",onClick:this.handleFileClick,title:e.name},t):t},t.prototype.render=function(){var e=this,t=this.props,n=t.duplicatedFiles,o=void 0===n?{}:n,r=t.sourceViewerFile,s=a()(this.props.blocks,"_ref"),u=Object.keys(s).map((function(e){return{blocks:s[e],file:o[e]}}));return u=i()(u,(function(e){return e.file.projectName!==r.projectName}),(function(e){return e.file.subProjectName!==r.subProjectName}),(function(e){return e.file.key!==r.key})),c.createElement("div",{className:"source-viewer-bubble-popup abs-width-400"},this.props.inRemovedComponent&&c.createElement(d.Alert,{variant:"warning"},Object(h.translate)("duplications.dups_found_on_deleted_resource")),u.length>0&&c.createElement(c.Fragment,null,c.createElement("h6",{className:"spacer-bottom"},Object(h.translate)("component_viewer.transition.duplication")),u.map((function(t){return c.createElement("div",{className:"spacer-top text-ellipsis",key:t.file.key},c.createElement("div",{className:"component-name"},e.isDifferentComponent(t.file,e.props.sourceViewerFile)&&c.createElement(c.Fragment,null,c.createElement("div",{className:"component-name-parent"},c.createElement(p.a,{className:"little-spacer-right",qualifier:"TRK"}),c.createElement(l.c,{to:Object(g.v)(t.file.project)},t.file.projectName)),t.file.subProject&&t.file.subProjectName&&c.createElement("div",{className:"component-name-parent"},c.createElement(p.a,{className:"little-spacer-right",qualifier:"BRC"}),t.file.subProjectName)),t.file.key!==e.props.sourceViewerFile.key&&c.createElement("div",{className:"component-name-path"},e.renderDuplication(t.file,c.createElement(c.Fragment,null,c.createElement("span",null,Object(f.collapsedDirFromPath)(t.file.name)),c.createElement("span",{className:"component-name-file"},Object(f.fileFromPath)(t.file.name))))),c.createElement("div",{className:"component-name-path"},"Lines: ",t.blocks.map((function(n,o){return c.createElement(c.Fragment,{key:o},e.renderDuplication(t.file,c.createElement(c.Fragment,null,n.from," – ",n.from+n.size-1),n.from),o<t.blocks.length-1&&", ")})))))}))))},t}(c.PureComponent);t.a=b},1324:function(e,t,n){"use strict";function o(e,t){var n=!1;return e.filter((function(e){var o=e.from>t||e.from+e.size<t,r=!("1"===e._ref)||(o||n),i=void 0!==e._ref&&r;return"1"!==e._ref||o||(n=!0),i}))}function r(e,t){return e&&e[t]&&e[t].blocks||[]}function i(e){return e.some((function(e){return void 0===e._ref}))}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}))},2148:function(e,t){e.exports=function(){}},2227:function(e,t,n){"use strict";n.r(t);var o,r=n(916),i=n.n(r),s=n(13),a=n(671),c=n(668),l=n.n(c),u=n(176),p=n(724),d=n(713),h=n(673),f=n(1323),m=n(1324),g=n(947),v=n(950),b=n(972),y=n(677),k=n(2148),x=n.n(k),E=n(1009),L=n(1177),O=n(1061),C=n(1195),j=n(1079),w=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),A=function(){return(A=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.rootNodeRef=s.createRef(),t.state={additionalLines:{},highlightedSymbols:[],loading:!1,openIssuesByLine:{},snippets:[]},t.expandBlock=function(e,n){var o=t.props,r=o.branchLike,i=o.snippetGroup.component.key,s=t.state.snippets.find((function(t){return t.index===e}));if(!s)return Promise.reject();var a=j.a+j.c-1,c="up"===n?{from:Math.max(1,s.start-a),to:s.start-1}:{from:s.end+1,to:s.end+a};return Object(p.u)(A(A({key:i},c),Object(y.d)(r))).then((function(e){return e.reduce((function(e,t){return t.coverageStatus=Object(L.a)(t),e[t.line]=t,e}),{})})).then((function(o){return t.animateBlockExpansion(e,n,o)}))},t.expandComponent=function(){var e=t.props,n=e.branchLike,o=e.snippetGroup.component.key;t.setState({loading:!0}),Object(p.u)(A({key:o},Object(y.d)(n))).then((function(e){t.mounted&&t.setState((function(t){var n=t.additionalLines;return{additionalLines:A(A({},n),e),loading:!1,snippets:[{start:0,end:e[e.length-1].line,index:-1}]}}))}),(function(){t.mounted&&t.setState({loading:!1})}))},t.handleOpenIssues=function(e){t.setState((function(t){var n;return{openIssuesByLine:A(A({},t.openIssuesByLine),(n={},n[e.line]=!0,n))}}))},t.handleCloseIssues=function(e){t.setState((function(t){var n;return{openIssuesByLine:A(A({},t.openIssuesByLine),(n={},n[e.line]=!1,n))}}))},t.handleSymbolClick=function(e){t.setState((function(t){var n=t.highlightedSymbols;return{highlightedSymbols:e.filter((function(e){return!n.includes(e)}))}}))},t.loadDuplications=function(e){t.props.loadDuplications(t.props.snippetGroup.component.key,e)},t.renderDuplicationPopup=function(e,n){return t.props.renderDuplicationPopup(t.props.snippetGroup.component,e,n)},t}return w(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.createSnippetsFromProps()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.createSnippetsFromProps=function(){var e=this.props,t=e.issue,n=e.snippetGroup,o=Object(j.d)({component:n.component.key,issue:t,locations:n.locations});this.setState({snippets:o})},t.prototype.getNodes=function(e){var t=this.rootNodeRef.current;if(t){var n=t.querySelector("#snippet-wrapper-"+e);if(n){var o=n.querySelector(".snippet");if(o){var r=o.firstChild;if(r)return{wrapper:o,table:r}}}}},t.prototype.cleanDom=function(e){var t=this.getNodes(e);if(t){var n=t.wrapper;t.table.style.marginTop="",n.style.maxHeight=""}},t.prototype.setMaxHeight=function(e,t,n){void 0===n&&(n=!1);var o=this.getNodes(e);if(o){var r=o.wrapper,i=o.table,s=void 0!==t?t:i.getBoundingClientRect().height;if(n){var a=r.getBoundingClientRect().height;i.style.transition="none",i.style.marginTop=a-s+"px",setTimeout((function(){i.style.transition="",i.style.marginTop="0px",r.style.maxHeight=s+20+"px"}),0)}else r.style.maxHeight=s+20+"px"}},t.prototype.animateBlockExpansion=function(e,t,n){var o=this;if(this.mounted){var r=this.state.snippets,i=Object(j.e)({direction:t,snippetIndex:e,snippets:r}),s=i.filter((function(e){return e.toDelete}));return s.forEach((function(e){return o.setMaxHeight(e.index)})),this.setMaxHeight(e),new Promise((function(r){o.setState((function(e){var t=e.additionalLines,o=e.snippets;return{additionalLines:A(A({},t),n),snippets:o}}),(function(){s.forEach((function(e){o.setMaxHeight(e.index,0)})),o.setMaxHeight(e,void 0,"up"===t),setTimeout((function(){o.setState({snippets:i.filter((function(e){return!e.toDelete}))},r),o.cleanDom(e)}),200)}))}))}return Promise.resolve()},t.prototype.renderSnippet=function(e){var t=e.index,n=e.issuesByLine,o=e.lastSnippetOfLastGroup,r=e.locationsByLine,i=e.snippet;return s.createElement(C.a,{branchLike:this.props.branchLike,component:this.props.snippetGroup.component,duplications:this.props.duplications,duplicationsByLine:this.props.duplicationsByLine,expandBlock:this.expandBlock,handleCloseIssues:this.handleCloseIssues,handleOpenIssues:this.handleOpenIssues,handleSymbolClick:this.handleSymbolClick,highlightedLocationMessage:this.props.highlightedLocationMessage,highlightedSymbols:this.state.highlightedSymbols,index:t,issue:this.props.issue,issuePopup:this.props.issuePopup,issuesByLine:n,lastSnippetOfLastGroup:o,loadDuplications:this.loadDuplications,locations:this.props.locations,locationsByLine:r,onIssueChange:this.props.onIssueChange,onIssuePopupToggle:this.props.onIssuePopupToggle,onLocationSelect:this.props.onLocationSelect,openIssuesByLine:this.state.openIssuesByLine,renderDuplicationPopup:this.renderDuplicationPopup,scroll:this.props.scroll,snippet:i})},t.prototype.render=function(){var e=this,t=this.props,n=t.branchLike,o=t.isLastOccurenceOfPrimaryComponent,r=t.issue,i=t.issuesByLine,a=t.issuePopup,c=t.lastSnippetGroup,l=t.snippetGroup,u=this.state,p=u.additionalLines,d=u.loading,h=u.snippets,f=r.component===l.component.key&&void 0!==r.textRange?Object(g.d)([r]):{},m=1===h.length&&l.component.measures&&h[0].end-h[0].start===parseInt(l.component.measures.lines||"",10),v=Object(j.h)(h,A(A({},l.sources),p)),b=!(0===r.secondaryLocations.length)||o;return s.createElement("div",{className:"component-source-container",ref:this.rootNodeRef},s.createElement(O.a,{branchLike:n,expandable:!m,loading:d,onExpand:this.expandComponent,sourceViewerFile:l.component}),r.component===l.component.key&&void 0===r.textRange&&s.createElement("div",{className:"padded-top padded-left padded-right"},s.createElement(E.a,{issue:r,onChange:this.props.onIssueChange,onClick:x.a,onPopupToggle:this.props.onIssuePopupToggle,openPopup:a&&a.issue===r.key?a.name:void 0,selected:!0})),v.map((function(t,n){return s.createElement("div",{id:"snippet-wrapper-"+h[n].index,key:h[n].index},e.renderSnippet({snippet:t,index:h[n].index,issuesByLine:i,locationsByLine:b?f:{},lastSnippetOfLastGroup:c&&n===h.length-1}))})))},t}(s.PureComponent),P=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),I=function(){return(I=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={components:{},duplicationsByLine:{},loading:!0,notAccessible:!1},t.fetchDuplications=function(e){Object(p.q)(I({key:e},Object(y.d)(t.props.branchLike))).then((function(e){t.mounted&&t.setState({duplicatedFiles:e.files,duplications:e.duplications,duplicationsByLine:Object(g.a)(e.duplications)})}),(function(){}))},t.handleIssuePopupToggle=function(e,n,o){t.setState((function(t){var r=t.issuePopup&&t.issuePopup.name===n&&t.issuePopup.issue===e;return!1===o||r?!0!==o&&r?{issuePopup:void 0}:null:{issuePopup:{issue:e,name:n}}}))},t.renderDuplicationPopup=function(e,n,o){var r=t.state,i=r.duplicatedFiles,a=r.duplications;if(!e||!i)return null;var c=Object(m.b)(a,n);return s.createElement(b.a.Consumer,null,(function(n){var r=n.openComponent;return s.createElement(f.a,{blocks:Object(m.a)(c,o),branchLike:t.props.branchLike,duplicatedFiles:i,inRemovedComponent:Object(m.c)(c),openComponent:r,sourceViewerFile:e})}))},t}return P(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchIssueFlowSnippets(this.props.issue.key)},t.prototype.componentWillReceiveProps=function(e){e.issue.key!==this.props.issue.key&&this.fetchIssueFlowSnippets(e.issue.key)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.fetchIssueFlowSnippets=function(e){var t=this;this.setState({loading:!0}),Object(d.h)(e).then((function(e){t.mounted&&(t.setState({components:e,issuePopup:void 0,loading:!1}),t.props.onLoaded&&t.props.onLoaded())}),(function(e){403!==e.status&&Object(h.a)(e),t.mounted&&t.setState({loading:!1,notAccessible:403===e.status})}))},t.prototype.render=function(){var e=this,t=this.state,n=t.loading,o=t.notAccessible;if(n)return s.createElement("div",null,s.createElement(l.a,null));if(o)return s.createElement(a.Alert,{className:"spacer-top",variant:"warning"},Object(u.translate)("code_viewer.no_source_code_displayed_due_to_security"));var r=this.props,c=r.issue,p=r.locations,d=this.state,h=d.components,f=d.duplications,m=d.duplicationsByLine,b=Object(g.b)(this.props.issues),y=Object(j.f)(c,p,h),k=i()(y,(function(e){return e.component.key===c.component}));return s.createElement("div",null,y.map((function(t,n){return s.createElement(v.a.Provider,{key:c.key+"-"+(e.props.selectedFlowIndex||0)+"-"+n,value:{branchLike:e.props.branchLike,file:t.component}},s.createElement(N,{branchLike:e.props.branchLike,duplications:f,duplicationsByLine:m,highlightedLocationMessage:e.props.highlightedLocationMessage,issue:c,issuePopup:e.state.issuePopup,issuesByLine:b[t.component.key]||{},isLastOccurenceOfPrimaryComponent:n===k,lastSnippetGroup:n===y.length-1,loadDuplications:e.fetchDuplications,locations:t.locations||[],onIssueChange:e.props.onIssueChange,onIssuePopupToggle:e.handleIssuePopupToggle,onLocationSelect:e.props.onLocationSelect,renderDuplicationPopup:e.renderDuplicationPopup,scroll:e.props.scroll,snippetGroup:t}))})))},t}(s.PureComponent);t.default=_},723:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(660),s=n(13),a=n(178),c=n(176),l=n(683),u=n(725),p=n(661),d=n(703),h=n(675),f=n(666);t.default=function(e){var t=e.children,n=e.className,o=e.overlayPlacement,r=e.small,a=e.toggleClassName;return s.createElement(h.default,{className:n,onOpen:e.onOpen,overlay:s.createElement("ul",{className:"menu"},t),overlayPlacement:o},s.createElement(p.Button,{className:i("dropdown-toggle",a,{"button-small":r})},s.createElement(u.default,{size:r?12:14}),s.createElement(l.default,{className:"little-spacer-left"})))};var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.props.onClick&&t.props.onClick()},t}return r(t,e),t.prototype.render=function(){var e=this,t=i(this.props.className,{"text-danger":this.props.destructive});return this.props.download&&"string"==typeof this.props.to?s.createElement("li",null,s.createElement("a",{className:t,download:this.props.download,href:this.props.to,id:this.props.id},this.props.children)):this.props.to?s.createElement("li",null,s.createElement(a.Link,{className:t,id:this.props.id,to:this.props.to},this.props.children)):this.props.copyValue?s.createElement(d.ClipboardBase,null,(function(n){var o=n.setCopyButton,r=n.copySuccess;return s.createElement(f.default,{overlay:c.translate("copied_action"),visible:r},s.createElement("li",{"data-clipboard-text":e.props.copyValue,ref:o},s.createElement("a",{className:t,href:"#",id:e.props.id,onClick:e.handleClick},e.props.children)))})):s.createElement("li",null,s.createElement("a",{className:t,href:"#",id:this.props.id,onClick:this.handleClick},this.props.children))},t}(s.PureComponent);t.ActionsDropdownItem=m,t.ActionsDropdownDivider=function(){return s.createElement("li",{className:"divider"})}},725:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),s=n(664);t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,a=e.size,c=void 0===a?14:a,l=r(e,["fill","size"]);return i.createElement(s.default,o({size:c,viewBox:"0 0 14 14"},l),i.createElement("g",{transform:"matrix(0.0364583,0,0,0.0364583,0,-1.16667)"},i.createElement("path",{d:"M256,224C256,206.333 249.75,191.25 237.25,178.75C224.75,166.25 209.667,160 192,160C174.333,160 159.25,166.25 146.75,178.75C134.25,191.25 128,206.333 128,224C128,241.667 134.25,256.75 146.75,269.25C159.25,281.75 174.333,288 192,288C209.667,288 224.75,281.75 237.25,269.25C249.75,256.75 256,241.667 256,224ZM384,196.75L384,252.25C384,254.25 383.333,256.167 382,258C380.667,259.833 379,260.917 377,261.25L330.75,268.25C327.583,277.25 324.333,284.833 321,291C326.833,299.333 335.75,310.833 347.75,325.5C349.417,327.5 350.25,329.583 350.25,331.75C350.25,333.917 349.5,335.833 348,337.5C343.5,343.667 335.25,352.667 323.25,364.5C311.25,376.333 303.417,382.25 299.75,382.25C297.75,382.25 295.583,381.5 293.25,380L258.75,353C251.417,356.833 243.833,360 236,362.5C233.333,385.167 230.917,400.667 228.75,409C227.583,413.667 224.583,416 219.75,416L164.25,416C161.917,416 159.875,415.292 158.125,413.875C156.375,412.458 155.417,410.667 155.25,408.5L148.25,362.5C140.083,359.833 132.583,356.75 125.75,353.25L90.5,380C88.833,381.5 86.75,382.25 84.25,382.25C81.917,382.25 79.833,381.333 78,379.5C57,360.5 43.25,346.5 36.75,337.5C35.583,335.833 35,333.917 35,331.75C35,329.75 35.667,327.833 37,326C39.5,322.5 43.75,316.958 49.75,309.375C55.75,301.792 60.25,295.917 63.25,291.75C58.75,283.417 55.333,275.167 53,267L7.25,260.25C5.083,259.917 3.333,258.875 2,257.125C0.667,255.375 0,253.417 0,251.25L0,195.75C0,193.75 0.667,191.833 2,190C3.333,188.167 4.917,187.083 6.75,186.75L53.25,179.75C55.583,172.083 58.833,164.417 63,156.75C56.333,147.25 47.417,135.75 36.25,122.25C34.583,120.25 33.75,118.25 33.75,116.25C33.75,114.583 34.5,112.667 36,110.5C40.333,104.5 48.542,95.542 60.625,83.625C72.708,71.708 80.583,65.75 84.25,65.75C86.417,65.75 88.583,66.583 90.75,68.25L125.25,95C132.583,91.167 140.167,88 148,85.5C150.667,62.833 153.083,47.333 155.25,39C156.417,34.333 159.417,32 164.25,32L219.75,32C222.083,32 224.125,32.708 225.875,34.125C227.625,35.542 228.583,37.333 228.75,39.5L235.75,85.5C243.917,88.167 251.417,91.25 258.25,94.75L293.75,68C295.25,66.5 297.25,65.75 299.75,65.75C301.917,65.75 304,66.583 306,68.25C327.5,88.083 341.25,102.25 347.25,110.75C348.417,112.083 349,113.917 349,116.25C349,118.25 348.333,120.167 347,122C344.5,125.5 340.25,131.042 334.25,138.625C328.25,146.208 323.75,152.083 320.75,156.25C325.083,164.583 328.5,172.75 331,180.75L376.75,187.75C378.917,188.083 380.667,189.125 382,190.875C383.333,192.625 384,194.583 384,196.75Z",style:{fill:n}})))}},733:function(e,t,n){var o=n(795),r=n(766),i=Object.prototype.hasOwnProperty,s=r((function(e,t,n){i.call(e,n)?e[n].push(t):o(e,n,[t])}));e.exports=s},736:function(e,t,n){var o=n(710);e.exports=function(e){var t=o(e),n=t%1;return t==t?n?t-n:t:0}},769:function(e,t){e.exports=function(e,t,n,o){for(var r=e.length,i=n+(o?1:-1);o?i--:++i<r;)if(t(e[i],i,e))return i;return-1}},916:function(e,t,n){var o=n(769),r=n(678),i=n(736),s=Math.max,a=Math.min;e.exports=function(e,t,n){var c=null==e?0:e.length;if(!c)return-1;var l=c-1;return void 0!==n&&(l=i(n),l=n<0?s(c+l,0):a(l,c-1)),o(e,r(t,3),l,!0)}},947:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return p}));var o=n(1013),r=n.n(o),i=n(948),s=n(949);function a(e){var t={};return e.forEach((function(e){var n=e.textRange?e.textRange.endLine:0;n in t||(t[n]=[]),t[n].push(e)})),t}function c(e){return void 0===e&&(e=[]),e.reduce((function(e,t){e[t.component]=e[t.component]||{};var n=t.textRange?t.textRange.endLine:0;return e[t.component][n]=e[t.component][n]||[],e[t.component][n].push(t),e}),{})}function l(e){var t={};return e.forEach((function(e){Object(s.a)(e.textRange).forEach((function(e){e.line in t||(t[e.line]=[]),t[e.line].push(e)}))})),t}function u(e){if(null==e)return{};var t={};return e.forEach((function(e,n){e.blocks.forEach((function(e){if("1"===e._ref)for(var o=e.from;o<e.from+e.size;o++)o in t||(t[o]=[]),t[o].push(n)}))})),t}function p(e){var t={};return e.forEach((function(e){var n=Object(i.c)(e.code||""),o=r()(n.map((function(e){var t=e.className.match(/sym-\d+/g);return null!=t?t:[]})));t[e.line]=o.filter((function(e){return e}))})),t}},948:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var o=n(805),r=n.n(o),i=function(){return(i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,r++)o[r]=i[s];return o};function a(e,t){void 0===t&&(t="");var n=document.createElement("div"),o=[];return n.innerHTML=e,[].forEach.call(n.childNodes,(function(e){if(1===e.nodeType){var n=t?t+" "+e.className:e.className,r=a(e.innerHTML,n);o=o.concat(r)}3===e.nodeType&&e.nodeValue&&o.push({className:t,markers:[],text:e.nodeValue})})),o}function c(e,t){var n=new RegExp("\\b"+t+"\\b");return e.map((function(e){return n.test(e.className)?i(i({},e),{className:e.className+" highlighted"}):e}))}function l(e,t,n,o){return t>=o?e.substr(t-o,n-t):e.substr(0,n-t)}function u(e,t,n){return void 0===n&&(n="source-line-code-issue"),t.forEach((function(t){var o=[],a=0,c=t.line!==t.startLine;e.forEach((function(e){var u,p,d,h,f=(u=a,p=a+e.text.length,d=t.from,h=t.to,{from:Math.max(u,d),to:Math.min(p,h)}),m=l(e.text,a,f.from,a),g=l(e.text,f.from,f.to,a),v=l(e.text,f.to,a+e.text.length,a);if(m.length&&o.push(i(i({},e),{text:m})),g.length){var b=-1===e.className.indexOf(n)?e.className+" "+n:e.className;o.push({className:b,markers:c||null==t.index?e.markers:r()(s(e.markers,[t.index])),text:g}),c=!0}v.length&&o.push(i(i({},e),{text:v})),a+=e.text.length})),e=o.slice()})),e}},949:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var o=function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,r++)o[r]=i[s];return o};function i(e){if(!e)return[];for(var t=[],n=e.startLine;n<=e.endLine;n++){var o=n===e.startLine?e.startOffset:0,r=n===e.endLine?e.endOffset:999999;t.push({line:n,from:o,to:r})}return t}function s(e,t){return t?t.reduce((function(t,n){var s=n?i(n.textRange).filter((function(t){return t.line===e.line})).map((function(e){return o(o({},e),{startLine:n.textRange.startLine,index:n.index,text:n.msg})})):[];return r(t,s)}),[]):[]}},950:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(13),r=o.createContext({branchLike:{},file:{}})},952:function(e,t,n){var o=n(685),r=n(983),i=n(720),s=n(984),a=i((function(e){var t=o(e,s);return t.length&&t[0]===e[0]?r(t):[]}));e.exports=a},980:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),s=n(664);t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,a=r(e,["fill"]);return i.createElement(s.default,o({},a),i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("path",{d:"M8 1v4H4",stroke:n,strokeWidth:"2",transform:"scale(-.83333 -.84583) rotate(45 7.66 -19.75)"}),i.createElement("path",{d:"M3 5.78h10v1.7H3z",fill:n}),i.createElement("path",{d:"M7.17 2.4h1.66v5.07H7.17z",fill:n}),i.createElement("g",null,i.createElement("path",{d:"M8.16 1.81V6.1H3.9",stroke:n,strokeWidth:"2",transform:"scale(.83333 .84583) rotate(45 -4.2 13.2)"}),i.createElement("path",{d:"M13 10.01H3v-1.7h10z",fill:n}),i.createElement("path",{d:"M8.83 13.4H7.17V9.15h1.66z",fill:n}))))}},983:function(e,t,n){var o=n(747),r=n(752),i=n(753),s=n(685),a=n(749),c=n(748),l=Math.min;e.exports=function(e,t,n){for(var u=n?i:r,p=e[0].length,d=e.length,h=d,f=Array(d),m=1/0,g=[];h--;){var v=e[h];h&&t&&(v=s(v,a(t))),m=l(v.length,m),f[h]=!n&&(t||p>=120&&v.length>=120)?new o(h&&v):void 0}v=e[0];var b=-1,y=f[0];e:for(;++b<p&&g.length<m;){var k=v[b],x=t?t(k):k;if(k=n||0!==k?k:0,!(y?c(y,x):u(g,x,n))){for(h=d;--h;){var E=f[h];if(!(E?c(E,x):u(e[h],x,n)))continue e}y&&y.push(x),g.push(k)}}return g}},984:function(e,t,n){var o=n(696);e.exports=function(e){return o(e)?e:[]}}}]);
//# sourceMappingURL=287.1648830816893.chunk.js.map