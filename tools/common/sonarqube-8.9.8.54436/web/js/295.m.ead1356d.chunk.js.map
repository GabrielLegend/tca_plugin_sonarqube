{"version":3,"sources":["webpack:///./src/main/js/apps/projectQualityProfiles/components/AddLanguageModal.tsx","webpack:///./src/main/js/apps/projectQualityProfiles/components/SetQualityProfileModal.tsx","webpack:///./src/main/js/apps/projectQualityProfiles/constants.ts","webpack:///./src/main/js/apps/projectQualityProfiles/ProjectQualityProfilesAppRenderer.tsx","webpack:///./src/main/js/apps/projectQualityProfiles/ProjectQualityProfilesApp.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.js","webpack:///./node_modules/sonar-ui-common/components/controls/SimpleModal.js","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.css?2512","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.css","webpack:///./node_modules/lodash/isArrayLikeObject.js","webpack:///./node_modules/lodash/_baseDifference.js","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./node_modules/lodash/groupBy.js","webpack:///./src/main/js/api/quality-profiles.ts","webpack:///./node_modules/lodash/difference.js","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.js","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css?01af","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css","webpack:///./src/main/js/app/utils/addGlobalSuccessMessage.ts","webpack:///./node_modules/sonar-ui-common/helpers/csv.js","webpack:///./src/main/js/apps/quality-profiles/components/BuiltInQualityProfileBadge.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/PlusCircleIcon.js","webpack:///./src/main/js/app/utils/handleRequiredAuthorization.ts","webpack:///./node_modules/lodash/differenceBy.js"],"names":["languages","props","profilesByLanguage","unavailableLanguages","language","key","setSelected","undefined","header","languageOptions","Object","keys","map","l","value","label","name","profileOptions","p","onClose","onSubmit","onCloseClick","onFormSubmit","submitting","className","htmlFor","clearable","disabled","id","onChange","options","onClick","SetQualityProfileModal","availableProfiles","component","currentProfile","usesDefault","selected","defaultProfile","find","isDefault","languageName","hasSelectedSysDefault","hasChanged","needsReanalysis","qualityProfiles","some","checked","onCheck","isBuiltIn","BuiltInQualityProfileBadge","optionRenderer","option","Alert","variant","ProjectQualityProfilesAppRenderer","allProfiles","loading","showProjectProfileInModal","projectProfiles","showAddLanguageModal","orderedProfiles","profile","Suggestions","suggestions","defer","title","A11ySkipTarget","anchor","overlay","length","projectProfile","to","activation","qprofile","activeRuleCount","onOpenSetProfileModal","onOpenAddLanguageModal","onCloseModal","onSetProfile","onAddLanguage","mounted","state","fetchProfiles","async","this","then","profiles","catch","selectedProjectProfiles","Promise","all","q","results","Boolean","filter","componentProfiles","setState","handleOpenSetProfileModal","handleOpenAddLanguageModal","handleCloseModal","handleAddLanguage","newProfile","addGlobalSuccessMessage","e","handleSetProfile","newKey","oldKey","oldProjectProfile","replaceProfile","newProjectProfiles","checkPermissions","handleRequiredAuthorization","configuration","showQualityProfiles","__assign","assign","t","s","i","n","arguments","prototype","hasOwnProperty","call","apply","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","defineProperty","exports","classNames","React","HelpIcon_1","theme_1","Tooltip_1","HelpTooltip","_a","_b","size","createElement","default","mouseLeaveDelay","onShow","placement","children","ThemeConsumer","theme","fill","colors","gray71","DarkHelpTooltip","transparentBlack","fillInner","white","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","__","constructor","create","Modal_1","SimpleModal","_super","_this","stopSubmitting","handleCloseClick","event","preventDefault","currentTarget","blur","handleFormSubmit","submit","handleSubmitClick","result","componentDidMount","componentWillUnmount","render","modalProps","contentLabel","onRequestClose","onSubmitClick","Component","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","prevProps","api","content","__esModule","module","exported","locals","___CSS_LOADER_API_IMPORT___","push","isArrayLike","isObjectLike","SetCache","arrayIncludes","arrayIncludesWith","arrayMap","baseUnary","cacheHas","array","values","iteratee","comparator","index","includes","isCommon","valuesLength","outer","computed","valuesIndex","baseIteratee","baseMap","isArray","collection","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","weight","baseAssignValue","createAggregator","groupBy","searchQualityProfiles","parameters","getQualityProfile","compareToSonarWay","createQualityProfile","data","restoreQualityProfile","getProfileProjects","getProfileInheritance","qualityProfile","setDefaultProfile","renameProfile","copyProfile","fromKey","toName","deleteProfile","changeProfileParent","parentProfile","parentQualityProfile","getQualityProfileBackupUrl","queryParams","entries","encodeURIComponent","join","getQualityProfileExporterUrl","exporterKey","getImporters","r","importers","getExporters","exporters","getProfileChangelog","since","page","compareProfiles","leftKey","rightKey","associateProject","project","dissociateProject","searchUsers","searchGroups","addUser","removeUser","addGroup","removeGroup","bulkActivateRules","bulkDeactivateRules","activateRule","params","deactivateRule","baseDifference","baseFlatten","baseRest","isArrayLikeObject","difference","Radio","handleClick","href","role","PureComponent","message","dispatch","csvEscape","replace","tooltip","badge","Icon_1","iconProps","style","store","history","returnTo","window","location","pathname","search","hash","query","return_to","last","differenceBy"],"mappings":"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","file":"js/295.m.ead1356d.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { difference } from 'lodash';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { ButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport SimpleModal from 'sonar-ui-common/components/controls/SimpleModal';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Profile } from '../../../api/quality-profiles';\nimport { Store } from '../../../store/rootReducer';\n\nexport interface AddLanguageModalProps {\n  languages: T.Languages;\n  onClose: () => void;\n  onSubmit: (key: string) => Promise<void>;\n  profilesByLanguage: T.Dict<Profile[]>;\n  unavailableLanguages: string[];\n}\n\nexport function AddLanguageModal(props: AddLanguageModalProps) {\n  const { languages, profilesByLanguage, unavailableLanguages } = props;\n\n  const [{ language, key }, setSelected] = React.useState<{ language?: string; key?: string }>({\n    language: undefined,\n    key: undefined\n  });\n\n  const header = translate('project_quality_profile.add_language_modal.title');\n\n  const languageOptions = difference(\n    Object.keys(profilesByLanguage),\n    unavailableLanguages\n  ).map(l => ({ value: l, label: languages[l].name }));\n\n  const profileOptions =\n    language !== undefined\n      ? profilesByLanguage[language].map(p => ({ value: p.key, label: p.name }))\n      : [];\n\n  return (\n    <SimpleModal\n      header={header}\n      onClose={props.onClose}\n      onSubmit={() => {\n        if (language && key) {\n          props.onSubmit(key);\n        }\n      }}>\n      {({ onCloseClick, onFormSubmit, submitting }) => (\n        <>\n          <div className=\"modal-head\">\n            <h2>{header}</h2>\n          </div>\n\n          <form onSubmit={onFormSubmit}>\n            <div className=\"modal-body\">\n              <div className=\"big-spacer-bottom\">\n                <div className=\"little-spacer-bottom\">\n                  <label className=\"text-bold\" htmlFor=\"language\">\n                    {translate('project_quality_profile.add_language_modal.choose_language')}\n                  </label>\n                </div>\n                <Select\n                  className=\"abs-width-300\"\n                  clearable={false}\n                  disabled={submitting}\n                  id=\"language\"\n                  onChange={({ value }: { value: string }) => setSelected({ language: value })}\n                  options={languageOptions}\n                  value={language}\n                />\n              </div>\n\n              <div className=\"big-spacer-bottom\">\n                <div className=\"little-spacer-bottom\">\n                  <label className=\"text-bold\" htmlFor=\"profiles\">\n                    {translate('project_quality_profile.add_language_modal.choose_profile')}\n                  </label>\n                </div>\n                <Select\n                  className=\"abs-width-300\"\n                  clearable={false}\n                  disabled={submitting || !language}\n                  id=\"profiles\"\n                  onChange={({ value }: { value: string }) => setSelected({ language, key: value })}\n                  options={profileOptions}\n                  value={key}\n                />\n              </div>\n            </div>\n\n            <div className=\"modal-foot\">\n              {submitting && <i className=\"spinner spacer-right\" />}\n              <SubmitButton disabled={submitting || !language || !key}>\n                {translate('save')}\n              </SubmitButton>\n              <ButtonLink disabled={submitting} onClick={onCloseClick}>\n                {translate('cancel')}\n              </ButtonLink>\n            </div>\n          </form>\n        </>\n      )}\n    </SimpleModal>\n  );\n}\n\nfunction mapStateToProps({ languages }: Store) {\n  return { languages };\n}\n\nexport default connect(mapStateToProps)(AddLanguageModal);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport SimpleModal from 'sonar-ui-common/components/controls/SimpleModal';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { Profile } from '../../../api/quality-profiles';\nimport BuiltInQualityProfileBadge from '../../quality-profiles/components/BuiltInQualityProfileBadge';\nimport { USE_SYSTEM_DEFAULT } from '../constants';\n\nexport interface SetQualityProfileModalProps {\n  availableProfiles: Profile[];\n  component: T.Component;\n  currentProfile: Profile;\n  onClose: () => void;\n  onSubmit: (newKey: string | undefined, oldKey: string) => Promise<void>;\n  usesDefault: boolean;\n}\n\nexport default function SetQualityProfileModal(props: SetQualityProfileModalProps) {\n  const { availableProfiles, component, currentProfile, usesDefault } = props;\n  const [selected, setSelected] = React.useState(\n    usesDefault ? USE_SYSTEM_DEFAULT : currentProfile.key\n  );\n\n  const defaultProfile = availableProfiles.find(p => p.isDefault);\n\n  if (defaultProfile === undefined) {\n    // Cannot be undefined\n    return null;\n  }\n\n  const header = translateWithParameters(\n    'project_quality_profile.change_lang_X_profile',\n    currentProfile.languageName\n  );\n  const profileOptions = availableProfiles.map(p => ({ value: p.key, label: p.name }));\n  const hasSelectedSysDefault = selected === USE_SYSTEM_DEFAULT;\n  const hasChanged = usesDefault ? !hasSelectedSysDefault : selected !== currentProfile.key;\n  const needsReanalysis = !component.qualityProfiles?.some(p =>\n    hasSelectedSysDefault ? p.key === defaultProfile.key : p.key === selected\n  );\n\n  return (\n    <SimpleModal\n      header={header}\n      onClose={props.onClose}\n      onSubmit={() =>\n        props.onSubmit(hasSelectedSysDefault ? undefined : selected, currentProfile.key)\n      }>\n      {({ onCloseClick, onFormSubmit, submitting }) => (\n        <>\n          <div className=\"modal-head\">\n            <h2>{header}</h2>\n          </div>\n\n          <form onSubmit={onFormSubmit}>\n            <div className=\"modal-body\">\n              <div className=\"big-spacer-bottom\">\n                <Radio\n                  className=\"display-flex-start\"\n                  checked={hasSelectedSysDefault}\n                  disabled={submitting}\n                  onCheck={() => setSelected(USE_SYSTEM_DEFAULT)}\n                  value={USE_SYSTEM_DEFAULT}>\n                  <div className=\"spacer-left\">\n                    <div className=\"little-spacer-bottom\">\n                      {translate('project_quality_profile.always_use_default')}\n                    </div>\n                    <div className=\"display-flex-center\">\n                      <span className=\"text-muted spacer-right\">{translate('current_noun')}:</span>\n                      {defaultProfile.name}\n                      {defaultProfile.isBuiltIn && (\n                        <BuiltInQualityProfileBadge className=\"spacer-left\" />\n                      )}\n                    </div>\n                  </div>\n                </Radio>\n              </div>\n\n              <div className=\"big-spacer-bottom\">\n                <Radio\n                  className=\"display-flex-start\"\n                  checked={!hasSelectedSysDefault}\n                  disabled={submitting}\n                  onCheck={() =>\n                    setSelected(!hasSelectedSysDefault ? selected : currentProfile.key)\n                  }\n                  value={currentProfile.key}>\n                  <div className=\"spacer-left\">\n                    <div className=\"little-spacer-bottom\">\n                      {translate('project_quality_profile.always_use_specific')}\n                    </div>\n                    <div className=\"display-flex-center\">\n                      <Select\n                        className=\"abs-width-300\"\n                        clearable={false}\n                        disabled={submitting || hasSelectedSysDefault}\n                        onChange={({ value }: { value: string }) => setSelected(value)}\n                        options={profileOptions}\n                        optionRenderer={option => <span>{option.label}</span>}\n                        value={!hasSelectedSysDefault ? selected : currentProfile.key}\n                      />\n                    </div>\n                  </div>\n                </Radio>\n              </div>\n\n              {needsReanalysis && (\n                <Alert variant=\"warning\">\n                  {translate('project_quality_profile.requires_new_analysis')}\n                </Alert>\n              )}\n            </div>\n\n            <div className=\"modal-foot\">\n              {submitting && <i className=\"spinner spacer-right\" />}\n              <SubmitButton disabled={submitting || !hasChanged}>{translate('save')}</SubmitButton>\n              <ButtonLink disabled={submitting} onClick={onCloseClick}>\n                {translate('cancel')}\n              </ButtonLink>\n            </div>\n          </form>\n        </>\n      )}\n    </SimpleModal>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport const USE_SYSTEM_DEFAULT = '-1';\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { groupBy, orderBy } from 'lodash';\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { Link } from 'react-router';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport EditIcon from 'sonar-ui-common/components/icons/EditIcon';\nimport PlusCircleIcon from 'sonar-ui-common/components/icons/PlusCircleIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Profile } from '../../api/quality-profiles';\nimport A11ySkipTarget from '../../app/components/a11y/A11ySkipTarget';\nimport Suggestions from '../../app/components/embed-docs-modal/Suggestions';\nimport { getRulesUrl } from '../../helpers/urls';\nimport BuiltInQualityProfileBadge from '../quality-profiles/components/BuiltInQualityProfileBadge';\nimport AddLanguageModal from './components/AddLanguageModal';\nimport SetQualityProfileModal from './components/SetQualityProfileModal';\nimport { ProjectProfile } from './types';\n\nexport interface ProjectQualityProfilesAppRendererProps {\n  allProfiles?: Profile[];\n  component: T.Component;\n  loading: boolean;\n  onAddLanguage: (key: string) => Promise<void>;\n  onCloseModal: () => void;\n  onOpenAddLanguageModal: () => void;\n  onOpenSetProfileModal: (projectProfile: ProjectProfile) => void;\n  onSetProfile: (newKey: string | undefined, oldKey: string) => Promise<void>;\n  projectProfiles?: ProjectProfile[];\n  showAddLanguageModal?: boolean;\n  showProjectProfileInModal?: ProjectProfile;\n}\n\nexport default function ProjectQualityProfilesAppRenderer(\n  props: ProjectQualityProfilesAppRendererProps\n) {\n  const {\n    allProfiles,\n    component,\n    loading,\n    showProjectProfileInModal,\n    projectProfiles,\n    showAddLanguageModal\n  } = props;\n\n  const profilesByLanguage = groupBy(allProfiles, 'language');\n  const orderedProfiles = orderBy(projectProfiles, p => p.profile.languageName);\n\n  return (\n    <div className=\"page page-limited\" id=\"project-quality-profiles\">\n      <Suggestions suggestions=\"project_quality_profiles\" />\n      <Helmet defer={false} title={translate('project_quality_profiles.page')} />\n      <A11ySkipTarget anchor=\"profiles_main\" />\n\n      <header className=\"page-header\">\n        <div className=\"page-title display-flex-center\">\n          <h1>{translate('project_quality_profiles.page')} </h1>\n          <HelpTooltip\n            className=\"spacer-left\"\n            overlay={\n              <div className=\"big-padded-top big-padded-bottom\">\n                {translate('quality_profiles.list.projects.help')}\n              </div>\n            }\n          />\n        </div>\n      </header>\n\n      <div className=\"boxed-group\">\n        <h2 className=\"boxed-group-header\">{translate('project_quality_profile.subtitle')}</h2>\n\n        <div className=\"boxed-group-inner\">\n          <p className=\"big-spacer-bottom\">\n            {translate('project_quality_profiles.page.description')}\n          </p>\n\n          {loading && <i className=\"spinner spacer-left\" />}\n\n          {!loading && orderedProfiles.length > 0 && (\n            <table className=\"data zebra\">\n              <thead>\n                <tr>\n                  <th>{translate('language')}</th>\n                  <th className=\"thin nowrap\">{translate('project_quality_profile.current')}</th>\n                  <th className=\"thin nowrap text-right\">\n                    {translate('coding_rules.filters.activation.active_rules')}\n                  </th>\n                  <th aria-label={translate('actions')} />\n                </tr>\n              </thead>\n              <tbody>\n                {orderedProfiles.map(projectProfile => {\n                  const { profile, selected } = projectProfile;\n                  return (\n                    <tr key={profile.language}>\n                      <td>{profile.languageName}</td>\n                      <td className=\"thin nowrap\">\n                        <span className=\"display-inline-flex-center\">\n                          {!selected && profile.isDefault ? (\n                            <em>{translate('project_quality_profile.instance_default')}</em>\n                          ) : (\n                            <>\n                              {profile.name}\n                              {profile.isBuiltIn && (\n                                <BuiltInQualityProfileBadge className=\"spacer-left\" />\n                              )}\n                            </>\n                          )}\n                        </span>\n                      </td>\n                      <td className=\"nowrap text-right\">\n                        <Link to={getRulesUrl({ activation: 'true', qprofile: profile.key })}>\n                          {profile.activeRuleCount}\n                        </Link>\n                      </td>\n                      <td className=\"text-right\">\n                        <Button\n                          onClick={() => {\n                            props.onOpenSetProfileModal(projectProfile);\n                          }}>\n                          <EditIcon className=\"spacer-right\" />\n                          {translate('project_quality_profile.change_profile')}\n                        </Button>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          )}\n\n          <div className=\"big-spacer-top\">\n            <h2>{translate('project_quality_profile.add_language.title')}</h2>\n\n            <p className=\"spacer-top big-spacer-bottom\">\n              {translate('project_quality_profile.add_language.description')}\n            </p>\n\n            <Button disabled={loading} onClick={props.onOpenAddLanguageModal}>\n              <PlusCircleIcon className=\"little-spacer-right\" />\n              {translate('project_quality_profile.add_language.action')}\n            </Button>\n          </div>\n\n          {showProjectProfileInModal && (\n            <SetQualityProfileModal\n              availableProfiles={profilesByLanguage[showProjectProfileInModal.profile.language]}\n              component={component}\n              currentProfile={showProjectProfileInModal.profile}\n              onClose={props.onCloseModal}\n              onSubmit={props.onSetProfile}\n              usesDefault={!showProjectProfileInModal.selected}\n            />\n          )}\n\n          {showAddLanguageModal && projectProfiles && (\n            <AddLanguageModal\n              profilesByLanguage={profilesByLanguage}\n              onClose={props.onCloseModal}\n              onSubmit={props.onAddLanguage}\n              unavailableLanguages={projectProfiles.map(p => p.profile.language)}\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { differenceBy } from 'lodash';\nimport * as React from 'react';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport {\n  associateProject,\n  dissociateProject,\n  getProfileProjects,\n  Profile,\n  searchQualityProfiles\n} from '../../api/quality-profiles';\nimport addGlobalSuccessMessage from '../../app/utils/addGlobalSuccessMessage';\nimport handleRequiredAuthorization from '../../app/utils/handleRequiredAuthorization';\nimport ProjectQualityProfilesAppRenderer from './ProjectQualityProfilesAppRenderer';\nimport { ProjectProfile } from './types';\n\ninterface Props {\n  component: T.Component;\n}\n\ninterface State {\n  allProfiles?: Profile[];\n  loading: boolean;\n  projectProfiles?: ProjectProfile[];\n  showAddLanguageModal?: boolean;\n  showProjectProfileInModal?: ProjectProfile;\n}\n\nexport default class ProjectQualityProfilesApp extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    if (this.checkPermissions()) {\n      this.fetchProfiles();\n    } else {\n      handleRequiredAuthorization();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  checkPermissions() {\n    const { configuration } = this.props.component;\n    const hasPermission = configuration && configuration.showQualityProfiles;\n    return !!hasPermission;\n  }\n\n  fetchProfiles = async () => {\n    const { component } = this.props;\n\n    const allProfiles = await searchQualityProfiles()\n      .then(({ profiles }) => profiles)\n      .catch(() => [] as Profile[]);\n\n    // We need to know if a profile was explicitly assigned to a project,\n    // even if it's the system default. For this, we need to fetch the info\n    // for each existing profile. We only keep those that were effectively\n    // selected, and discard the rest.\n    const projectProfiles = await Promise.all(\n      allProfiles.map(profile =>\n        getProfileProjects({\n          key: profile.key,\n          q: component.name,\n          selected: 'selected'\n        })\n          .then(({ results }) => ({\n            selected: Boolean(results.find(p => p.key === component.key)?.selected),\n            profile\n          }))\n          .catch(() => ({ selected: false, profile }))\n      )\n    );\n\n    const selectedProjectProfiles = projectProfiles\n      .filter(({ selected }) => selected)\n      .map(({ profile }) => ({\n        profile,\n        selected: true\n      }));\n\n    // Finally, the project uses some profiles implicitly, either inheriting\n    // from the system defaults, OR because the project wasn't re-analyzed\n    // yet (in which case the info is outdated). We also need this information.\n    const componentProfiles = differenceBy(\n      component.qualityProfiles,\n      selectedProjectProfiles.map(p => p.profile),\n      'key'\n    )\n      // Discard languages we already have up-to-date info for.\n      .filter(({ language }) => !selectedProjectProfiles.some(p => p.profile.language === language))\n      .map(({ key }) => {\n        const profile = allProfiles.find(p => p.key === key);\n        if (profile) {\n          // If the profile is the default profile, all is good.\n          if (profile.isDefault) {\n            return { profile, selected: false };\n          } else {\n            // If it is neither the default, nor explicitly selected, it\n            // means this is outdated information. This can only mean the\n            // user wants to use the default profile, but it will only\n            // be taken into account after a new analysis. Fetch the\n            // default profile.\n            const defaultProfile = allProfiles.find(\n              p => p.isDefault && p.language === profile.language\n            );\n            return (\n              defaultProfile && {\n                profile: defaultProfile,\n                selected: false\n              }\n            );\n          }\n        } else {\n          return undefined;\n        }\n      })\n      .filter(isDefined);\n\n    if (this.mounted) {\n      this.setState({\n        allProfiles,\n        projectProfiles: [...selectedProjectProfiles, ...componentProfiles],\n        loading: false\n      });\n    }\n  };\n\n  handleOpenSetProfileModal = (showProjectProfileInModal: ProjectProfile) => {\n    this.setState({ showProjectProfileInModal });\n  };\n\n  handleOpenAddLanguageModal = () => {\n    this.setState({ showAddLanguageModal: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ showAddLanguageModal: false, showProjectProfileInModal: undefined });\n  };\n\n  handleAddLanguage = async (key: string) => {\n    const { component } = this.props;\n    const { allProfiles = [] } = this.state;\n    const newProfile = allProfiles.find(p => p.key === key);\n\n    if (newProfile) {\n      try {\n        await associateProject(newProfile, component.key);\n\n        if (this.mounted) {\n          this.setState(({ projectProfiles = [] }) => {\n            const newProjectProfiles = [\n              ...projectProfiles,\n              {\n                profile: newProfile,\n                selected: true\n              }\n            ];\n\n            return { projectProfiles: newProjectProfiles, showAddLanguageModal: false };\n          });\n\n          addGlobalSuccessMessage(\n            translateWithParameters(\n              'project_quality_profile.successfully_updated',\n              newProfile.languageName\n            )\n          );\n        }\n      } catch (e) {\n        if (this.mounted) {\n          this.setState({ showAddLanguageModal: false });\n        }\n      }\n    }\n  };\n\n  handleSetProfile = async (newKey: string | undefined, oldKey: string) => {\n    const { component } = this.props;\n    const { allProfiles = [], projectProfiles = [] } = this.state;\n\n    const newProfile = newKey && allProfiles.find(p => p.key === newKey);\n    const oldProjectProfile = projectProfiles.find(p => p.profile.key === oldKey);\n    const defaultProfile = allProfiles.find(\n      p => p.isDefault && p.language === oldProjectProfile?.profile.language\n    );\n\n    if (defaultProfile === undefined || oldProjectProfile === undefined) {\n      // Isn't possible. We're in a messed up state.\n      return;\n    }\n\n    let replaceProfile: Profile | undefined;\n    if (newProfile) {\n      replaceProfile = newProfile;\n\n      // Associate with the new profile.\n      try {\n        await associateProject(newProfile, component.key);\n      } catch (e) {\n        // Something went wrong. Keep the old profile in the UI.\n        replaceProfile = oldProjectProfile.profile;\n      }\n    } else if (newKey === undefined) {\n      replaceProfile = defaultProfile;\n\n      // We want to use the system default. Explicitly dissociate the project\n      // profile, if it was explicitly selected.\n      if (oldProjectProfile.selected) {\n        try {\n          await dissociateProject(oldProjectProfile.profile, component.key);\n        } catch (e) {\n          // Something went wrong. Keep the old profile in the UI.\n          replaceProfile = oldProjectProfile.profile;\n        }\n      }\n    }\n\n    if (this.mounted) {\n      const newProjectProfiles = [\n        // Remove the old profile.\n        ...projectProfiles.filter(p => p.profile.key !== oldKey),\n        // Replace with the \"new\" profile.\n        replaceProfile && {\n          profile: replaceProfile,\n          selected: newKey !== undefined\n        }\n      ].filter(isDefined);\n\n      this.setState({ projectProfiles: newProjectProfiles, showProjectProfileInModal: undefined });\n\n      addGlobalSuccessMessage(\n        translateWithParameters(\n          'project_quality_profile.successfully_updated',\n          defaultProfile.languageName\n        )\n      );\n    }\n  };\n\n  render() {\n    if (!this.checkPermissions()) {\n      return null;\n    }\n\n    const {\n      allProfiles,\n      loading,\n      showProjectProfileInModal,\n      projectProfiles,\n      showAddLanguageModal\n    } = this.state;\n\n    return (\n      <ProjectQualityProfilesAppRenderer\n        allProfiles={allProfiles}\n        component={this.props.component}\n        loading={loading}\n        onAddLanguage={this.handleAddLanguage}\n        onCloseModal={this.handleCloseModal}\n        onOpenAddLanguageModal={this.handleOpenAddLanguageModal}\n        onOpenSetProfileModal={this.handleOpenSetProfileModal}\n        onSetProfile={this.handleSetProfile}\n        projectProfiles={projectProfiles}\n        showAddLanguageModal={showAddLanguageModal}\n        showProjectProfileInModal={showProjectProfileInModal}\n      />\n    );\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar HelpIcon_1 = require(\"../icons/HelpIcon\");\nvar theme_1 = require(\"../theme\");\nrequire(\"./HelpTooltip.css\");\nvar Tooltip_1 = require(\"./Tooltip\");\nfunction HelpTooltip(_a) {\n    var _b = _a.size, size = _b === void 0 ? 12 : _b, props = __rest(_a, [\"size\"]);\n    return (React.createElement(\"div\", { className: classNames('help-tooltip', props.className) },\n        React.createElement(Tooltip_1.default, { mouseLeaveDelay: 0.25, onShow: props.onShow, overlay: props.overlay, placement: props.placement },\n            React.createElement(\"span\", { className: \"display-inline-flex-center\" }, props.children || (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return React.createElement(HelpIcon_1.default, { fill: theme.colors.gray71, size: size }); }))))));\n}\nexports.default = HelpTooltip;\nfunction DarkHelpTooltip(_a) {\n    var _b = _a.size, size = _b === void 0 ? 12 : _b, props = __rest(_a, [\"size\"]);\n    return (React.createElement(HelpTooltip, __assign({}, props),\n        React.createElement(theme_1.ThemeConsumer, null, function (_a) {\n            var colors = _a.colors;\n            return (React.createElement(HelpIcon_1.default, { fill: colors.transparentBlack, fillInner: colors.white, size: size }));\n        })));\n}\nexports.DarkHelpTooltip = DarkHelpTooltip;\n//# sourceMappingURL=HelpTooltip.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Modal_1 = require(\"./Modal\");\nvar SimpleModal = (function (_super) {\n    __extends(SimpleModal, _super);\n    function SimpleModal() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.state = { submitting: false };\n        _this.stopSubmitting = function () {\n            if (_this.mounted) {\n                _this.setState({ submitting: false });\n            }\n        };\n        _this.handleCloseClick = function (event) {\n            if (event) {\n                event.preventDefault();\n                event.currentTarget.blur();\n            }\n            _this.props.onClose();\n        };\n        _this.handleFormSubmit = function (event) {\n            event.preventDefault();\n            _this.submit();\n        };\n        _this.handleSubmitClick = function (event) {\n            if (event) {\n                event.preventDefault();\n                event.currentTarget.blur();\n            }\n            _this.submit();\n        };\n        _this.submit = function () {\n            var result = _this.props.onSubmit();\n            if (result) {\n                _this.setState({ submitting: true });\n                result.then(_this.stopSubmitting, _this.stopSubmitting);\n            }\n        };\n        return _this;\n    }\n    SimpleModal.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    SimpleModal.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    SimpleModal.prototype.render = function () {\n        var _a = this.props, children = _a.children, header = _a.header, onClose = _a.onClose, onSubmit = _a.onSubmit, modalProps = __rest(_a, [\"children\", \"header\", \"onClose\", \"onSubmit\"]);\n        return (React.createElement(Modal_1.default, __assign({ contentLabel: header, onRequestClose: onClose }, modalProps), children({\n            onCloseClick: this.handleCloseClick,\n            onFormSubmit: this.handleFormSubmit,\n            onSubmitClick: this.handleSubmitClick,\n            submitting: this.state.submitting,\n        })));\n    };\n    return SimpleModal;\n}(React.Component));\nexports.default = SimpleModal;\n//# sourceMappingURL=SimpleModal.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./HelpTooltip.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport { csvEscape } from 'sonar-ui-common/helpers/csv';\nimport { getJSON, post, postJSON, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { Exporter, ProfileChangelogEvent } from '../apps/quality-profiles/types';\n\nexport interface ProfileActions {\n  associateProjects?: boolean;\n  copy?: boolean;\n  delete?: boolean;\n  edit?: boolean;\n  setAsDefault?: boolean;\n}\n\nexport interface Actions {\n  create?: boolean;\n}\n\nexport interface Profile {\n  actions?: ProfileActions;\n  key: string;\n  name: string;\n  language: string;\n  languageName: string;\n  isInherited?: boolean;\n  parentKey?: string;\n  parentName?: string;\n  isDefault?: boolean;\n  activeRuleCount: number;\n  activeDeprecatedRuleCount: number;\n  rulesUpdatedAt?: string;\n  lastUsed?: string;\n  userUpdatedAt?: string;\n  isBuiltIn?: boolean;\n  projectCount?: number;\n}\n\nexport interface SearchQualityProfilesParameters {\n  defaults?: boolean;\n  language?: string;\n  project?: string;\n  qualityProfile?: string;\n}\n\nexport interface SearchQualityProfilesResponse {\n  actions?: Actions;\n  profiles: Profile[];\n}\n\nexport function searchQualityProfiles(\n  parameters?: SearchQualityProfilesParameters\n): Promise<SearchQualityProfilesResponse> {\n  return getJSON('/api/qualityprofiles/search', parameters).catch(throwGlobalError);\n}\n\nexport function getQualityProfile({\n  compareToSonarWay,\n  profile: { key }\n}: {\n  compareToSonarWay?: boolean;\n  profile: Profile;\n}): Promise<any> {\n  return getJSON('/api/qualityprofiles/show', { compareToSonarWay, key });\n}\n\nexport function createQualityProfile(data: RequestData): Promise<any> {\n  return postJSON('/api/qualityprofiles/create', data).catch(throwGlobalError);\n}\n\nexport function restoreQualityProfile(data: RequestData): Promise<any> {\n  return postJSON('/api/qualityprofiles/restore', data).catch(throwGlobalError);\n}\n\nexport interface ProfileProject {\n  key: string;\n  name: string;\n  selected: boolean;\n}\n\nexport function getProfileProjects(\n  data: RequestData\n): Promise<{ more: boolean; paging: T.Paging; results: ProfileProject[] }> {\n  return getJSON('/api/qualityprofiles/projects', data).catch(throwGlobalError);\n}\n\nexport function getProfileInheritance({\n  language,\n  name: qualityProfile\n}: Profile): Promise<{\n  ancestors: T.ProfileInheritanceDetails[];\n  children: T.ProfileInheritanceDetails[];\n  profile: T.ProfileInheritanceDetails;\n}> {\n  return getJSON('/api/qualityprofiles/inheritance', {\n    language,\n    qualityProfile\n  }).catch(throwGlobalError);\n}\n\nexport function setDefaultProfile({ language, name: qualityProfile }: Profile) {\n  return post('/api/qualityprofiles/set_default', {\n    language,\n    qualityProfile\n  });\n}\n\nexport function renameProfile(key: string, name: string) {\n  return post('/api/qualityprofiles/rename', { key, name }).catch(throwGlobalError);\n}\n\nexport function copyProfile(fromKey: string, toName: string): Promise<any> {\n  return postJSON('/api/qualityprofiles/copy', { fromKey, toName }).catch(throwGlobalError);\n}\n\nexport function deleteProfile({ language, name: qualityProfile }: Profile) {\n  return post('/api/qualityprofiles/delete', { language, qualityProfile }).catch(throwGlobalError);\n}\n\nexport function changeProfileParent(\n  { language, name: qualityProfile }: Profile,\n  parentProfile?: Profile\n) {\n  return post('/api/qualityprofiles/change_parent', {\n    language,\n    qualityProfile,\n    parentQualityProfile: parentProfile ? parentProfile.name : undefined\n  }).catch(throwGlobalError);\n}\n\nexport function getQualityProfileBackupUrl({ language, name: qualityProfile }: Profile) {\n  const queryParams = Object.entries({ language, qualityProfile })\n    .map(([key, value]) => `${key}=${encodeURIComponent(value)}`)\n    .join('&');\n  return `/api/qualityprofiles/backup?${queryParams}`;\n}\n\nexport function getQualityProfileExporterUrl(\n  { key: exporterKey }: Exporter,\n  { language, name: qualityProfile }: Profile\n) {\n  const queryParams = Object.entries({ exporterKey, language, qualityProfile })\n    .map(([key, value]) => `${key}=${encodeURIComponent(value)}`)\n    .join('&');\n  return `/api/qualityprofiles/export?${queryParams}`;\n}\n\nexport function getImporters(): Promise<\n  Array<{ key: string; languages: Array<string>; name: string }>\n> {\n  return getJSON('/api/qualityprofiles/importers').then(r => r.importers, throwGlobalError);\n}\n\nexport function getExporters(): Promise<any> {\n  return getJSON('/api/qualityprofiles/exporters').then(r => r.exporters);\n}\n\nexport function getProfileChangelog(\n  since: any,\n  to: any,\n  { language, name: qualityProfile }: Profile,\n  page?: number\n): Promise<{\n  events: ProfileChangelogEvent[];\n  p: number;\n  ps: number;\n  total: number;\n}> {\n  return getJSON('/api/qualityprofiles/changelog', {\n    since,\n    to,\n    language,\n    qualityProfile,\n    p: page\n  });\n}\n\nexport interface CompareResponse {\n  left: { name: string };\n  right: { name: string };\n  inLeft: Array<{ key: string; name: string; severity: string }>;\n  inRight: Array<{ key: string; name: string; severity: string }>;\n  modified: Array<{\n    key: string;\n    name: string;\n    left: { params: T.Dict<string>; severity: string };\n    right: { params: T.Dict<string>; severity: string };\n  }>;\n}\n\nexport function compareProfiles(leftKey: string, rightKey: string): Promise<CompareResponse> {\n  return getJSON('/api/qualityprofiles/compare', { leftKey, rightKey });\n}\n\nexport function associateProject({ language, name: qualityProfile }: Profile, project: string) {\n  return post('/api/qualityprofiles/add_project', {\n    language,\n    qualityProfile,\n    project\n  }).catch(throwGlobalError);\n}\n\nexport function dissociateProject({ language, name: qualityProfile }: Profile, project: string) {\n  return post('/api/qualityprofiles/remove_project', {\n    language,\n    qualityProfile,\n    project\n  }).catch(throwGlobalError);\n}\n\nexport interface SearchUsersGroupsParameters {\n  language: string;\n  qualityProfile: string;\n  q?: string;\n  selected?: 'all' | 'selected' | 'deselected';\n}\n\ninterface SearchUsersResponse {\n  users: T.UserSelected[];\n  paging: T.Paging;\n}\n\nexport function searchUsers(parameters: SearchUsersGroupsParameters): Promise<SearchUsersResponse> {\n  return getJSON('/api/qualityprofiles/search_users', parameters).catch(throwGlobalError);\n}\n\nexport interface SearchGroupsResponse {\n  groups: Array<{ name: string }>;\n  paging: T.Paging;\n}\n\nexport function searchGroups(\n  parameters: SearchUsersGroupsParameters\n): Promise<SearchGroupsResponse> {\n  return getJSON('/api/qualityprofiles/search_groups', parameters).catch(throwGlobalError);\n}\n\nexport interface AddRemoveUserParameters {\n  language: string;\n  login: string;\n  qualityProfile: string;\n}\n\nexport function addUser(parameters: AddRemoveUserParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/add_user', parameters).catch(throwGlobalError);\n}\n\nexport function removeUser(parameters: AddRemoveUserParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/remove_user', parameters).catch(throwGlobalError);\n}\n\nexport interface AddRemoveGroupParameters {\n  group: string;\n  language: string;\n  qualityProfile: string;\n}\n\nexport function addGroup(parameters: AddRemoveGroupParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/add_group', parameters).catch(throwGlobalError);\n}\n\nexport function removeGroup(parameters: AddRemoveGroupParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/remove_group', parameters).catch(throwGlobalError);\n}\n\nexport interface BulkActivateParameters {\n  activation?: boolean;\n  active_severities?: string;\n  asc?: boolean;\n  available_since?: string;\n  compareToProfile?: string;\n  inheritance?: string;\n  is_template?: string;\n  languages?: string;\n  q?: string;\n  qprofile?: string;\n  repositories?: string;\n  rule_key?: string;\n  s?: string;\n  severities?: string;\n  statuses?: string;\n  tags?: string;\n  targetKey: string;\n  targetSeverity?: string;\n  template_key?: string;\n  types?: string;\n}\n\nexport function bulkActivateRules(data: BulkActivateParameters) {\n  return postJSON('/api/qualityprofiles/activate_rules', data);\n}\n\nexport function bulkDeactivateRules(data: BulkActivateParameters) {\n  return postJSON('/api/qualityprofiles/deactivate_rules', data);\n}\n\nexport function activateRule(data: {\n  key: string;\n  params?: T.Dict<string>;\n  reset?: boolean;\n  rule: string;\n  severity?: string;\n}) {\n  const params =\n    data.params && map(data.params, (value, key) => `${key}=${csvEscape(value)}`).join(';');\n  return post('/api/qualityprofiles/activate_rule', { ...data, params }).catch(throwGlobalError);\n}\n\nexport function deactivateRule(data: { key: string; rule: string }) {\n  return post('/api/qualityprofiles/deactivate_rule', data).catch(throwGlobalError);\n}\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./Radio.css\");\nvar Radio = (function (_super) {\n    __extends(Radio, _super);\n    function Radio() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(_this.props.value);\n            }\n        };\n        return _this;\n    }\n    Radio.prototype.render = function () {\n        var _a = this.props, className = _a.className, checked = _a.checked, children = _a.children, disabled = _a.disabled;\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('display-inline-flex-center link-radio', className, { disabled: disabled }), href: \"#\", onClick: this.handleClick, role: \"radio\" },\n            React.createElement(\"i\", { className: classNames('icon-radio', 'spacer-right', { 'is-checked': checked }) }),\n            children));\n    };\n    return Radio;\n}(React.PureComponent));\nexports.default = Radio;\n//# sourceMappingURL=Radio.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Radio.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:\\\"\\\";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as globalMessages from '../../store/globalMessages';\nimport getStore from './getStore';\n\nexport default function addGlobalSuccessMessage(message: string): void {\n  const store = getStore();\n  store.dispatch(globalMessages.addGlobalSuccessMessage(message));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction csvEscape(value) {\n    var escaped = value.replace(/\"/g, '\\\\\"');\n    return \"\\\"\" + escaped + \"\\\"\";\n}\nexports.csvEscape = csvEscape;\n//# sourceMappingURL=csv.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  tooltip?: boolean;\n}\n\nexport default function BuiltInQualityProfileBadge({ className, tooltip = true }: Props) {\n  const badge = (\n    <div className={classNames('badge badge-info', className)}>\n      {translate('quality_profiles.built_in')}\n    </div>\n  );\n\n  if (tooltip) {\n    return <Tooltip overlay={translate('quality_profiles.built_in.description')}>{badge}</Tooltip>;\n  }\n\n  return badge;\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction PlusCircleIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M8 1c3.863 0 7 3.137 7 7s-3.137 7-7 7-7-3.137-7-7 3.137-7 7-7zm3.726 7.985A.274.274 0 0 0 12 8.711V7.289a.274.274 0 0 0-.274-.274H8.985V4.274A.274.274 0 0 0 8.711 4H7.289a.274.274 0 0 0-.274.274v2.741H4.274A.274.274 0 0 0 4 7.289v1.422c0 .152.123.274.274.274h2.741v2.741c0 .151.122.274.274.274h1.422a.274.274 0 0 0 .274-.274V8.985h2.741z\", style: { fill: fill } })));\n}\nexports.default = PlusCircleIcon;\n//# sourceMappingURL=PlusCircleIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport getHistory from 'sonar-ui-common/helpers/getHistory';\nimport { requireAuthorization } from '../../store/appState';\nimport getStore from './getStore';\n\nexport default function handleRequiredAuthorization() {\n  const store = getStore();\n  const history = getHistory();\n\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n\n  store.dispatch(requireAuthorization());\n  history.replace({ pathname: '/sessions/new', query: { return_to: returnTo } });\n}\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseIteratee = require('./_baseIteratee'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    last = require('./last');\n\n/**\n * This method is like `_.difference` except that it accepts `iteratee` which\n * is invoked for each element of `array` and `values` to generate the criterion\n * by which they're compared. The order and references of result values are\n * determined by the first array. The iteratee is invoked with one argument:\n * (value).\n *\n * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n * // => [1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n * // => [{ 'x': 2 }]\n */\nvar differenceBy = baseRest(function(array, values) {\n  var iteratee = last(values);\n  if (isArrayLikeObject(iteratee)) {\n    iteratee = undefined;\n  }\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), baseIteratee(iteratee, 2))\n    : [];\n});\n\nmodule.exports = differenceBy;\n"],"sourceRoot":""}