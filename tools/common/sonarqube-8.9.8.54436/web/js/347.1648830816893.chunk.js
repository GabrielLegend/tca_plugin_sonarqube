(window.webpackJsonp=window.webpackJsonp||[]).push([[347,369],{1421:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return o}));var n=a(13),r=a(183),s=a(176),c=a(687);function o(){var e=decodeURIComponent(Object(r.getCookie)("AUTHENTICATION-ERROR")||"");return n.createElement("div",{className:"page-wrapper-simple",id:"bd"},n.createElement("div",{className:"page-simple",id:"nonav"},n.createElement("div",{className:"text-center"},n.createElement("p",{id:"unauthorized"},Object(s.translate)("unauthorized.message")),Boolean(e)&&n.createElement("p",{className:"spacer-top"},Object(s.translate)("unauthorized.reason")," ",e),n.createElement("div",{className:"big-spacer-top"},n.createElement("a",{href:Object(c.getBaseUrl)()+"/"},Object(s.translate)("layout.home"))))))}},2222:function(e,t,a){"use strict";a.r(t),a.d(t,"ChangeAdminPasswordApp",(function(){return O})),a.d(t,"mapStateToProps",(function(){return N}));var n=a(13),r=a(674),s=a(806),c=a(716),o=a(676),i=a(661),l=a(671),u=a(688),m=a.n(u),d=a(695),p=a.n(d),f=a(176),h=a(687),b=a(1020),w=a(1421);function g(e){var t=e.canAdmin,a=e.canSubmit,r=e.confirmPasswordValue,s=e.passwordValue,c=e.location,o=e.submitting,u=e.success;return t?n.createElement("div",{className:"page-wrapper-simple"},n.createElement("div",{className:"page-simple"},u?n.createElement(l.Alert,{variant:"success"},n.createElement("p",{className:"spacer-bottom"},Object(f.translate)("users.change_admin_password.form.success")),n.createElement("a",{href:Object(h.getReturnUrl)(c)},Object(f.translate)("users.change_admin_password.form.continue_to_app"))):n.createElement(n.Fragment,null,n.createElement(b.a,null),n.createElement("h1",{className:"text-center bg-danger big padded"},Object(f.translate)("users.change_admin_password.instance_is_at_risk")),n.createElement("p",{className:"text-center huge huge-spacer-top"},Object(f.translate)("users.change_admin_password.header")),n.createElement("p",{className:"text-center huge-spacer-top huge-spacer-bottom"},Object(f.translate)("users.change_admin_password.description")),n.createElement("form",{className:"text-center",onSubmit:function(t){t.preventDefault(),e.onSubmit()}},n.createElement("h2",{className:"big-spacer-bottom big"},Object(f.translate)("users.change_admin_password.form.header")),n.createElement(p.a,{className:"form-field"}),n.createElement("div",{className:"form-field"},n.createElement("label",{htmlFor:"user-password"},Object(f.translate)("users.change_admin_password.form.password"),n.createElement(m.a,null)),n.createElement("input",{id:"user-password",name:"password",onChange:function(t){e.onPasswordChange(t.currentTarget.value)},required:!0,type:"password",value:s})),n.createElement("div",{className:"form-field"},n.createElement("label",{htmlFor:"confirm-user-password"},Object(f.translate)("users.change_admin_password.form.confirm"),n.createElement(m.a,null)),n.createElement("input",{id:"confirm-user-password",name:"confirm-password",onChange:function(t){e.onConfirmPasswordChange(t.currentTarget.value)},required:!0,type:"password",value:r}),r===s&&"admin"===s&&n.createElement(l.Alert,{className:"spacer-top",variant:"warning"},Object(f.translate)("users.change_admin_password.form.cannot_use_default_password"))),n.createElement("div",{className:"form-field"},n.createElement(i.SubmitButton,{disabled:!a||o},Object(f.translate)("update_verb"),o&&n.createElement("i",{className:"spinner spacer-left"}))))))):n.createElement(w.default,null)}var _,v=(_=function(e,t){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),E=function(e,t,a,n){return new(a||(a=Promise))((function(r,s){function c(e){try{i(n.next(e))}catch(e){s(e)}}function o(e){try{i(n.throw(e))}catch(e){s(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,o)}i((n=n.apply(e,t||[])).next())}))},y=function(e,t){var a,n,r,s,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,n=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){c.label=s[1];break}if(6===s[0]&&c.label<r[1]){c.label=r[1],r=s;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(s);break}r[2]&&c.ops.pop(),c.trys.pop();continue}s=t.call(e,c)}catch(e){s=[6,e],n=0}finally{a=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},O=function(e){function t(t){var a=e.call(this,t)||this;return a.mounted=!1,a.handlePasswordChange=function(e){a.setState({passwordValue:e},a.checkCanSubmit)},a.handleConfirmPasswordChange=function(e){a.setState({confirmPasswordValue:e},a.checkCanSubmit)},a.handleSubmit=function(){return E(a,void 0,void 0,(function(){var e,t,a,n;return y(this,(function(r){switch(r.label){case 0:return e=this.state,t=e.canSubmit,a=e.passwordValue,t?(this.setState({submitting:!0}),[4,Object(s.a)({login:"admin",password:a}).then((function(){return!0}),(function(){return!1}))]):[3,2];case 1:n=r.sent(),this.mounted&&this.setState({submitting:!1,success:n}),r.label=2;case 2:return[2]}}))}))},a.checkCanSubmit=function(){a.setState((function(e){var t=e.passwordValue;return{canSubmit:t===e.confirmPasswordValue&&"admin"!==t}}))},a.state={passwordValue:"",confirmPasswordValue:"",submitting:!1,success:!t.instanceUsesDefaultAdminCredentials},a}return v(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.canAdmin,a=e.location,r=this.state,s=r.canSubmit,c=r.confirmPasswordValue,o=r.passwordValue,i=r.submitting,l=r.success;return n.createElement(g,{canAdmin:t,passwordValue:o,confirmPasswordValue:c,canSubmit:s,onPasswordChange:this.handlePasswordChange,onConfirmPasswordChange:this.handleConfirmPasswordChange,onSubmit:this.handleSubmit,submitting:i,success:l,location:a})},t}(n.PureComponent),N=function(e){var t=Object(o.getAppState)(e);return{canAdmin:t.canAdmin,instanceUsesDefaultAdminCredentials:t.instanceUsesDefaultAdminCredentials}};t.default=Object(r.b)(N)(Object(c.a)(O))},688:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(660),r=a(13),s=a(176);t.default=function(e){var t=e.className;return r.createElement("em",{"aria-label":s.translate("field_required"),className:n("mandatory little-spacer-left",t)},"*")}},695:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(660),r=a(13),s=a(665),c=a(176);t.default=function(e){var t=e.className;return r.createElement("div",{"aria-hidden":!0,className:n("text-muted",t)},r.createElement(s.FormattedMessage,{id:"fields_marked_with_x_required",defaultMessage:c.translate("fields_marked_with_x_required"),values:{star:r.createElement("em",{className:"mandatory"},"*")}}))}}}]);
//# sourceMappingURL=347.1648830816893.chunk.js.map