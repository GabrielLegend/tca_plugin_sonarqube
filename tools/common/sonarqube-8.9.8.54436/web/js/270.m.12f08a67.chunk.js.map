{"version":3,"sources":["webpack:///./node_modules/sonar-ui-common/components/controls/BackButton.js","webpack:///./node_modules/sonar-ui-common/components/charts/BarChart.js","webpack:///./src/main/js/apps/issues/styles.css?d1f0","webpack:///./src/main/js/apps/issues/styles.css","webpack:///./src/main/js/apps/issues/actions.ts","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationBadge.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocations.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigatorLocation.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/CrossFileLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueBox.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueComponent.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssue.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesList.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesListHeader.tsx","webpack:///./src/main/js/apps/issues/sidebar/AssigneeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/AuthorFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/CreationDateFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/DirectoryFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/FileFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/LanguageFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ProjectFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ResolutionFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/RuleFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ScopeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/SeverityFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/StatusFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TagFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TypeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/Sidebar.tsx","webpack:///./src/main/js/apps/issues/components/BulkChangeModal.tsx","webpack:///./src/main/js/apps/issues/components/ComponentBreadcrumbs.tsx","webpack:///./src/main/js/apps/issues/components/ListItem.tsx","webpack:///./src/main/js/apps/issues/components/IssuesList.tsx","webpack:///./src/main/js/apps/issues/crossComponentSourceViewer/CrossComponentSourceViewer.tsx","webpack:///./src/main/js/apps/issues/components/IssuesSourceViewer.tsx","webpack:///./src/main/js/apps/issues/components/MyIssuesFilter.tsx","webpack:///./src/main/js/apps/issues/components/NoIssues.tsx","webpack:///./src/main/js/apps/issues/components/NoMyIssues.tsx","webpack:///./src/main/js/apps/issues/components/IssuesCounter.tsx","webpack:///./src/main/js/apps/issues/components/TotalEffort.tsx","webpack:///./src/main/js/apps/issues/components/PageActions.tsx","webpack:///./src/main/js/apps/issues/components/App.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.js","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/QualifierIcon.js","webpack:///./node_modules/lodash/isArrayLikeObject.js","webpack:///./node_modules/lodash/without.js","webpack:///./node_modules/sonar-ui-common/components/controls/ListFooter.js","webpack:///./node_modules/lodash/_baseDifference.js","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.css?7974","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.css","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/lodash/map.js","webpack:///./node_modules/sonar-ui-common/components/intl/DateFormatter.js","webpack:///./node_modules/sonar-ui-common/components/intl/DateFromNow.js","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/IssueTypeIcon.js","webpack:///./node_modules/sonar-ui-common/components/icons/DetachIcon.js","webpack:///./node_modules/lodash/difference.js","webpack:///./src/main/js/components/shared/SeverityHelper.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.js","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css?01af","webpack:///./src/main/js/helpers/sanitize.ts","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css","webpack:///./node_modules/sonar-ui-common/components/icons/TagsIcon.js","webpack:///./node_modules/lodash/pickBy.js","webpack:///./node_modules/valid-url/index.js","webpack:///./node_modules/sonar-ui-common/helpers/pages.js","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronDownIcon.js","webpack:///./src/main/js/components/tags/TagsList.css?d861","webpack:///./node_modules/sonar-ui-common/components/icons/IssueIcon.js","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/SeverityIcon.js","webpack:///./node_modules/sonar-ui-common/components/icons/OpenCloseIcon.js","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./src/main/js/components/common/MultiSelectOption.tsx","webpack:///./src/main/js/components/common/MultiSelect.tsx","webpack:///./src/main/js/components/common/DocumentationTooltip.tsx","webpack:///./src/main/js/components/tags/TagsList.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/LinkIcon.js","webpack:///./src/main/js/components/common/FormattingTips.tsx","webpack:///./src/main/js/components/tags/TagsList.css","webpack:///./node_modules/lodash/range.js","webpack:///./node_modules/lodash/_createRange.js","webpack:///./node_modules/lodash/_baseRange.js","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronLeftIcon.js","webpack:///./src/main/js/components/facet/ListStyleFacetFooter.tsx","webpack:///./src/main/js/components/facet/ListStyleFacet.tsx","webpack:///./node_modules/sonar-ui-common/helpers/search.js","webpack:///./src/main/js/components/tags/TagsSelector.tsx","webpack:///./src/main/js/components/controls/DateInput.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/CalendarIcon.js","webpack:///./src/main/js/components/controls/DayPicker.css?d7e1","webpack:///./src/main/js/components/controls/DayPicker.css","webpack:///./src/main/js/components/controls/styles.css?5633","webpack:///./src/main/js/components/controls/styles.css","webpack:///./src/main/js/components/common/LocationIndex.tsx","webpack:///./src/main/js/components/facet/MultipleSelectionHint.tsx","webpack:///./src/main/js/components/shared/StatusHelper.tsx","webpack:///./src/main/js/components/search-navigator.css?9a2e","webpack:///./src/main/js/components/search-navigator.css","webpack:///./src/main/js/helpers/security-standard.ts","webpack:///./node_modules/sonar-ui-common/components/icons/FilterIcon.js","webpack:///./src/main/js/components/SourceViewer/SourceViewer.tsx","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./src/main/js/components/controls/HomePageSelect.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/HomeIcon.js","webpack:///./src/main/js/components/controls/DateRangeInput.tsx","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./node_modules/sonar-ui-common/components/controls/SearchSelect.js","webpack:///./src/main/js/components/issue/actions.ts","webpack:///./src/main/js/components/common/SelectListItem.tsx","webpack:///./src/main/js/components/common/SelectList.tsx","webpack:///./src/main/js/components/issue/popups/SetAssigneePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueAssign.tsx","webpack:///./src/main/js/components/issue/popups/CommentPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentAction.tsx","webpack:///./src/main/js/components/issue/popups/SetSeverityPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueSeverity.tsx","webpack:///./src/main/js/components/issue/popups/SetIssueTagsPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTags.tsx","webpack:///./src/main/js/components/issue/popups/SetTransitionPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTransition.tsx","webpack:///./src/main/js/components/issue/popups/SetTypePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueType.tsx","webpack:///./src/main/js/components/issue/components/IssueActionsBar.tsx","webpack:///./src/main/js/components/issue/popups/CommentDeletePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentLine.tsx","webpack:///./src/main/js/types/rules.ts","webpack:///./src/main/js/components/issue/popups/ChangelogPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelog.tsx","webpack:///./src/main/js/components/issue/components/IssueMessage.tsx","webpack:///./src/main/js/components/issue/popups/SimilarIssuesPopup.tsx","webpack:///./src/main/js/components/issue/components/SimilarIssuesFilter.tsx","webpack:///./src/main/js/components/issue/components/IssueTitleBar.tsx","webpack:///./src/main/js/components/issue/IssueView.tsx","webpack:///./src/main/js/components/issue/Issue.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelogDiff.tsx","webpack:///./src/main/js/components/common/LocationMessage.tsx","webpack:///./src/main/js/components/common/EmptySearch.css?d1ee","webpack:///./src/main/js/components/common/LocationIndex.css?e012","webpack:///./src/main/js/components/common/LocationIndex.css","webpack:///./src/main/js/components/common/LocationMessage.css?8760","webpack:///./src/main/js/components/common/LocationMessage.css","webpack:///./src/main/js/components/issue/Issue.css?a142","webpack:///./src/main/js/components/issue/Issue.css","webpack:///./node_modules/sonar-ui-common/components/icons/StatusIcon.js","webpack:///./src/main/js/components/ui/PageShortcutsTooltip.tsx","webpack:///./src/main/js/components/common/FiltersHeader.tsx","webpack:///./src/main/js/apps/issues/sidebar/StandardFacet.tsx","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css?3321","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css","webpack:///./src/main/js/components/common/PageCounter.tsx","webpack:///./src/main/js/components/shared/TypeHelper.tsx","webpack:///./node_modules/sonar-ui-common/components/charts/BarChart.css?3f5e","webpack:///./node_modules/sonar-ui-common/components/charts/BarChart.css","webpack:///./src/main/js/components/common/EmptySearch.tsx","webpack:///./src/main/js/components/common/EmptySearch.css","webpack:///./node_modules/lodash/max.js"],"names":["extendStatics","__extends","this","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","classNames","React","l10n_1","theme_1","Tooltip_1","BackButton","_super","_this","apply","arguments","handleClick","event","preventDefault","currentTarget","blur","props","disabled","onClick","renderIcon","createElement","ThemeConsumer","theme","height","viewBox","width","fill","colors","disableGrayText","secondFontColor","render","_a","tooltip","translate","default","overlay","className","href","PureComponent","d3_array_1","d3_scale_1","BarChart","point","onBarClick","renderXTicks","xScale","yScale","data","_b","xTicks","length","ticks","map","tick","index","x","Math","round","bandwidth","y","range","text","dy","key","style","cursor","undefined","renderXValues","xValues","renderBars","bars","maxY","rect","barsWidth","padding","availableWidth","availableHeight","innerPadding","relativeInnerPadding","max","scaleBand","domain","paddingInner","scaleLinear","transform","api","content","__esModule","module","i","options","exported","locals","___CSS_LOADER_API_IMPORT___","push","enableLocationsNavigator","state","openIssue","selectedLocationIndex","secondaryLocations","flows","locationsNavigator","selectedFlowIndex","disableLocationsNavigator","selectNextLocation","lastLocationIdx","selectPreviousLocation","selectNextFlow","selectPreviousFlow","ConciseIssueLocationBadge","mouseEnterDelay","count","LocationIndex","selected","collapsed","handleExpandClick","setState","issue","badges","forEach","flow","onFlowSelect","slice","LIMIT","renderExpandButton","node","scroll","prevProps","message","ref","LocationMessage","handleMoreLocationsClick","groupByFile","locations","groups","currentComponent","currentComponentName","currentLocations","currentFirstLocationIndex","location","component","componentName","firstLocationIndex","renderLocation","onLocationSelect","renderGroup","group","groupIndex","onlyFirst","onlyLast","lastLocationIndex","msg","nextProps","nextLocations","firstGroup","lastGroup","every","locationComponents","handleScroll","rootElement","messageElement","window","innerHeight","clickAttributesMain","role","tabIndex","clickAttributesTitle","TypeHelper","type","ConciseIssueComponent","path","title","previousIssue","displayComponent","componentLongName","onSelect","element","bottomOffset","scrollableElement","document","querySelector","topOffset","parent","issues","onIssueSelect","ConciseIssuesListHeader","displayBackButton","loading","onBackClick","PageShortcutsTooltip","leftLabel","upAndDownLabel","metaModifierLabel","handleSearch","query","page","handleItemClick","itemValue","multiple","assignees","onChange","assigned","newValue","includes","handleClear","getAssigneeName","assignee","user","referencedUsers","name","login","loadSearchResultCount","getSortedItems","stats","keys","renderFacetItem","userName","Avatar","hash","avatar","size","renderSearchResult","result","displayName","values","ListStyleFacet","facetHeader","fetching","getFacetItemText","getSearchResultKey","getSearchResultText","onClear","onItemClick","onSearch","onToggle","open","property","searchPlaceholder","identity","author","_page","project","qualifier","ps","q","then","authors","maxResults","results","term","hasValue","createdAfter","createdAt","createdBefore","createdInLast","sinceLeakPeriod","handleHeaderClick","resetTo","changes","handleBarClick","handlePeriodChange","from","to","handlePeriodClick","period","handleLeakPeriodClick","createdAfterIncludesTime","formatDate","intl","periods","start","startDate","endDate","setDate","getDate","tooltipEndDate","Date","floor","maxValue","DateRangeInput","FacetItem","active","date","renderBarChart","renderPeriodSelectors","renderPredefinedPeriods","FacetBox","FacetHeader","getValues","renderInner","defaultProps","directory","branchLike","componentKey","components","paging","filter","dir","directories","renderDirectory","minSearchLength","file","files","renderFile","head","tail","getLanguageName","language","referencedLanguages","getAllPossibleOptions","toLowerCase","pageIndex","pageSize","total","Promise","resolve","installedLanguages","languages","Portfolio","SubPortfolio","Application","qualifiers","Project","refKey","getProjectName","referencedComponents","projects","projectKey","RESOLUTIONS","resolutions","resolved","renderItem","resolution","isFacetItemActive","stat","getStat","halfWidth","getFacetItemName","FacetItemsList","MultipleSelectionHint","f","join","s","include_external","response","rules","rule","getRuleName","ruleKey","referencedRules","formatRuleName","langName","ScopeFacet","scopes","scope","SEVERITIES","severities","severity","SeverityHelper","STATUSES","statuses","status","StatusHelper","tags","getTagName","tag","renderTag","gray60","types","t","facets","loadingFacets","openFacets","hasFileOrDirectory","commonProps","onFilterChange","onFacetToggle","Directory","displayProjectsFacet","displayAuthorFacet","StandardFacet","cwe","cweOpen","cweStats","fetchingCwe","fetchingOwaspTop10","owaspTop10","fetchingSansTop25","sansTop25","fetchingSonarSourceSecurity","sonarsourceSecurity","standards","owaspTop10Open","owaspTop10Stats","sansTop25Open","sansTop25Stats","sonarsourceSecurityOpen","sonarsourceSecurityStats","referencedComponentsByKey","renderComponentFacets","myIssues","disableDeveloperAggregatedInfo","toString","AssigneeSelect","TagSelect","super","mounted","loadIssues","fetchIssues","additionalFields","getDefaultAssignee","currentUser","label","handleAssigneeSearch","r","userInfo","handleAssigneeSelect","handleTagsSearch","handleTagsSelect","field","handleFieldCheck","checked","handleRadioTransitionChange","transition","handleCommentChange","comment","handleSelectFieldChange","handleSubmit","add_tags","addTags","assign","do_transition","remove_tags","removeTags","sendNotifications","notifications","set_severity","set_type","issueKeys","submitting","onDone","error","throwGlobalError","renderLoading","onClose","renderAffected","affected","renderField","input","id","htmlFor","renderAssigneeOption","option","renderAssigneeField","hasAction","clearable","defaultOptions","renderOption","resetOnBlur","renderTypeField","optionRenderer","searchable","valueRenderer","renderSeverityField","renderTagOption","renderTagsField","allowCreate","initialTags","canCreate","minimumQueryLength","multi","onMultiSelect","promptTextCreator","promptCreateTag","renderTransitionsField","transitions","getAvailableTransitions","onCheck","renderCommentField","rows","FormattingTips","renderNotificationsField","right","renderForm","limitReached","onSubmit","Alert","variant","defaultMessage","all","contentLabel","onRequestClose","action","actions","ComponentBreadcrumbs","displayProject","displaySubProject","selectedLocation","projectName","componentQualifier","subProject","subProjectName","handleFilter","issuesReset","startsWith","substr","subProjectUuid","modules","componentUuid","Issue","onFilter","onPopupToggle","openPopup","prerender","setTimeout","selectedIssue","onIssueChange","onIssueCheck","onIssueClick","lazyLoadComponent","scrollToIssue","smooth","offset","handleLoaded","shouldScrollBackToIssue","loc","highlightedLocationMessage","startLines","l","textRange","startLine","min","onLoaded","aroundLine","endLine","allMessagesEmpty","highlightedLocations","SourceViewer","displayAllIssues","displayIssueLocationsCount","displayIssueLocationsLink","displayLocationMarkers","slimHeader","onMyIssuesChange","NoIssues","NoMyIssues","IssuesCounter","PageCounter","current","TotalEffort","effort","0","PageActions","canSetHome","effortTotal","selectedIndex","leftAndRightLabel","HomePageSelect","currentPage","DEFAULT_QUERY","handleKeyDown","keyCode","altKey","handleKeyUp","getOpenIssue","find","selectNextIssue","getSelectedIndex","selectPreviousIssue","issueKey","pathname","scrollToSelectedIssue","router","replace","closeIssue","openSelectedIssue","Boolean","additional","requestFacets","facet","parameters","componentKeys","sort","asc","fetchIssuesPage","fetchIssuesUntil","done","recursiveFetch","prevIssues","pageIssues","other","fetchMoreIssues","reject","checkAll","loadingMore","fetchIssuesForComponent","_component","_from","isSameComponent","lastIssue","nextIssues","fetchFacet","referencedComponentsById","users","isFiltered","serialized","getCheckedIssues","getButtonLabel","handleFilterChange","handleMyIssuesChange","closeFacet","handleFacetToggle","willOpenProperty","newState","handleReset","handlePopupToggle","popupName","samePopup","handleIssueCheck","handleIssueChange","refreshBranchStatus","candidate","handleOpenBulkChange","bulkChangeModal","handleCloseBulkChange","handleBulkChangeDone","fetchFirstIssues","selectLocation","nextIndex","handleCheckAll","selectFlow","fetchBranchStatus","OWASP_TOP10","SANS_TOP25","isLoggedIn","attachShortcuts","prevState","prevQuery","detachShortcuts","addEventListener","removeEventListener","findIndex","openIssueKey","fetchPromise","some","cannotShowOpenIssue","isAllChecked","thirdState","isChecked","FiltersHeader","displayReset","onReset","loadMore","ScreenPositionHelper","top","A11ySkipTarget","anchor","weight","renderConciseIssuesList","renderFacets","noIssuesMessage","EmptySearch","renderBulkChange","branch","pullRequest","renderList","Suggestions","suggestions","defer","renderSide","renderHeader","renderPage","DeferredSpinner_1","Checkbox","children","note","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","__assign","n","call","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","Icon_1","qualifierIcons","app","iconProps","ThemedIcon","blue","brc","dev","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","orange","FoundIcon","isArrayLike","isObjectLike","baseDifference","baseRest","isArrayLikeObject","without","array","measures_1","buttons_1","button","needReload","ready","hasMore","reload","Button","translateWithParameters","formatMeasure","SetCache","arrayIncludes","arrayIncludesWith","arrayMap","baseUnary","cacheHas","iteratee","comparator","isCommon","valuesLength","outer","computed","valuesIndex","toNumber","baseIteratee","baseMap","isArray","collection","react_intl_1","dates_1","formatterOption","year","month","day","longFormatterOption","long","FormattedDate","parseDate","date_fns_1","DateTimeFormatter_1","originalChildren","hourPrecision","Fragment","differenceInHours","now","parsedDate","formattedDate","FormattedRelative","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","IssueIcon_1","baseFlatten","difference","Radio","sanitizeStringRestricted","html","ALLOWED_TAGS","ALLOWED_ATTR","sanitizeString","USE_PROFILES","basePickBy","getAllKeysIn","object","predicate","prop","is_uri","is_iri","is_http_uri","is_http_iri","is_https_uri","is_https_iri","is_web_uri","is_web_iri","isUri","isHttpUri","isHttpsUri","isWebUri","splitUri","uri","match","test","splitted","authority","fragment","scheme","out","allowHttps","port","toggleBodyClass","force","body","classList","toggle","documentElement","addSideBarClass","addWhitePageClass","addNoFooterPageClass","console","warn","removeSideBarClass","removeWhitePageClass","removeNoFooterPageClass","BugIcon_1","CodeSmellIcon_1","SecurityHotspotIcon_1","VulnerabilityIcon_1","getPosition","containerPos","container","getBoundingClientRect","pageYOffset","left","pageXOffset","debouncedOnResize","forceUpdate","severityIcons","blocker","red","fillRule","critical","major","minor","lightGreen","info","Icon","ChevronDownIcon_1","ChevronRightIcon_1","helper","showClearButton","renderHelper","renderValueIndicator","ctrlKey","metaKey","renderValue","MultiSelectOption","custom","onHover","renderLabel","onFocus","onMouseOver","onSelectChange","handleSelectChange","item","onSelectItem","onUnselectItem","handleSearchChange","onSearchQuery","validateSearchInput","handleElementHover","activeIdx","getAllElements","handleKeyboard","evt","stopPropagation","selectNextElement","selectPreviousElement","toggleSelect","stopLoading","isNewElement","onUnselect","elem","selectedElements","elements","updateSelectedElements","filterSelected","updateUnselectedElements","listSize","unselectedElements","setElementActive","idx","allElements","totalElements","searchInput","focus","allowSelection","allowNewElements","footerNode","activeElement","showNewElement","infiniteList","listClasses","div","autoFocus","placeholder","DocumentationTooltip","links","inPlace","rel","target","TagsList","allowUpdate","createRange","baseRange","isIterateeCall","toFinite","fromRight","end","step","nativeCeil","ceil","nativeMax","handleShowMoreClick","showMore","handleShowLessClick","showLess","allShown","searching","searchResultsCounts","showFullList","stopSearching","search","loadCountsForSearchResults","searchMaxResults","searchResults","searchPaging","catch","searchMore","resultsToLoad","hideFullList","maxInitialItems","sortedItems","limitedList","selectedBelowLimit","mightHaveMoreResults","maxItems","formatFacetStat","minLength","loadingResults","showList","disabledHelper","renderSearch","renderSearchResults","highlightTerm","str","pos","substring","TagsSelector","selectedTags","validateTag","DayPicker","DateInput","openCalendar","handleResetClick","closeCalendar","currentMonth","lastHovered","handleDayClick","modifiers","handleDayMouseEnter","handleCurrentMonthChange","handleCurrentYearChange","handlePreviousMonthClick","handleNextMonthClick","highlightFrom","highlightTo","minDate","after","maxDate","months","years","getFullYear","selectedDays","lastHoveredOrValue","highlighted","weekdaysLong","weekdaysShort","onClickOutside","InputWrapper","inputClassName","innerRef","readOnly","getMonth","String","captionElement","NullComponent","disabledDays","before","firstDayOfWeek","navbarElement","onDayClick","onDayMouseEnter","formattedValue","leading","clickAttributes","navigator","userAgent","getStandards","renderCWECategory","category","record","renderOwaspTop10Category","withPrefix","addPrefix","toUpperCase","renderSansTop25Category","renderSonarSourceSecurityCategory","prefix","isSymbol","DEFAULT_HOMEPAGE","setHomePage","homepage","isSameHomePage","isDefault","filled","mapDispatchToProps","a","color","handleFromChange","toDateInput","handleToChange","lodash_1","Select_1","SearchSelect","currentQuery","handleChange","handleInputChange","handleFilterOption","debounce","componentDidMount","componentWillUnmount","get","autofocus","enumerable","configurable","Component","Creatable","escapeClearsValue","filterOption","isLoading","noResultsText","onBlurResetsInput","onInputChange","updateIssue","resultPromise","oldIssue","newIssue","optimisticUpdate","param","handleSelect","handleHover","placement","renderLink","previousKeyScope","previousFilter","currentKeyScope","tagName","srcElement","isInput","items","renderChild","child","currentItem","hasChildren","searchUsers","handleSearchResult","activeUsers","defaultUsersArray","Dropdown","noPadding","marginLeft","withCurrentUser","toggleAssign","togglePopup","handleClose","assigneeName","assigneeAvatar","assigneeActive","canAssign","isOpen","closeOnEscape","onAssign","renderAssignee","textComment","handleCommentClick","trim","onComment","handleCancelClick","toggleComment","markdown","autoTriggered","onKeyDown","addComment","closeOnClickOutside","currentPopup","commentAutoTriggered","commentPlaceholder","SEVERITY","SetSeverityPopup","toggleSetSeverity","setSeverity","setIssueProperty","canSetSeverity","searchResult","setTags","availableTags","BottomRight","toggleSetTags","canSetTags","SetTransitionPopup","fromHotspot","isManualVulnerability","description","community_plug_link","translateTransition","setTransition","toggleSetTransition","hasTransitions","TYPES","SetTypePopup","toggleSetType","setType","canSetType","baseFontColor","popup","apiCall","handleTransition","canComment","isSecurityHotspot","CommentDeletePopup","onDelete","handleEdit","onEdit","toggleEditPopup","handleDelete","toggleDeletePopup","closePopups","authorName","authorActive","authorAvatar","dangerouslySetInnerHTML","__html","sanitize","htmlText","updatable","RuleStatus","changelog","loadChangelog","creationDate","isUserActive","diffs","diff","IssueChangelogDiff","toggleChangelog","IssueMessage","engine","engineName","manualVulnerability","ruleStatus","ruleEngine","onOpenRule","Deprecated","Removed","ruleName","IssueTitleBar","hasSimilarIssuesFilter","locationsCount","reduce","sum","locationsBadge","displayLocations","displayLocationsCount","issueUrl","externalRulesRepoNames","openRule","externalRuleEngine","displayLocationsLink","handleCheck","isClickable","parentElement","editComment","deleteComment","hasCheckbox","issueClass","hotspot","comments","handleAssignement","bindShortcuts","unbindShortcuts","oldValue","statusIcons","OpenStatusIcon","confirmed","ConfirmedStatusIcon","reopened","ResolvedStatusIcon","closed","to_review","in_review","reviewed","loadStandards","handleOwaspTop10HeaderClick","handleSansTop25HeaderClick","handleSonarSourceSecurityHeaderClick","handleOwaspTop10ItemClick","handleSansTop25ItemClick","handleSonarSourceSecurityItemClick","SONARSOURCE","handleCWESearch","loadCWESearchResultCount","categories","statsProp","valuesProp","renderName","renderFacetItemsList","renderTooltip","renderHint","renderSonarSourceSecurityList","renderSonarSourceSecurityHint","renderOwaspTop10List","renderOwaspTop10Hint","renderSansTop25List","renderSansTop25Hint","CWE","renderSubFacets","baseExtremum","baseGt"],"mappings":"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","file":"js/270.m.12f08a67.chunk.js","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar theme_1 = require(\"../theme\");\nvar Tooltip_1 = require(\"./Tooltip\");\nvar BackButton = (function (_super) {\n    __extends(BackButton, _super);\n    function BackButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            if (!_this.props.disabled) {\n                _this.props.onClick();\n            }\n        };\n        _this.renderIcon = function () { return (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return (React.createElement(\"svg\", { height: \"24\", viewBox: \"0 0 21 24\", width: \"21\" },\n            React.createElement(\"path\", { d: \"M3.845 12.9992l5.993 5.993.052.056c.049.061.093.122.129.191.082.159.121.339.111.518-.006.102-.028.203-.064.298-.149.39-.537.652-.954.644-.102-.002-.204-.019-.301-.052-.148-.05-.273-.135-.387-.241l-8.407-8.407 8.407-8.407.056-.052c.061-.048.121-.092.19-.128.116-.06.237-.091.366-.108.076-.004.075-.004.153-.003.155.015.3.052.437.129.088.051.169.115.239.19.246.266.33.656.214.999-.051.149-.135.273-.241.387l-5.983 5.984c5.287-.044 10.577-.206 15.859.013.073.009.091.009.163.027.187.047.359.15.49.292.075.081.136.175.18.276.044.101.072.209.081.319.032.391-.175.775-.521.962-.097.052-.202.089-.311.107-.073.012-.091.01-.165.013H3.845z\", fill: _this.props.disabled ? theme.colors.disableGrayText : theme.colors.secondFontColor }))); })); };\n        return _this;\n    }\n    BackButton.prototype.render = function () {\n        var _a = this.props.tooltip, tooltip = _a === void 0 ? l10n_1.translate('issues.return_to_list') : _a;\n        return (React.createElement(Tooltip_1.default, { overlay: tooltip },\n            React.createElement(\"a\", { className: classNames('link-no-underline', { 'cursor-not-allowed': this.props.disabled }, this.props.className), href: \"#\", onClick: this.handleClick }, this.renderIcon())));\n    };\n    return BackButton;\n}(React.PureComponent));\nexports.default = BackButton;\n//# sourceMappingURL=BackButton.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar d3_array_1 = require(\"d3-array\");\nvar d3_scale_1 = require(\"d3-scale\");\nvar React = require(\"react\");\nvar Tooltip_1 = require(\"../controls/Tooltip\");\nrequire(\"./BarChart.css\");\nvar BarChart = (function (_super) {\n    __extends(BarChart, _super);\n    function BarChart() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (point) {\n            if (_this.props.onBarClick) {\n                _this.props.onBarClick(point);\n            }\n        };\n        _this.renderXTicks = function (xScale, yScale) {\n            var _a = _this.props, data = _a.data, _b = _a.xTicks, xTicks = _b === void 0 ? [] : _b;\n            if (!xTicks.length) {\n                return null;\n            }\n            var ticks = xTicks.map(function (tick, index) {\n                var point = data[index];\n                var x = Math.round(xScale(point.x) + xScale.bandwidth() / 2);\n                var y = yScale.range()[0];\n                var d = data[index];\n                var text = (React.createElement(\"text\", { className: \"bar-chart-tick\", dy: \"1.5em\", key: index, onClick: function () { return _this.handleClick(point); }, style: { cursor: _this.props.onBarClick ? 'pointer' : 'default' }, x: x, y: y }, tick));\n                return (React.createElement(Tooltip_1.default, { key: index, overlay: d.tooltip || undefined }, text));\n            });\n            return React.createElement(\"g\", null, ticks);\n        };\n        _this.renderXValues = function (xScale, yScale) {\n            var _a = _this.props, data = _a.data, _b = _a.xValues, xValues = _b === void 0 ? [] : _b;\n            if (!xValues.length) {\n                return null;\n            }\n            var ticks = xValues.map(function (value, index) {\n                var point = data[index];\n                var x = Math.round(xScale(point.x) + xScale.bandwidth() / 2);\n                var y = yScale(point.y);\n                var text = (React.createElement(\"text\", { className: \"bar-chart-tick\", dy: \"-1em\", key: index, onClick: function () { return _this.handleClick(point); }, style: { cursor: _this.props.onBarClick ? 'pointer' : 'default' }, x: x, y: y }, value));\n                return (React.createElement(Tooltip_1.default, { key: index, overlay: point.tooltip || undefined }, text));\n            });\n            return React.createElement(\"g\", null, ticks);\n        };\n        _this.renderBars = function (xScale, yScale) {\n            var bars = _this.props.data.map(function (point, index) {\n                var x = Math.round(xScale(point.x));\n                var maxY = yScale.range()[0];\n                var y = Math.round(yScale(point.y)) - 1;\n                var height = maxY - y;\n                var rect = (React.createElement(\"rect\", { className: \"bar-chart-bar\", height: height, key: index, onClick: function () { return _this.handleClick(point); }, style: { cursor: _this.props.onBarClick ? 'pointer' : 'default' }, width: _this.props.barsWidth, x: x, y: y }));\n                return (React.createElement(Tooltip_1.default, { key: index, overlay: point.tooltip || undefined }, rect));\n            });\n            return React.createElement(\"g\", null, bars);\n        };\n        return _this;\n    }\n    BarChart.prototype.render = function () {\n        var _a = this.props, barsWidth = _a.barsWidth, data = _a.data, width = _a.width, height = _a.height, _b = _a.padding, padding = _b === void 0 ? [10, 10, 10, 10] : _b;\n        var availableWidth = width - padding[1] - padding[3];\n        var availableHeight = height - padding[0] - padding[2];\n        var innerPadding = (availableWidth - barsWidth * data.length) / (data.length - 1);\n        var relativeInnerPadding = innerPadding / (innerPadding + barsWidth);\n        var maxY = d3_array_1.max(data, function (d) { return d.y; });\n        var xScale = d3_scale_1.scaleBand()\n            .domain(data.map(function (d) { return d.x; }))\n            .range([0, availableWidth])\n            .paddingInner(relativeInnerPadding);\n        var yScale = d3_scale_1.scaleLinear().domain([0, maxY]).range([availableHeight, 0]);\n        return (React.createElement(\"svg\", { className: \"bar-chart\", height: height, width: width },\n            React.createElement(\"g\", { transform: \"translate(\" + padding[3] + \", \" + padding[0] + \")\" },\n                this.renderXTicks(xScale, yScale),\n                this.renderXValues(xScale, yScale),\n                this.renderBars(xScale, yScale))));\n    };\n    return BarChart;\n}(React.PureComponent));\nexports.default = BarChart;\n//# sourceMappingURL=BarChart.js.map","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".issues-main-header .component-name{line-height:24px}.issues-main-header-spinner{margin-right:2px}.concise-issues-list-header-inner{width:260px;text-align:center}.concise-issues-list-header .spinner{margin-top:4px;margin-left:1px;margin-right:1px}.concise-issues-list-header-button{border:none}.concise-issues-list-header-button path{fill:#666;transition:fill .3s ease}.concise-issues-list-header-button:hover path{fill:#4b9fd5}.concise-issue-component{margin-top:16px;margin-bottom:4px;padding-left:8px;padding-right:8px;direction:rtl}.concise-issue-box{position:relative;z-index:1;margin-bottom:4px;padding:7px;border:2px solid #e6e6e6;background-color:#fff;cursor:pointer;transition:background-color .3s ease,border-color .3s ease}.concise-issue-box:hover{border:2px dashed #4b9fd5}.concise-issue-box:focus{outline:none}.concise-issue-box.selected{z-index:2;border:2px solid #4b9fd5;cursor:default}.concise-issue-box-message{overflow:hidden;text-overflow:ellipsis;font-weight:700}.concise-issue-box-message:focus{outline:none}.concise-issue-box.selected .concise-issue-box-message{cursor:pointer}.concise-issue-box-attributes{margin-top:8px;line-height:16px;font-size:12px;display:flex;align-items:flex-start;flex-wrap:wrap;justify-content:flex-start}.concise-issue-box:not(.selected) .location-index{background-color:#666}.concise-issue-locations{display:inline-block;margin-bottom:-4px;margin-left:8px}.concise-issue-box-attributes>.location-index{margin-bottom:4px;margin-right:4px}.concise-issue-box-attributes>.concise-issue-expand{background-color:transparent;border:1px solid #d18582;height:16px;color:#d18582;font-weight:700;font-size:16px;line-height:8px;padding-bottom:6px}.concise-issue-box-attributes>.concise-issue-expand:hover{background-color:#d18582;color:#fff}.concise-issue-locations-navigator-location{position:relative;z-index:3;display:inline-flex;align-items:flex-start;max-width:100%;border:none}.concise-issue-locations-navigator-file{position:relative}.concise-issue-locations-navigator-file+.concise-issue-locations-navigator-file{margin-top:12px}.concise-issue-locations-navigator-file:not(:last-child):before{position:absolute;display:block;width:0;top:13px;bottom:-16px;left:4px;border-left:1px dotted #d18582;content:\\\"\\\"}.concise-issue-location-file{height:16px;padding-bottom:4px;font-size:12px;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.concise-issue-location-file-circle,.concise-issue-location-file-circle-multiple,.concise-issue-location-file-circle-multiple:after,.concise-issue-location-file-circle-multiple:before{position:relative;top:1px;display:inline-block;width:9px;height:9px;border:1px solid #d18582;border-radius:100%;box-sizing:border-box;background-color:#f2dede}.concise-issue-location-file-circle-multiple{top:-2px}.concise-issue-location-file-circle-multiple:before{position:absolute;z-index:7;top:2px;left:-1px;content:\\\"\\\"}.concise-issue-location-file-circle-multiple:after{position:absolute;z-index:8;top:5px;left:-1px;content:\\\"\\\"}.concise-issue-location-file-locations{padding-left:16px}.concise-issue-location-file-more{border-color:rgba(209,133,130,.2);color:#d18582!important;font-style:italic;font-weight:400}.concise-issue-location-file-more:focus,.concise-issue-location-file-more:hover{border-color:rgba(209,133,130,.6)}.component-source-container{border:1px solid #cdcdcd}.component-source-container+.component-source-container{margin-top:8px}.component-source-container-header{background-color:#efefef;padding:8px}.issues-my-issues-filter{margin-bottom:24px;text-align:center}.issues-page-actions{display:inline-block;min-width:80px;text-align:right}.issues .issue-list{min-width:640px;width:800px}.issues .issue{border:2px solid transparent;cursor:pointer}.issues .issue:focus-within,.issues .issue:hover{border:2px dashed #4b9fd5;transition:all .3s ease;outline:0}.issues .issue a:focus,.issues .issue button:focus{box-shadow:none;outline:1px dotted #4b9fd5}@media (max-width:1320px){.issues .issue-list{width:calc(60vw - 40px)}}.issue-location{display:inline-block;vertical-align:top;line-height:18px;height:18px;box-sizing:border-box;background-color:#f2dede;transition:background-color .3s ease}.issues-workspace-list-component{padding:10px 0 6px}.issues-workspace-list-item+.issues-workspace-list-item{margin-top:5px}.issues-workspace-list-component+.issues-workspace-list-item{margin-top:10px}.issues-workspace-list-item:first-child .issues-workspace-list-component{padding-top:0}.issues-workspace-list-component+.issues-workspace-list-item{margin-top:0}.issues-predefined-periods{display:flex}.issues-predefined-periods .search-navigator-facet{width:auto;margin-right:4px}.bulk-change-radio-button{margin:0 -4px;padding:0 4px}.bulk-change-radio-button:hover{background-color:#f3f3f3}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { State } from './components/App';\n\nexport function enableLocationsNavigator(state: State) {\n  const { openIssue, selectedLocationIndex } = state;\n  if (openIssue && (openIssue.secondaryLocations.length > 0 || openIssue.flows.length > 0)) {\n    const selectedFlowIndex =\n      state.selectedFlowIndex || (openIssue.flows.length > 0 ? 0 : undefined);\n\n    return {\n      locationsNavigator: true,\n      selectedFlowIndex,\n      // Also reset index = -1 to 0, we don't want to start on the issue when enabling the location navigator\n      selectedLocationIndex:\n        selectedLocationIndex && selectedLocationIndex < 0 ? 0 : selectedLocationIndex\n    };\n  }\n  return null;\n}\n\nexport function disableLocationsNavigator() {\n  return { locationsNavigator: false };\n}\n\nexport function selectLocation(nextIndex: number) {\n  return (state: Pick<State, 'selectedLocationIndex' | 'openIssue'>) => {\n    const { selectedLocationIndex: index, openIssue } = state;\n    if (openIssue) {\n      if (index === nextIndex) {\n        // disable locations when selecting (clicking) the same location\n        return {\n          locationsNavigator: false,\n          selectedLocationIndex: undefined\n        };\n      } else {\n        return { locationsNavigator: true, selectedLocationIndex: nextIndex };\n      }\n    }\n    return null;\n  };\n}\n\nexport function selectNextLocation(\n  state: Pick<State, 'selectedFlowIndex' | 'selectedLocationIndex' | 'openIssue'>\n) {\n  const { selectedFlowIndex, selectedLocationIndex: index = -1, openIssue } = state;\n  if (openIssue) {\n    const locations =\n      selectedFlowIndex !== undefined\n        ? openIssue.flows[selectedFlowIndex]\n        : openIssue.secondaryLocations;\n    const lastLocationIdx = locations.length - 1;\n    if (index === lastLocationIdx) {\n      // -1 to jump back to the issue itself\n      return { selectedLocationIndex: -1 };\n    }\n    return {\n      selectedLocationIndex: index !== undefined && index < lastLocationIdx ? index + 1 : index\n    };\n  }\n  return null;\n}\n\nexport function selectPreviousLocation(state: State) {\n  const { selectedFlowIndex, selectedLocationIndex: index, openIssue } = state;\n  if (openIssue) {\n    if (index === -1) {\n      const locations =\n        selectedFlowIndex !== undefined\n          ? openIssue.flows[selectedFlowIndex]\n          : openIssue.secondaryLocations;\n      const lastLocationIdx = locations.length - 1;\n      return { selectedLocationIndex: lastLocationIdx };\n    }\n    return { selectedLocationIndex: index !== undefined && index > 0 ? index - 1 : index };\n  }\n  return null;\n}\n\nexport function selectFlow(nextIndex?: number) {\n  return () => {\n    return { locationsNavigator: true, selectedFlowIndex: nextIndex, selectedLocationIndex: 0 };\n  };\n}\n\nexport function selectNextFlow(state: State) {\n  const { openIssue, selectedFlowIndex } = state;\n  if (\n    openIssue &&\n    selectedFlowIndex !== undefined &&\n    openIssue.flows.length > selectedFlowIndex + 1\n  ) {\n    return { selectedFlowIndex: selectedFlowIndex + 1, selectedLocationIndex: 0 };\n  }\n  return null;\n}\n\nexport function selectPreviousFlow(state: State) {\n  const { openIssue, selectedFlowIndex } = state;\n  if (openIssue && selectedFlowIndex !== undefined && selectedFlowIndex > 0) {\n    return { selectedFlowIndex: selectedFlowIndex - 1, selectedLocationIndex: 0 };\n  }\n  return null;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport LocationIndex from '../../../components/common/LocationIndex';\n\ninterface Props {\n  count: number;\n  onClick?: () => void;\n  selected: boolean;\n}\n\nexport default function ConciseIssueLocationBadge(props: Props) {\n  return (\n    <Tooltip\n      mouseEnterDelay={0.5}\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(props.count, 'INT')\n      )}>\n      <LocationIndex onClick={props.onClick} selected={props.selected}>\n        {'+'}\n        {props.count}\n      </LocationIndex>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ConciseIssueLocationBadge from './ConciseIssueLocationBadge';\n\ninterface Props {\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'>;\n  onFlowSelect: (index: number) => void;\n  selectedFlowIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\nconst LIMIT = 8;\n\nexport default class ConciseIssueLocations extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  handleExpandClick = () => {\n    this.setState({ collapsed: false });\n  };\n\n  renderExpandButton() {\n    return (\n      <Button\n        className=\"concise-issue-expand location-index link-no-underline\"\n        onClick={this.handleExpandClick}>\n        ...\n      </Button>\n    );\n  }\n\n  render() {\n    const { secondaryLocations, flows } = this.props.issue;\n\n    const badges: JSX.Element[] = [];\n\n    if (secondaryLocations.length > 0) {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={secondaryLocations.length}\n          key=\"-1\"\n          selected={!this.props.selectedFlowIndex}\n        />\n      );\n    }\n\n    flows.forEach((flow, index) => {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={flow.length}\n          key={index}\n          onClick={() => this.props.onFlowSelect(index)}\n          selected={index === this.props.selectedFlowIndex}\n        />\n      );\n    });\n\n    if (!this.state.collapsed || badges.length <= LIMIT) {\n      return badges;\n    }\n\n    return (\n      <>\n        {badges.slice(0, LIMIT - 1)}\n        {this.renderExpandButton()}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LocationIndex from '../../../components/common/LocationIndex';\nimport LocationMessage from '../../../components/common/LocationMessage';\n\ninterface Props {\n  index: number;\n  message: string | undefined;\n  onClick: (index: number) => void;\n  scroll: (element: Element) => void;\n  selected: boolean;\n}\n\nexport default class ConciseIssueLocationsNavigatorLocation extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.index);\n  };\n\n  render() {\n    const { index, message, selected } = this.props;\n\n    return (\n      <div className=\"little-spacer-top\" ref={node => (this.node = node)}>\n        <a\n          className=\"concise-issue-locations-navigator-location\"\n          href=\"#\"\n          onClick={this.handleClick}>\n          <LocationIndex selected={selected}>{index + 1}</LocationIndex>\n          <LocationMessage selected={selected}>{message}</LocationMessage>\n        </a>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { collapsePath } from 'sonar-ui-common/helpers/path';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\n\ninterface Props {\n  issue: Pick<T.Issue, 'key' | 'type'>;\n  locations: T.FlowLocation[];\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedLocationIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\ninterface LocationGroup {\n  component: string | undefined;\n  componentName: string | undefined;\n  firstLocationIndex: number;\n  locations: T.FlowLocation[];\n}\n\nconst MAX_PATH_LENGTH = 15;\n\nexport default class CrossFileLocationsNavigator extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.issue.key !== this.props.issue.key) {\n      this.setState({ collapsed: true });\n    }\n\n    // expand locations list as soon as a location in the middle of the list is selected\n    const { locations: nextLocations } = nextProps;\n    if (\n      nextProps.selectedLocationIndex &&\n      nextProps.selectedLocationIndex > 0 &&\n      nextLocations !== undefined &&\n      nextProps.selectedLocationIndex < nextLocations.length - 1\n    ) {\n      this.setState({ collapsed: false });\n    }\n  }\n\n  handleMoreLocationsClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ collapsed: false });\n  };\n\n  groupByFile = (locations: T.FlowLocation[]) => {\n    const groups: LocationGroup[] = [];\n\n    let currentLocations: T.FlowLocation[] = [];\n    let currentComponent: string | undefined;\n    let currentComponentName: string | undefined;\n    let currentFirstLocationIndex = 0;\n\n    for (let index = 0; index < locations.length; index++) {\n      const location = locations[index];\n      if (location.component === currentComponent) {\n        currentLocations.push(location);\n      } else {\n        if (currentLocations.length > 0) {\n          groups.push({\n            component: currentComponent,\n            componentName: currentComponentName,\n            firstLocationIndex: currentFirstLocationIndex,\n            locations: currentLocations\n          });\n        }\n        currentLocations = [location];\n        currentComponent = location.component;\n        currentComponentName = location.componentName;\n        currentFirstLocationIndex = index;\n      }\n    }\n\n    if (currentLocations.length > 0) {\n      groups.push({\n        component: currentComponent,\n        componentName: currentComponentName,\n        firstLocationIndex: currentFirstLocationIndex,\n        locations: currentLocations\n      });\n    }\n\n    return groups;\n  };\n\n  renderLocation = (index: number, message: string | undefined) => {\n    return (\n      <ConciseIssueLocationsNavigatorLocation\n        index={index}\n        key={index}\n        message={message}\n        onClick={this.props.onLocationSelect}\n        scroll={this.props.scroll}\n        selected={index === this.props.selectedLocationIndex}\n      />\n    );\n  };\n\n  renderGroup = (\n    group: LocationGroup,\n    groupIndex: number,\n    { onlyFirst = false, onlyLast = false } = {}\n  ) => {\n    const { firstLocationIndex } = group;\n    const lastLocationIndex = group.locations.length - 1;\n    return (\n      <div className=\"concise-issue-locations-navigator-file\" key={groupIndex}>\n        <div className=\"concise-issue-location-file\">\n          <i className=\"concise-issue-location-file-circle little-spacer-right\" />\n          {collapsePath(group.componentName || '', MAX_PATH_LENGTH)}\n        </div>\n        {group.locations.length > 0 && (\n          <div className=\"concise-issue-location-file-locations\">\n            {onlyFirst && this.renderLocation(firstLocationIndex, group.locations[0].msg)}\n\n            {onlyLast &&\n              this.renderLocation(\n                firstLocationIndex + lastLocationIndex,\n                group.locations[lastLocationIndex].msg\n              )}\n\n            {!onlyFirst &&\n              !onlyLast &&\n              group.locations.map((location, index) =>\n                this.renderLocation(firstLocationIndex + index, location.msg)\n              )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  render() {\n    const { locations } = this.props;\n    const groups = this.groupByFile(locations);\n\n    if (locations.length > 2 && groups.length > 1 && this.state.collapsed) {\n      const firstGroup = groups[0];\n      const lastGroup = groups[groups.length - 1];\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {this.renderGroup(firstGroup, 0, { onlyFirst: true })}\n          <div className=\"concise-issue-locations-navigator-file\">\n            <div className=\"concise-issue-location-file\">\n              <i className=\"concise-issue-location-file-circle-multiple little-spacer-right\" />\n              <a\n                className=\"concise-issue-location-file-more\"\n                href=\"#\"\n                onClick={this.handleMoreLocationsClick}>\n                {translateWithParameters('issues.x_more_locations', locations.length - 2)}\n              </a>\n            </div>\n          </div>\n          {this.renderGroup(lastGroup, groups.length - 1, { onlyLast: true })}\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {groups.map((group, groupIndex) => this.renderGroup(group, groupIndex))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport * as React from 'react';\nimport { getLocations } from '../utils';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\nimport CrossFileLocationsNavigator from './CrossFileLocationsNavigator';\n\ninterface Props {\n  issue: Pick<T.Issue, 'component' | 'key' | 'flows' | 'secondaryLocations' | 'type'>;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueLocationsNavigator extends React.PureComponent<Props> {\n  render() {\n    const locations = getLocations(this.props.issue, this.props.selectedFlowIndex);\n\n    if (!locations || locations.length === 0 || locations.every(location => !location.msg)) {\n      return null;\n    }\n\n    const locationComponents = [\n      this.props.issue.component,\n      ...locations.map(location => location.component)\n    ];\n    const isCrossFile = uniq(locationComponents).length > 1;\n\n    if (isCrossFile) {\n      return (\n        <CrossFileLocationsNavigator\n          issue={this.props.issue}\n          locations={locations}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selectedLocationIndex={this.props.selectedLocationIndex}\n        />\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {locations.map((location, index) => (\n            <ConciseIssueLocationsNavigatorLocation\n              index={index}\n              key={index}\n              message={location.msg}\n              onClick={this.props.onLocationSelect}\n              scroll={this.props.scroll}\n              selected={index === this.props.selectedLocationIndex}\n            />\n          ))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport TypeHelper from '../../../components/shared/TypeHelper';\nimport ConciseIssueLocations from './ConciseIssueLocations';\nimport ConciseIssueLocationsNavigator from './ConciseIssueLocationsNavigator';\n\ninterface Props {\n  issue: T.Issue;\n  onClick: (issueKey: string) => void;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element, bottomOffset?: number) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueBox extends React.PureComponent<Props> {\n  messageElement?: HTMLElement | null;\n  rootElement?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.issue.key);\n  };\n\n  handleScroll = () => {\n    const { selectedFlowIndex } = this.props;\n    const { flows, secondaryLocations } = this.props.issue;\n\n    const locations = flows.length > 0 ? flows[selectedFlowIndex || 0] : secondaryLocations;\n\n    if (!locations || locations.length < 15) {\n      // if there are no locations, or there are just few\n      // then ensuse that the whole box is visible\n      if (this.rootElement) {\n        this.props.scroll(this.rootElement);\n      }\n    } else if (this.messageElement) {\n      // otherwise scroll until the the message element is located on top\n      this.props.scroll(this.messageElement, window.innerHeight - 250);\n    }\n  };\n\n  render() {\n    const { issue, selected } = this.props;\n\n    const clickAttributesMain = selected\n      ? {}\n      : { onClick: this.handleClick, role: 'listitem', tabIndex: 0 };\n\n    const clickAttributesTitle = selected\n      ? { onClick: this.handleClick, role: 'listitem', tabIndex: 0 }\n      : {};\n\n    return (\n      <div\n        className={classNames('concise-issue-box', 'clearfix', { selected })}\n        ref={node => (this.rootElement = node)}\n        {...clickAttributesMain}>\n        <div\n          className=\"concise-issue-box-message\"\n          {...clickAttributesTitle}\n          ref={node => (this.messageElement = node)}>\n          {issue.message}\n        </div>\n        <div className=\"concise-issue-box-attributes\">\n          <TypeHelper className=\"display-block little-spacer-right\" type={issue.type} />\n          <ConciseIssueLocations\n            issue={issue}\n            onFlowSelect={this.props.onFlowSelect}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n          />\n        </div>\n        {selected && (\n          <ConciseIssueLocationsNavigator\n            issue={issue}\n            onLocationSelect={this.props.onLocationSelect}\n            scroll={this.props.scroll}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n            selectedLocationIndex={this.props.selectedLocationIndex}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  path: string;\n}\n\nexport default function ConciseIssueComponent({ path }: Props) {\n  return (\n    <div className=\"concise-issue-component text-ellipsis note\" title={path}>\n      {path}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueBox from './ConciseIssueBox';\nimport ConciseIssueComponent from './ConciseIssueComponent';\n\ninterface Props {\n  issue: T.Issue;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  onSelect: (issueKey: string) => void;\n  previousIssue: T.Issue | undefined;\n  scroll: (element: Element) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssue extends React.PureComponent<Props> {\n  render() {\n    const { issue, previousIssue, selected } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <div>\n        {displayComponent && <ConciseIssueComponent path={issue.componentLongName} />}\n        <ConciseIssueBox\n          issue={issue}\n          onClick={this.props.onSelect}\n          onFlowSelect={this.props.onFlowSelect}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selected={selected}\n          selectedFlowIndex={selected ? this.props.selectedFlowIndex : undefined}\n          selectedLocationIndex={selected ? this.props.selectedLocationIndex : undefined}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport ConciseIssue from './ConciseIssue';\n\ninterface Props {\n  issues: T.Issue[];\n  onFlowSelect: (index: number) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  selected: string | undefined;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssuesList extends React.PureComponent<Props> {\n  handleScroll = (element: Element, bottomOffset = 100) => {\n    const scrollableElement = document.querySelector('.layout-page-side');\n    if (element && scrollableElement) {\n      scrollToElement(element, { topOffset: 150, bottomOffset, parent: scrollableElement });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        {this.props.issues.map((issue, index) => (\n          <ConciseIssue\n            issue={issue}\n            key={issue.key}\n            onFlowSelect={this.props.onFlowSelect}\n            onLocationSelect={this.props.onLocationSelect}\n            onSelect={this.props.onIssueSelect}\n            previousIssue={index > 0 ? this.props.issues[index - 1] : undefined}\n            scroll={this.handleScroll}\n            selected={issue.key === this.props.selected}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n            selectedLocationIndex={this.props.selectedLocationIndex}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BackButton from 'sonar-ui-common/components/controls/BackButton';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport PageShortcutsTooltip from '../../../components/ui/PageShortcutsTooltip';\n\nexport interface ConciseIssuesListHeaderProps {\n  displayBackButton: boolean;\n  loading: boolean;\n  onBackClick: () => void;\n}\n\nexport default function ConciseIssuesListHeader(props: ConciseIssuesListHeaderProps) {\n  const { displayBackButton, loading } = props;\n\n  return (\n    <header className=\"layout-page-header-panel concise-issues-list-header\">\n      <div className=\"layout-page-header-panel-inner concise-issues-list-header-inner display-flex-center display-flex-space-between\">\n        {displayBackButton && <BackButton disabled={loading} onClick={props.onBackClick} />}\n        <PageShortcutsTooltip\n          leftLabel={translate('issues.to_navigate_back')}\n          upAndDownLabel={translate('issues.to_select_issues')}\n          metaModifierLabel={translate('issues.to_navigate_issue_locations')}\n        />\n        {loading && <i className=\"spinner\" />}\n      </div>\n    </header>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport Avatar from '../../../components/ui/Avatar';\nimport { isUserActive } from '../../../helpers/users';\nimport { Facet } from '../../../types/issues';\nimport { Query, searchAssignees } from '../utils';\n\ninterface Props {\n  assigned: boolean;\n  assignees: string[];\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: T.Dict<number> | undefined;\n  referencedUsers: T.Dict<T.UserBase>;\n}\n\nexport default class AssigneeFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string, page?: number) => {\n    return searchAssignees(query, page);\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { assignees } = this.props;\n    if (itemValue === '') {\n      // unassigned\n      this.props.onChange({ assigned: !this.props.assigned, assignees: [] });\n    } else if (multiple) {\n      const newValue = sortBy(\n        assignees.includes(itemValue) ? without(assignees, itemValue) : [...assignees, itemValue]\n      );\n      this.props.onChange({ assigned: true, assignees: newValue });\n    } else {\n      this.props.onChange({\n        assigned: true,\n        assignees: assignees.includes(itemValue) && assignees.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleClear = () => {\n    this.props.onChange({ assigned: true, assignees: [] });\n  };\n\n  getAssigneeName = (assignee: string) => {\n    if (assignee === '') {\n      return translate('unassigned');\n    } else {\n      const user = this.props.referencedUsers[assignee];\n      if (!user) {\n        return assignee;\n      }\n      return isUserActive(user) ? user.name : translateWithParameters('user.x_deleted', user.login);\n    }\n  };\n\n  loadSearchResultCount = (assignees: T.UserBase[]) => {\n    return this.props.loadSearchResultCount('assignees', {\n      assigned: undefined,\n      assignees: assignees.map(assignee => assignee.login)\n    });\n  };\n\n  getSortedItems = () => {\n    const { stats = {} } = this.props;\n    return sortBy(\n      Object.keys(stats),\n      // put \"not assigned\" first\n      key => (key === '' ? 0 : 1),\n      // the sort by number\n      key => -stats[key]\n    );\n  };\n\n  renderFacetItem = (assignee: string) => {\n    if (assignee === '') {\n      return translate('unassigned');\n    }\n\n    const user = this.props.referencedUsers[assignee];\n\n    if (!user) {\n      return assignee;\n    }\n\n    const userName = user.name || user.login;\n\n    return (\n      <>\n        <Avatar className=\"little-spacer-right\" hash={user.avatar} name={userName} size={16} />\n        {isUserActive(user) ? userName : translateWithParameters('user.x_deleted', userName)}\n      </>\n    );\n  };\n\n  renderSearchResult = (result: T.UserBase, query: string) => {\n    const displayName = isUserActive(result)\n      ? result.name\n      : translateWithParameters('user.x_deleted', result.login);\n    return (\n      <>\n        <Avatar\n          className=\"little-spacer-right\"\n          hash={result.avatar}\n          name={result.name || result.login}\n          size={16}\n        />\n        {highlightTerm(displayName, query)}\n      </>\n    );\n  };\n\n  render() {\n    const values = [...this.props.assignees];\n    if (!this.props.assigned) {\n      values.push('');\n    }\n\n    return (\n      <ListStyleFacet<T.UserBase>\n        facetHeader={translate('issues.facet.assignees')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getAssigneeName}\n        getSearchResultKey={user => user.login}\n        getSearchResultText={user => user.name || user.login}\n        // put \"not assigned\" item first\n        getSortedItems={this.getSortedItems}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onClear={this.handleClear}\n        onItemClick={this.handleItemClick}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"assignees\"\n        query={omit(this.props.query, 'assigned', 'assignees')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_users')}\n        stats={this.props.stats}\n        values={values}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { searchIssueAuthors } from '../../../api/issues';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Facet } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: T.Dict<number> | undefined;\n  authors: string[];\n}\n\nconst SEARCH_SIZE = 100;\n\nexport default class AuthorFacet extends React.PureComponent<Props> {\n  identity = (author: string) => {\n    return author;\n  };\n\n  handleSearch = (query: string, _page: number) => {\n    const { component } = this.props;\n    const project =\n      component && ['TRK', 'VW', 'APP'].includes(component.qualifier) ? component.key : undefined;\n    return searchIssueAuthors({\n      project,\n      ps: SEARCH_SIZE, // maximum\n      q: query\n    }).then(authors => ({ maxResults: authors.length === SEARCH_SIZE, results: authors }));\n  };\n\n  loadSearchResultCount = (authors: string[]) => {\n    return this.props.loadSearchResultCount('authors', { authors });\n  };\n\n  renderSearchResult = (author: string, term: string) => {\n    return highlightTerm(author, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('issues.facet.authors')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.identity}\n        getSearchResultKey={this.identity}\n        getSearchResultText={this.identity}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"authors\"\n        query={omit(this.props.query, 'authors')}\n        renderFacetItem={this.identity}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_authors')}\n        stats={this.props.stats}\n        values={this.props.authors}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as isSameDay from 'date-fns/is_same_day';\nimport { max } from 'lodash';\nimport * as React from 'react';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport BarChart from 'sonar-ui-common/components/charts/BarChart';\nimport { longFormatterOption } from 'sonar-ui-common/components/intl/DateFormatter';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport DateTimeFormatter, {\n  formatterOption as dateTimeFormatterOption\n} from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport DateRangeInput from '../../../components/controls/DateRangeInput';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport { isPortfolioLike } from '../../../types/component';\nimport { Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  createdAfter: Date | undefined;\n  createdAfterIncludesTime: boolean;\n  createdAt: string;\n  createdBefore: Date | undefined;\n  createdInLast: string;\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  sinceLeakPeriod: boolean;\n  stats: T.Dict<number> | undefined;\n}\n\nexport class CreationDateFacet extends React.PureComponent<Props & InjectedIntlProps> {\n  property = 'createdAt';\n\n  static defaultProps = {\n    open: true\n  };\n\n  hasValue = () =>\n    this.props.createdAfter !== undefined ||\n    this.props.createdAt.length > 0 ||\n    this.props.createdBefore !== undefined ||\n    this.props.createdInLast.length > 0 ||\n    this.props.sinceLeakPeriod;\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.resetTo({});\n  };\n\n  resetTo = (changes: Partial<Query>) => {\n    this.props.onChange({\n      createdAfter: undefined,\n      createdAt: undefined,\n      createdBefore: undefined,\n      createdInLast: undefined,\n      sinceLeakPeriod: undefined,\n      ...changes\n    });\n  };\n\n  handleBarClick = ({\n    createdAfter,\n    createdBefore\n  }: {\n    createdAfter: Date;\n    createdBefore?: Date;\n  }) => {\n    this.resetTo({ createdAfter, createdBefore });\n  };\n\n  handlePeriodChange = ({ from, to }: { from?: Date; to?: Date }) => {\n    this.resetTo({ createdAfter: from, createdBefore: to });\n  };\n\n  handlePeriodClick = (period: string) => this.resetTo({ createdInLast: period });\n\n  handleLeakPeriodClick = () => this.resetTo({ sinceLeakPeriod: true });\n\n  getValues() {\n    const {\n      createdAfter,\n      createdAfterIncludesTime,\n      createdAt,\n      createdBefore,\n      createdInLast,\n      sinceLeakPeriod\n    } = this.props;\n    const { formatDate } = this.props.intl;\n    const values = [];\n    if (createdAfter) {\n      values.push(\n        formatDate(\n          createdAfter,\n          createdAfterIncludesTime ? dateTimeFormatterOption : longFormatterOption\n        )\n      );\n    }\n    if (createdAt) {\n      values.push(formatDate(createdAt, longFormatterOption));\n    }\n    if (createdBefore) {\n      values.push(formatDate(createdBefore, longFormatterOption));\n    }\n    if (createdInLast === '1w') {\n      values.push(translate('issues.facet.createdAt.last_week'));\n    }\n    if (createdInLast === '1m') {\n      values.push(translate('issues.facet.createdAt.last_month'));\n    }\n    if (createdInLast === '1y') {\n      values.push(translate('issues.facet.createdAt.last_year'));\n    }\n    if (sinceLeakPeriod) {\n      values.push(translate('issues.new_code'));\n    }\n    return values;\n  }\n\n  renderBarChart() {\n    const { createdBefore, stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const periods = Object.keys(stats);\n\n    if (periods.length < 2 || periods.every(period => !stats[period])) {\n      return null;\n    }\n\n    const { formatDate } = this.props.intl;\n    const data = periods.map((start, index) => {\n      const startDate = parseDate(start);\n      let endDate;\n      if (index < periods.length - 1) {\n        endDate = parseDate(periods[index + 1]);\n        endDate.setDate(endDate.getDate() - 1);\n      } else {\n        endDate = createdBefore ? parseDate(createdBefore) : undefined;\n      }\n\n      const tooltipEndDate = endDate || new Date();\n      const tooltip = (\n        // eslint-disable-next-line react/jsx-fragments\n        <React.Fragment>\n          {formatMeasure(stats[start], 'SHORT_INT')}\n          <br />\n          {formatDate(startDate, longFormatterOption)}\n          {!isSameDay(tooltipEndDate, startDate) &&\n            ` - ${formatDate(tooltipEndDate, longFormatterOption)}`}\n        </React.Fragment>\n      );\n\n      return {\n        createdAfter: startDate,\n        createdBefore: endDate,\n        tooltip,\n        x: index,\n        y: stats[start]\n      };\n    });\n\n    const barsWidth = Math.floor(250 / data.length);\n    const width = barsWidth * data.length - 1 + 10;\n\n    const maxValue = max(data.map(d => d.y));\n    const xValues = data.map(d => (d.y === maxValue ? formatMeasure(maxValue, 'SHORT_INT') : ''));\n\n    return (\n      <BarChart\n        barsWidth={barsWidth - 1}\n        data={data}\n        height={75}\n        onBarClick={this.handleBarClick}\n        padding={[25, 0, 5, 10]}\n        width={width}\n        xValues={xValues}\n      />\n    );\n  }\n\n  renderPeriodSelectors() {\n    const { createdAfter, createdBefore } = this.props;\n    return (\n      <div className=\"search-navigator-date-facet-selection\">\n        <DateRangeInput\n          onChange={this.handlePeriodChange}\n          value={{ from: createdAfter, to: createdBefore }}\n        />\n      </div>\n    );\n  }\n\n  renderPredefinedPeriods() {\n    const { component, createdInLast, sinceLeakPeriod } = this.props;\n    return (\n      <div className=\"spacer-top issues-predefined-periods\">\n        <FacetItem\n          active={!this.hasValue()}\n          name={translate('issues.facet.createdAt.all')}\n          onClick={this.handlePeriodClick}\n          tooltip={translate('issues.facet.createdAt.all')}\n          value=\"\"\n        />\n        {component && !isPortfolioLike(component.qualifier) ? (\n          <FacetItem\n            active={sinceLeakPeriod}\n            name={translate('issues.new_code')}\n            onClick={this.handleLeakPeriodClick}\n            tooltip={translate('issues.new_code_period')}\n            value=\"\"\n          />\n        ) : (\n          <>\n            <FacetItem\n              active={createdInLast === '1w'}\n              name={translate('issues.facet.createdAt.last_week')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_week')}\n              value=\"1w\"\n            />\n            <FacetItem\n              active={createdInLast === '1m'}\n              name={translate('issues.facet.createdAt.last_month')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_month')}\n              value=\"1m\"\n            />\n            <FacetItem\n              active={createdInLast === '1y'}\n              name={translate('issues.facet.createdAt.last_year')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_year')}\n              value=\"1y\"\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n\n  renderInner() {\n    const { createdAfter, createdAfterIncludesTime, createdAt } = this.props;\n\n    if (createdAt) {\n      return (\n        <div className=\"search-navigator-facet-container\">\n          <DateTimeFormatter date={this.props.createdAt} />\n          <br />\n          <span className=\"note\">\n            <DateFromNow date={this.props.createdAt} />\n          </span>\n        </div>\n      );\n    }\n\n    if (createdAfter && createdAfterIncludesTime) {\n      return (\n        <div className=\"search-navigator-facet-container\">\n          <strong>{translate('after')} </strong>\n          <DateTimeFormatter date={createdAfter} />\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        {this.renderBarChart()}\n        {this.renderPeriodSelectors()}\n        {this.renderPredefinedPeriods()}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderInner()}\n      </FacetBox>\n    );\n  }\n}\n\nexport default injectIntl(CreationDateFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { collapsePath } from 'sonar-ui-common/helpers/path';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { getDirectories } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { BranchLike } from '../../../types/branch-like';\nimport { TreeComponentWithPath } from '../../../types/component';\nimport { Facet } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  branchLike?: BranchLike;\n  componentKey: string;\n  directories: string[];\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: Facet | undefined;\n}\n\nexport default class DirectoryFacet extends React.PureComponent<Props> {\n  getFacetItemText = (path: string) => {\n    return path;\n  };\n\n  getSearchResultKey = (directory: TreeComponentWithPath) => {\n    return directory.path;\n  };\n\n  getSearchResultText = (directory: TreeComponentWithPath) => {\n    return directory.path;\n  };\n\n  handleSearch = (query: string, page: number) => {\n    const { branchLike } = this.props;\n\n    return getDirectories({\n      component: this.props.componentKey,\n      ...getBranchLikeQuery(branchLike),\n      q: query,\n      p: page,\n      ps: 30\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.filter(dir => dir.path !== undefined)\n    }));\n  };\n\n  loadSearchResultCount = (directories: TreeComponentWithPath[]) => {\n    return this.props.loadSearchResultCount('directories', {\n      directories: directories.map(directory => directory.path)\n    });\n  };\n\n  renderDirectory = (directory: React.ReactNode) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"DIR\" />\n      {directory}\n    </>\n  );\n\n  renderFacetItem = (path: string) => {\n    return this.renderDirectory(collapsePath(path, 15));\n  };\n\n  renderSearchResult = (directory: TreeComponentWithPath, term: string) => {\n    return this.renderDirectory(highlightTerm(collapsePath(directory.path, 15), term));\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<TreeComponentWithPath>\n        facetHeader={translate('issues.facet.directories')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getFacetItemText}\n        getSearchResultKey={this.getSearchResultKey}\n        getSearchResultText={this.getSearchResultText}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={3}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"directories\"\n        query={omit(this.props.query, 'directories')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_directories')}\n        stats={this.props.stats}\n        values={this.props.directories}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { collapsePath, splitPath } from 'sonar-ui-common/helpers/path';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport { getFiles } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { BranchLike } from '../../../types/branch-like';\nimport { TreeComponentWithPath } from '../../../types/component';\nimport { Facet } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  branchLike?: BranchLike;\n  componentKey: string;\n  fetching: boolean;\n  files: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: Facet | undefined;\n}\n\nconst MAX_PATH_LENGTH = 15;\nexport default class FileFacet extends React.PureComponent<Props> {\n  getFacetItemText = (path: string) => {\n    return path;\n  };\n\n  getSearchResultKey = (file: TreeComponentWithPath) => {\n    return file.path;\n  };\n\n  getSearchResultText = (file: TreeComponentWithPath) => {\n    return file.path;\n  };\n\n  handleSearch = (query: string, page: number) => {\n    const { branchLike } = this.props;\n\n    return getFiles({\n      component: this.props.componentKey,\n      ...getBranchLikeQuery(branchLike),\n      q: query,\n      p: page,\n      ps: 30\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.filter(file => file.path !== undefined)\n    }));\n  };\n\n  loadSearchResultCount = (files: TreeComponentWithPath[]) => {\n    return this.props.loadSearchResultCount('files', {\n      files: files\n        .map(file => {\n          return file.path;\n        })\n        .filter(isDefined)\n    });\n  };\n\n  renderFile = (file: React.ReactNode) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"FIL\" />\n      {file}\n    </>\n  );\n\n  renderFacetItem = (path: string) => {\n    return this.renderFile(path);\n  };\n\n  renderSearchResult = (file: TreeComponentWithPath, term: string) => {\n    const { head, tail } = splitPath(collapsePath(file.path, MAX_PATH_LENGTH));\n\n    return this.renderFile(\n      <>\n        {head}/{highlightTerm(tail, term)}\n      </>\n    );\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<TreeComponentWithPath>\n        facetHeader={translate('issues.facet.files')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getFacetItemText}\n        getSearchResultKey={this.getSearchResultKey}\n        getSearchResultText={this.getSearchResultText}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={3}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"files\"\n        query={omit(this.props.query, 'files')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_files')}\n        stats={this.props.stats}\n        values={this.props.files}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, uniqBy } from 'lodash';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { getLanguages, Store } from '../../../store/rootReducer';\nimport { Facet, ReferencedLanguage } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface InstalledLanguage {\n  key: string;\n  name: string;\n}\n\ninterface Props {\n  fetching: boolean;\n  installedLanguages: InstalledLanguage[];\n  languages: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  referencedLanguages: T.Dict<ReferencedLanguage>;\n  stats: T.Dict<number> | undefined;\n}\n\nclass LanguageFacet extends React.PureComponent<Props> {\n  getLanguageName = (language: string) => {\n    const { referencedLanguages } = this.props;\n    return referencedLanguages[language] ? referencedLanguages[language].name : language;\n  };\n\n  handleSearch = (query: string) => {\n    const options = this.getAllPossibleOptions();\n    const results = options.filter(language =>\n      language.name.toLowerCase().includes(query.toLowerCase())\n    );\n    const paging = { pageIndex: 1, pageSize: results.length, total: results.length };\n    return Promise.resolve({ paging, results });\n  };\n\n  getAllPossibleOptions = () => {\n    const { installedLanguages, stats = {} } = this.props;\n\n    // add any language that presents in the facet, but might not be installed\n    // for such language we don't know their display name, so let's just use their key\n    // and make sure we reference each language only once\n    return uniqBy(\n      [...installedLanguages, ...Object.keys(stats).map(key => ({ key, name: key }))],\n      language => language.key\n    );\n  };\n\n  loadSearchResultCount = (languages: InstalledLanguage[]) => {\n    return this.props.loadSearchResultCount('languages', {\n      languages: languages.map(language => language.key)\n    });\n  };\n\n  renderSearchResult = ({ name }: InstalledLanguage, term: string) => {\n    return highlightTerm(name, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<InstalledLanguage>\n        facetHeader={translate('issues.facet.languages')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getLanguageName}\n        getSearchResultKey={language => language.key}\n        getSearchResultText={language => language.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={1}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"languages\"\n        query={omit(this.props.query, 'languages')}\n        renderFacetItem={this.getLanguageName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_languages')}\n        stats={this.props.stats}\n        values={this.props.languages}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  installedLanguages: Object.values(getLanguages(state))\n});\n\nexport default connect(mapStateToProps)(LanguageFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { getTree, searchProjects } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { ComponentQualifier } from '../../../types/component';\nimport { Facet, ReferencedComponent } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  projects: string[];\n  query: Query;\n  referencedComponents: T.Dict<ReferencedComponent>;\n  stats: T.Dict<number> | undefined;\n}\n\ninterface SearchedProject {\n  key: string;\n  name: string;\n}\n\nexport default class ProjectFacet extends React.PureComponent<Props> {\n  handleSearch = (\n    query: string,\n    page = 1\n  ): Promise<{ results: SearchedProject[]; paging: T.Paging }> => {\n    const { component } = this.props;\n    if (\n      component &&\n      [\n        ComponentQualifier.Portfolio,\n        ComponentQualifier.SubPortfolio,\n        ComponentQualifier.Application\n      ].includes(component.qualifier as ComponentQualifier)\n    ) {\n      return getTree({\n        component: component.key,\n        p: page,\n        ps: 30,\n        q: query,\n        qualifiers: ComponentQualifier.Project\n      }).then(({ components, paging }) => ({\n        paging,\n        results: components.map(component => ({\n          key: component.refKey || component.key,\n          name: component.name\n        }))\n      }));\n    }\n\n    return searchProjects({\n      p: page,\n      ps: 30,\n      filter: query ? `query = \"${query}\"` : ''\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.map(component => ({\n        key: component.key,\n        name: component.name\n      }))\n    }));\n  };\n\n  getProjectName = (project: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[project] ? referencedComponents[project].name : project;\n  };\n\n  loadSearchResultCount = (projects: SearchedProject[]) => {\n    return this.props.loadSearchResultCount('projects', {\n      projects: projects.map(project => project.key)\n    });\n  };\n\n  renderFacetItem = (projectKey: string) => {\n    return (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier={ComponentQualifier.Project} />\n        {this.getProjectName(projectKey)}\n      </span>\n    );\n  };\n\n  renderSearchResult = (project: Pick<SearchedProject, 'name'>, term: string) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier={ComponentQualifier.Project} />\n      {highlightTerm(project.name, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<SearchedProject>\n        facetHeader={translate('issues.facet.projects')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getProjectName}\n        getSearchResultKey={project => project.key}\n        getSearchResultText={project => project.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"projects\"\n        query={omit(this.props.query, 'projects')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_projects')}\n        stats={this.props.stats}\n        values={this.props.projects}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  resolved: boolean;\n  resolutions: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nconst RESOLUTIONS = ['', 'FALSE-POSITIVE', 'FIXED', 'REMOVED', 'WONTFIX'];\n\nexport default class ResolutionFacet extends React.PureComponent<Props> {\n  property = 'resolutions';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { resolutions } = this.props;\n    if (itemValue === '') {\n      // unresolved\n      this.props.onChange({ resolved: !this.props.resolved, resolutions: [] });\n    } else if (multiple) {\n      const newValue = orderBy(\n        resolutions.includes(itemValue)\n          ? without(resolutions, itemValue)\n          : [...resolutions, itemValue]\n      );\n      this.props.onChange({ resolved: true, [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        resolved: true,\n        [this.property]:\n          resolutions.includes(itemValue) && resolutions.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ resolved: false, resolutions: [] });\n  };\n\n  isFacetItemActive(resolution: string) {\n    return resolution === '' ? !this.props.resolved : this.props.resolutions.includes(resolution);\n  }\n\n  getFacetItemName(resolution: string) {\n    return resolution === '' ? translate('unresolved') : translate('issue.resolution', resolution);\n  }\n\n  getStat(resolution: string) {\n    const { stats } = this.props;\n    return stats ? stats[resolution] : undefined;\n  }\n\n  renderItem = (resolution: string) => {\n    const active = this.isFacetItemActive(resolution);\n    const stat = this.getStat(resolution);\n\n    return (\n      <FacetItem\n        active={active}\n        halfWidth={true}\n        key={resolution}\n        name={this.getFacetItemName(resolution)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.getFacetItemName(resolution)}\n        value={resolution}\n      />\n    );\n  };\n\n  render() {\n    const { resolutions, stats = {} } = this.props;\n    const values = resolutions.map(resolution => this.getFacetItemName(resolution));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>{RESOLUTIONS.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint\n              options={Object.keys(stats).length}\n              values={resolutions.length}\n            />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { searchRules } from '../../../api/rules';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Facet, ReferencedRule } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  languages: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  referencedRules: T.Dict<ReferencedRule>;\n  rules: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nexport default class RuleFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string, page = 1) => {\n    const { languages } = this.props;\n    return searchRules({\n      f: 'name,langName',\n      languages: languages.length ? languages.join() : undefined,\n      q: query,\n      p: page,\n      ps: 30,\n      s: 'name',\n      include_external: true\n    }).then(response => ({\n      paging: { pageIndex: response.p, pageSize: response.ps, total: response.total },\n      results: response.rules\n    }));\n  };\n\n  loadSearchResultCount = (rules: T.Rule[]) => {\n    return this.props.loadSearchResultCount('rules', { rules: rules.map(rule => rule.key) });\n  };\n\n  getRuleName = (ruleKey: string) => {\n    const rule = this.props.referencedRules[ruleKey];\n    return rule ? this.formatRuleName(rule.name, rule.langName) : ruleKey;\n  };\n\n  formatRuleName = (name: string, langName: string | undefined) => {\n    // external rules don't have a language associated\n    // see https://jira.sonarsource.com/browse/MMF-1407\n    return langName ? `(${langName}) ${name}` : name;\n  };\n\n  renderSearchResult = (rule: T.Rule) => {\n    return this.formatRuleName(rule.name, rule.langName);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<T.Rule>\n        facetHeader={translate('issues.facet.rules')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getRuleName}\n        getSearchResultKey={rule => rule.key}\n        getSearchResultText={rule => rule.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"rules\"\n        query={omit(this.props.query, 'rules')}\n        renderFacetItem={this.getRuleName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_rules')}\n        stats={this.props.stats}\n        values={this.props.rules}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { without } from 'lodash';\nimport * as React from 'react';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { SOURCE_SCOPES } from '../../../helpers/constants';\nimport { formatFacetStat, Query } from '../utils';\n\nexport interface ScopeFacetProps {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  scopes: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nexport default function ScopeFacet(props: ScopeFacetProps) {\n  const { fetching, open, scopes = [], stats = {} } = props;\n  const values = scopes.map(scope => translate('issue.scope', scope));\n\n  return (\n    <FacetBox property=\"scopes\">\n      <FacetHeader\n        fetching={fetching}\n        name={translate('issues.facet.scopes')}\n        onClear={() => props.onChange({ scopes: [] })}\n        onClick={() => props.onToggle('scopes')}\n        open={open}\n        values={values}\n      />\n\n      {open && (\n        <>\n          <FacetItemsList>\n            {SOURCE_SCOPES.map(({ scope, qualifier }) => {\n              const active = scopes.includes(scope);\n              const stat = stats[scope];\n\n              return (\n                <FacetItem\n                  active={active}\n                  key={scope}\n                  name={\n                    <span className=\"display-flex-center\">\n                      <QualifierIcon className=\"little-spacer-right\" qualifier={qualifier} />{' '}\n                      {translate('issue.scope', scope)}\n                    </span>\n                  }\n                  onClick={(itemValue: string, multiple: boolean) => {\n                    if (multiple) {\n                      props.onChange({\n                        scopes: active ? without(scopes, itemValue) : [...scopes, itemValue]\n                      });\n                    } else {\n                      props.onChange({\n                        scopes: active && scopes.length === 1 ? [] : [itemValue]\n                      });\n                    }\n                  }}\n                  stat={formatFacetStat(stat)}\n                  value={scope}\n                />\n              );\n            })}\n          </FacetItemsList>\n          <MultipleSelectionHint options={Object.keys(stats).length} values={scopes.length} />\n        </>\n      )}\n    </FacetBox>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  severities: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nconst SEVERITIES = ['BLOCKER', 'MINOR', 'CRITICAL', 'INFO', 'MAJOR'];\n\nexport default class SeverityFacet extends React.PureComponent<Props> {\n  property = 'severities';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { severities } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        severities.includes(itemValue) ? without(severities, itemValue) : [...severities, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: severities.includes(itemValue) && severities.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(severity: string) {\n    const { stats } = this.props;\n    return stats ? stats[severity] : undefined;\n  }\n\n  renderItem = (severity: string) => {\n    const active = this.props.severities.includes(severity);\n    const stat = this.getStat(severity);\n\n    return (\n      <FacetItem\n        active={active}\n        halfWidth={true}\n        key={severity}\n        name={<SeverityHelper severity={severity} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={translate('severity', severity)}\n        value={severity}\n      />\n    );\n  };\n\n  render() {\n    const { severities, stats = {} } = this.props;\n    const values = severities.map(severity => translate('severity', severity));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>{SEVERITIES.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={severities.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport StatusHelper from '../../../components/shared/StatusHelper';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: T.Dict<number> | undefined;\n  statuses: string[];\n}\n\nconst STATUSES = ['OPEN', 'CONFIRMED', 'REOPENED', 'RESOLVED', 'CLOSED'];\n\nexport default class StatusFacet extends React.PureComponent<Props> {\n  property = 'statuses';\n\n  static defaultProps = { open: true };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { statuses } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        statuses.includes(itemValue) ? without(statuses, itemValue) : [...statuses, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: statuses.includes(itemValue) && statuses.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(status: string) {\n    const { stats } = this.props;\n    return stats ? stats[status] : undefined;\n  }\n\n  renderItem = (status: string) => {\n    const active = this.props.statuses.includes(status);\n    const stat = this.getStat(status);\n\n    return (\n      <FacetItem\n        active={active}\n        halfWidth={true}\n        key={status}\n        name={<StatusHelper resolution={undefined} status={status} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={translate('issue.status', status)}\n        value={status}\n      />\n    );\n  };\n\n  render() {\n    const { statuses, stats = {} } = this.props;\n    const values = statuses.map(status => translate('issue.status', status));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>{STATUSES.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={statuses.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { searchIssueTags } from '../../../api/issues';\nimport { colors } from '../../../app/theme';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Facet } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: T.Dict<number> | undefined;\n  tags: string[];\n}\n\nconst SEARCH_SIZE = 100;\n\nexport default class TagFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string) => {\n    const { component } = this.props;\n    const project =\n      component && ['TRK', 'VW', 'APP'].includes(component.qualifier) ? component.key : undefined;\n    return searchIssueTags({\n      project,\n      ps: SEARCH_SIZE,\n      q: query\n    }).then(tags => ({ maxResults: tags.length === SEARCH_SIZE, results: tags }));\n  };\n\n  getTagName = (tag: string) => {\n    return tag;\n  };\n\n  loadSearchResultCount = (tags: string[]) => {\n    return this.props.loadSearchResultCount('tags', { tags });\n  };\n\n  renderTag = (tag: string) => {\n    return (\n      <>\n        <TagsIcon className=\"little-spacer-right\" fill={colors.gray60} />\n        {tag}\n      </>\n    );\n  };\n\n  renderSearchResult = (tag: string, term: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={colors.gray60} />\n      {highlightTerm(tag, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('issues.facet.tags')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getTagName}\n        getSearchResultKey={tag => tag}\n        getSearchResultText={tag => tag}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"tags\"\n        query={omit(this.props.query, 'tags')}\n        renderFacetItem={this.renderTag}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_tags')}\n        stats={this.props.stats}\n        values={this.props.tags}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { ISSUE_TYPES } from '../../../helpers/constants';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: T.Dict<number> | undefined;\n  types: string[];\n}\n\nexport default class TypeFacet extends React.PureComponent<Props> {\n  property = 'types';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { types } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        types.includes(itemValue) ? without(types, itemValue) : [...types, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: types.includes(itemValue) && types.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(type: string) {\n    const { stats } = this.props;\n    return stats ? stats[type] : undefined;\n  }\n\n  isFacetItemActive(type: string) {\n    return this.props.types.includes(type);\n  }\n\n  renderItem = (type: string) => {\n    const active = this.isFacetItemActive(type);\n    const stat = this.getStat(type);\n\n    return (\n      <FacetItem\n        active={active}\n        key={type}\n        name={\n          <span className=\"display-flex-center\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={type} />{' '}\n            {translate('issue.type', type)}\n          </span>\n        }\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        value={type}\n      />\n    );\n  };\n\n  render() {\n    const { types, stats = {} } = this.props;\n    const values = types.map(type => translate('issue.type', type));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>\n              {ISSUE_TYPES.filter(t => t !== 'SECURITY_HOTSPOT').map(this.renderItem)}\n            </FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={types.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getGlobalSettingValue, Store } from '../../../store/rootReducer';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier, isApplication, isPortfolioLike } from '../../../types/component';\nimport {\n  Facet,\n  ReferencedComponent,\n  ReferencedLanguage,\n  ReferencedRule\n} from '../../../types/issues';\nimport { Query } from '../utils';\nimport AssigneeFacet from './AssigneeFacet';\nimport AuthorFacet from './AuthorFacet';\nimport CreationDateFacet from './CreationDateFacet';\nimport DirectoryFacet from './DirectoryFacet';\nimport FileFacet from './FileFacet';\nimport LanguageFacet from './LanguageFacet';\nimport ProjectFacet from './ProjectFacet';\nimport ResolutionFacet from './ResolutionFacet';\nimport RuleFacet from './RuleFacet';\nimport ScopeFacet from './ScopeFacet';\nimport SeverityFacet from './SeverityFacet';\nimport StandardFacet from './StandardFacet';\nimport StatusFacet from './StatusFacet';\nimport TagFacet from './TagFacet';\nimport TypeFacet from './TypeFacet';\n\nexport interface Props {\n  branchLike?: BranchLike;\n  component: T.Component | undefined;\n  createdAfterIncludesTime: boolean;\n  facets: T.Dict<Facet | undefined>;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  loadingFacets: T.Dict<boolean>;\n  myIssues: boolean;\n  onFacetToggle: (property: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  openFacets: T.Dict<boolean>;\n  query: Query;\n  referencedComponentsById: T.Dict<ReferencedComponent>;\n  referencedComponentsByKey: T.Dict<ReferencedComponent>;\n  referencedLanguages: T.Dict<ReferencedLanguage>;\n  referencedRules: T.Dict<ReferencedRule>;\n  referencedUsers: T.Dict<T.UserBase>;\n  disableDeveloperAggregatedInfo: boolean;\n}\n\nexport class Sidebar extends React.PureComponent<Props> {\n  renderComponentFacets() {\n    const { component, facets, loadingFacets, openFacets, query, branchLike } = this.props;\n    const hasFileOrDirectory =\n      !isApplication(component?.qualifier) && !isPortfolioLike(component?.qualifier);\n    if (!component || !hasFileOrDirectory) {\n      return null;\n    }\n    const commonProps = {\n      componentKey: component.key,\n      loadSearchResultCount: this.props.loadSearchResultCount,\n      onChange: this.props.onFilterChange,\n      onToggle: this.props.onFacetToggle,\n      query\n    };\n    return (\n      <>\n        {component.qualifier !== ComponentQualifier.Directory && (\n          <DirectoryFacet\n            branchLike={branchLike}\n            directories={query.directories}\n            fetching={loadingFacets.directories === true}\n            open={!!openFacets.directories}\n            stats={facets.directories}\n            {...commonProps}\n          />\n        )}\n        <FileFacet\n          branchLike={branchLike}\n          fetching={loadingFacets.files === true}\n          files={query.files}\n          open={!!openFacets.files}\n          stats={facets.files}\n          {...commonProps}\n        />\n      </>\n    );\n  }\n\n  render() {\n    const { component, createdAfterIncludesTime, facets, openFacets, query } = this.props;\n\n    const displayProjectsFacet =\n      !component || !['TRK', 'BRC', 'DIR', 'DEV_PRJ'].includes(component.qualifier);\n    const displayAuthorFacet = !component || component.qualifier !== 'DEV';\n\n    return (\n      <>\n        <TypeFacet\n          fetching={this.props.loadingFacets.types === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.types}\n          stats={facets.types}\n          types={query.types}\n        />\n        <SeverityFacet\n          fetching={this.props.loadingFacets.severities === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.severities}\n          severities={query.severities}\n          stats={facets.severities}\n        />\n        <ScopeFacet\n          fetching={this.props.loadingFacets.scopes === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.scopes}\n          stats={facets.scopes}\n          scopes={query.scopes}\n        />\n        <ResolutionFacet\n          fetching={this.props.loadingFacets.resolutions === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.resolutions}\n          resolutions={query.resolutions}\n          resolved={query.resolved}\n          stats={facets.resolutions}\n        />\n        <StatusFacet\n          fetching={this.props.loadingFacets.statuses === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.statuses}\n          stats={facets.statuses}\n          statuses={query.statuses}\n        />\n        <StandardFacet\n          cwe={query.cwe}\n          cweOpen={!!openFacets.cwe}\n          cweStats={facets.cwe}\n          fetchingCwe={this.props.loadingFacets.cwe === true}\n          fetchingOwaspTop10={this.props.loadingFacets.owaspTop10 === true}\n          fetchingSansTop25={this.props.loadingFacets.sansTop25 === true}\n          fetchingSonarSourceSecurity={this.props.loadingFacets.sonarsourceSecurity === true}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.standards}\n          owaspTop10={query.owaspTop10}\n          owaspTop10Open={!!openFacets.owaspTop10}\n          owaspTop10Stats={facets.owaspTop10}\n          query={query}\n          sansTop25={query.sansTop25}\n          sansTop25Open={!!openFacets.sansTop25}\n          sansTop25Stats={facets.sansTop25}\n          sonarsourceSecurity={query.sonarsourceSecurity}\n          sonarsourceSecurityOpen={!!openFacets.sonarsourceSecurity}\n          sonarsourceSecurityStats={facets.sonarsourceSecurity}\n        />\n        <CreationDateFacet\n          component={component}\n          createdAfter={query.createdAfter}\n          createdAfterIncludesTime={createdAfterIncludesTime}\n          createdAt={query.createdAt}\n          createdBefore={query.createdBefore}\n          createdInLast={query.createdInLast}\n          fetching={this.props.loadingFacets.createdAt === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.createdAt}\n          sinceLeakPeriod={query.sinceLeakPeriod}\n          stats={facets.createdAt}\n        />\n        <LanguageFacet\n          fetching={this.props.loadingFacets.languages === true}\n          languages={query.languages}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.languages}\n          query={query}\n          referencedLanguages={this.props.referencedLanguages}\n          stats={facets.languages}\n        />\n        <RuleFacet\n          fetching={this.props.loadingFacets.rules === true}\n          languages={query.languages}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.rules}\n          query={query}\n          referencedRules={this.props.referencedRules}\n          rules={query.rules}\n          stats={facets.rules}\n        />\n        <TagFacet\n          component={component}\n          fetching={this.props.loadingFacets.tags === true}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.tags}\n          query={query}\n          stats={facets.tags}\n          tags={query.tags}\n        />\n        {displayProjectsFacet && (\n          <ProjectFacet\n            component={component}\n            fetching={this.props.loadingFacets.projects === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.projects}\n            projects={query.projects}\n            query={query}\n            referencedComponents={this.props.referencedComponentsByKey}\n            stats={facets.projects}\n          />\n        )}\n        {this.renderComponentFacets()}\n        {!this.props.myIssues && !this.props.disableDeveloperAggregatedInfo && (\n          <AssigneeFacet\n            assigned={query.assigned}\n            assignees={query.assignees}\n            fetching={this.props.loadingFacets.assignees === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.assignees}\n            query={query}\n            referencedUsers={this.props.referencedUsers}\n            stats={facets.assignees}\n          />\n        )}\n        {displayAuthorFacet && !this.props.disableDeveloperAggregatedInfo && (\n          <AuthorFacet\n            authors={query.authors}\n            component={component}\n            fetching={this.props.loadingFacets.authors === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.authors}\n            query={query}\n            stats={facets.authors}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport const mapStateToProps = (state: Store) => {\n  const disableDeveloperAggregatedInfo = getGlobalSettingValue(\n    state,\n    'sonar.developerAggregatedInfo.disabled'\n  );\n  return {\n    disableDeveloperAggregatedInfo: disableDeveloperAggregatedInfo?.value === true.toString()\n  };\n};\n\nexport default connect(mapStateToProps)(Sidebar);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { pickBy, sortBy } from 'lodash';\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport SearchSelect from 'sonar-ui-common/components/controls/SearchSelect';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { bulkChangeIssues, searchIssueTags } from '../../../api/issues';\nimport throwGlobalError from '../../../app/utils/throwGlobalError';\nimport FormattingTips from '../../../components/common/FormattingTips';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport Avatar from '../../../components/ui/Avatar';\nimport { isLoggedIn, isUserActive } from '../../../helpers/users';\nimport { searchAssignees } from '../utils';\n\ninterface AssigneeOption {\n  avatar?: string;\n  email?: string;\n  label: string;\n  value: string;\n}\n\ninterface TagOption {\n  label: string;\n  value: string;\n}\n\ninterface Props {\n  component: T.Component | undefined;\n  currentUser: T.CurrentUser;\n  fetchIssues: (x: {}) => Promise<{ issues: T.Issue[]; paging: T.Paging }>;\n  onClose: () => void;\n  onDone: () => void;\n}\n\ninterface FormFields {\n  addTags?: Array<{ label: string; value: string }>;\n  assignee?: AssigneeOption;\n  comment?: string;\n  notifications?: boolean;\n  removeTags?: Array<{ label: string; value: string }>;\n  severity?: string;\n  transition?: string;\n  type?: string;\n}\n\ninterface State extends FormFields {\n  initialTags: Array<{ label: string; value: string }>;\n  issues: T.Issue[];\n  // used for initial loading of issues\n  loading: boolean;\n  paging?: T.Paging;\n  // used when submitting a form\n  submitting: boolean;\n}\n\ntype AssigneeSelectType = new () => SearchSelect<AssigneeOption>;\nconst AssigneeSelect = SearchSelect as AssigneeSelectType;\n\ntype TagSelectType = new () => SearchSelect<TagOption>;\nconst TagSelect = SearchSelect as TagSelectType;\n\nexport const MAX_PAGE_SIZE = 500;\n\nexport default class BulkChangeModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { initialTags: [], issues: [], loading: true, submitting: false };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    Promise.all([this.loadIssues(), searchIssueTags({})]).then(\n      ([{ issues, paging }, tags]) => {\n        if (this.mounted) {\n          if (issues.length > MAX_PAGE_SIZE) {\n            issues = issues.slice(0, MAX_PAGE_SIZE);\n          }\n\n          this.setState({\n            initialTags: tags.map(tag => ({ label: tag, value: tag })),\n            issues,\n            loading: false,\n            paging\n          });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadIssues = () => {\n    return this.props.fetchIssues({ additionalFields: 'actions,transitions', ps: MAX_PAGE_SIZE });\n  };\n\n  getDefaultAssignee = () => {\n    const { currentUser } = this.props;\n    const { issues } = this.state;\n    const options = [];\n\n    if (isLoggedIn(currentUser)) {\n      const canBeAssignedToMe =\n        issues.filter(issue => issue.assignee !== currentUser.login).length > 0;\n      if (canBeAssignedToMe) {\n        options.push({\n          avatar: currentUser.avatar,\n          label: currentUser.name,\n          value: currentUser.login\n        });\n      }\n    }\n\n    const canBeUnassigned = issues.filter(issue => issue.assignee).length > 0;\n    if (canBeUnassigned) {\n      options.push({ label: translate('unassigned'), value: '' });\n    }\n\n    return options;\n  };\n\n  handleAssigneeSearch = (query: string) => {\n    return searchAssignees(query).then(({ results }) =>\n      results.map(r => {\n        const userInfo = r.name || r.login;\n\n        return {\n          avatar: r.avatar,\n          label: isUserActive(r) ? userInfo : translateWithParameters('user.x_deleted', userInfo),\n          value: r.login\n        };\n      })\n    );\n  };\n\n  handleAssigneeSelect = (assignee: AssigneeOption) => {\n    this.setState({ assignee });\n  };\n\n  handleTagsSearch = (query: string) => {\n    return searchIssueTags({ q: query }).then(tags =>\n      tags.map(tag => ({ label: tag, value: tag }))\n    );\n  };\n\n  handleTagsSelect = (field: 'addTags' | 'removeTags') => (\n    options: Array<{ label: string; value: string }>\n  ) => {\n    this.setState<keyof FormFields>({ [field]: options });\n  };\n\n  handleFieldCheck = (field: keyof FormFields) => (checked: boolean) => {\n    if (!checked) {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    } else if (field === 'notifications') {\n      this.setState<keyof FormFields>({ [field]: true });\n    }\n  };\n\n  handleRadioTransitionChange = (transition: string) => {\n    this.setState({ transition });\n  };\n\n  handleCommentChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) => {\n    this.setState({ comment: event.currentTarget.value });\n  };\n\n  handleSelectFieldChange = (field: 'severity' | 'type') => (data: { value: string } | null) => {\n    if (data) {\n      this.setState<keyof FormFields>({ [field]: data.value });\n    } else {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    }\n  };\n\n  handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const query = pickBy(\n      {\n        add_tags: this.state.addTags && this.state.addTags.map(t => t.value).join(),\n        assign: this.state.assignee ? this.state.assignee.value : null,\n        comment: this.state.comment,\n        do_transition: this.state.transition,\n        remove_tags: this.state.removeTags && this.state.removeTags.map(t => t.value).join(),\n        sendNotifications: this.state.notifications,\n        set_severity: this.state.severity,\n        set_type: this.state.type\n      },\n      x => x !== undefined\n    );\n\n    const issueKeys = this.state.issues.map(issue => issue.key);\n\n    this.setState({ submitting: true });\n    bulkChangeIssues(issueKeys, query).then(\n      () => {\n        this.setState({ submitting: false });\n        this.props.onDone();\n      },\n      error => {\n        this.setState({ submitting: false });\n        throwGlobalError(error);\n      }\n    );\n  };\n\n  getAvailableTransitions(issues: T.Issue[]) {\n    const transitions: T.Dict<number> = {};\n    issues.forEach(issue => {\n      if (issue.transitions) {\n        issue.transitions.forEach(t => {\n          if (transitions[t] !== undefined) {\n            transitions[t]++;\n          } else {\n            transitions[t] = 1;\n          }\n        });\n      }\n    });\n    return sortBy(Object.keys(transitions)).map(transition => ({\n      transition,\n      count: transitions[transition]\n    }));\n  }\n\n  renderLoading = () => (\n    <div>\n      <div className=\"modal-head\">\n        <h2>{translate('bulk_change')}</h2>\n      </div>\n      <div className=\"modal-body\">\n        <div className=\"text-center\">\n          <i className=\"spinner spacer\" />\n        </div>\n      </div>\n      <div className=\"modal-foot\">\n        <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n      </div>\n    </div>\n  );\n\n  renderAffected = (affected: number) => (\n    <div className=\"pull-right note\">\n      ({translateWithParameters('issue_bulk_change.x_issues', affected)})\n    </div>\n  );\n\n  renderField = (\n    field: 'addTags' | 'assignee' | 'removeTags' | 'severity' | 'type',\n    label: string,\n    affected: number | undefined,\n    input: React.ReactNode\n  ) => (\n    <div className=\"modal-field\" id={`issues-bulk-change-${field}`}>\n      <label htmlFor={field}>{translate(label)}</label>\n      {input}\n      {affected !== undefined && this.renderAffected(affected)}\n    </div>\n  );\n\n  renderAssigneeOption = (option: AssigneeOption) => {\n    return (\n      <span>\n        {option.avatar !== undefined && (\n          <Avatar className=\"spacer-right\" hash={option.avatar} name={option.label} size={16} />\n        )}\n        {option.label}\n      </span>\n    );\n  };\n\n  renderAssigneeField = () => {\n    const affected = this.state.issues.filter(hasAction('assign')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <AssigneeSelect\n        className=\"input-super-large\"\n        clearable={true}\n        defaultOptions={this.getDefaultAssignee()}\n        onSearch={this.handleAssigneeSearch}\n        onSelect={this.handleAssigneeSelect}\n        renderOption={this.renderAssigneeOption}\n        resetOnBlur={false}\n        value={this.state.assignee}\n      />\n    );\n\n    return this.renderField('assignee', 'issue.assign.formlink', affected, input);\n  };\n\n  renderTypeField = () => {\n    const affected = this.state.issues.filter(hasAction('set_type')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const types: T.IssueType[] = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n    const options = types.map(type => ({ label: translate('issue.type', type), value: type }));\n\n    const optionRenderer = (option: { label: string; value: string }) => (\n      <>\n        <IssueTypeIcon query={option.value} />\n        <span className=\"little-spacer-left\">{option.label}</span>\n      </>\n    );\n\n    const input = (\n      <Select\n        className=\"input-super-large\"\n        clearable={true}\n        onChange={this.handleSelectFieldChange('type')}\n        optionRenderer={optionRenderer}\n        options={options}\n        searchable={false}\n        value={this.state.type}\n        valueRenderer={optionRenderer}\n      />\n    );\n\n    return this.renderField('type', 'issue.set_type', affected, input);\n  };\n\n  renderSeverityField = () => {\n    const affected = this.state.issues.filter(hasAction('set_severity')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const severities = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n    const options = severities.map(severity => ({\n      label: translate('severity', severity),\n      value: severity\n    }));\n\n    const input = (\n      <Select\n        className=\"input-super-large\"\n        clearable={true}\n        onChange={this.handleSelectFieldChange('severity')}\n        optionRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n        options={options}\n        searchable={false}\n        value={this.state.severity}\n        valueRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n      />\n    );\n\n    return this.renderField('severity', 'issue.set_severity', affected, input);\n  };\n\n  renderTagOption = (option: TagOption) => {\n    return <span>{option.label}</span>;\n  };\n\n  renderTagsField = (field: 'addTags' | 'removeTags', label: string, allowCreate: boolean) => {\n    const { initialTags } = this.state;\n    const affected = this.state.issues.filter(hasAction('set_tags')).length;\n\n    if (initialTags === undefined || affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <TagSelect\n        canCreate={allowCreate}\n        className=\"input-super-large\"\n        clearable={true}\n        defaultOptions={this.state.initialTags}\n        minimumQueryLength={0}\n        multi={true}\n        onMultiSelect={this.handleTagsSelect(field)}\n        onSearch={this.handleTagsSearch}\n        promptTextCreator={promptCreateTag}\n        renderOption={this.renderTagOption}\n        resetOnBlur={false}\n        value={this.state[field]}\n      />\n    );\n\n    return this.renderField(field, label, affected, input);\n  };\n\n  renderTransitionsField = () => {\n    const transitions = this.getAvailableTransitions(this.state.issues);\n\n    if (transitions.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label>{translate('issue.transition')}</label>\n        {transitions.map(transition => (\n          <span\n            className=\"bulk-change-radio-button display-flex-center display-flex-space-between\"\n            key={transition.transition}>\n            <Radio\n              checked={this.state.transition === transition.transition}\n              onCheck={this.handleRadioTransitionChange}\n              value={transition.transition}>\n              {translate('issue.transition', transition.transition)}\n            </Radio>\n            {this.renderAffected(transition.count)}\n          </span>\n        ))}\n      </div>\n    );\n  };\n\n  renderCommentField = () => {\n    const affected = this.state.issues.filter(hasAction('comment')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label htmlFor=\"comment\">\n          <span className=\"text-middle\">{translate('issue.comment.formlink')}</span>\n          <HelpTooltip\n            className=\"spacer-left\"\n            overlay={translate('issue_bulk_change.comment.help')}\n          />\n        </label>\n        <textarea\n          id=\"comment\"\n          onChange={this.handleCommentChange}\n          rows={4}\n          value={this.state.comment || ''}\n        />\n        <FormattingTips className=\"modal-field-descriptor text-right\" />\n      </div>\n    );\n  };\n\n  renderNotificationsField = () => (\n    <Checkbox\n      checked={this.state.notifications !== undefined}\n      className=\"display-inline-block spacer-top\"\n      id=\"send-notifications\"\n      onCheck={this.handleFieldCheck('notifications')}\n      right={true}>\n      <strong className=\"little-spacer-right\">{translate('issue.send_notifications')}</strong>\n    </Checkbox>\n  );\n\n  renderForm = () => {\n    const { issues, paging, submitting } = this.state;\n\n    const limitReached = paging && paging.total > MAX_PAGE_SIZE;\n\n    return (\n      <form id=\"bulk-change-form\" onSubmit={this.handleSubmit}>\n        <div className=\"modal-head\">\n          <h2>{translateWithParameters('issue_bulk_change.form.title', issues.length)}</h2>\n        </div>\n\n        <div className=\"modal-body modal-container\">\n          {limitReached && (\n            <Alert variant=\"warning\">\n              <FormattedMessage\n                defaultMessage={translate('issue_bulk_change.max_issues_reached')}\n                id=\"issue_bulk_change.max_issues_reached\"\n                values={{ max: <strong>{MAX_PAGE_SIZE}</strong> }}\n              />\n            </Alert>\n          )}\n\n          {this.renderAssigneeField()}\n          {this.renderTypeField()}\n          {this.renderSeverityField()}\n          {this.renderTagsField('addTags', 'issue.add_tags', true)}\n          {this.renderTagsField('removeTags', 'issue.remove_tags', false)}\n          {this.renderTransitionsField()}\n          {this.renderCommentField()}\n          {issues.length > 0 && this.renderNotificationsField()}\n          {issues.length === 0 && (\n            <Alert variant=\"warning\">{translate('issue_bulk_change.no_match')}</Alert>\n          )}\n        </div>\n\n        <div className=\"modal-foot\">\n          {submitting && <i className=\"spinner spacer-right\" />}\n          <SubmitButton disabled={submitting || issues.length === 0} id=\"bulk-change-submit\">\n            {translate('apply')}\n          </SubmitButton>\n          <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n        </div>\n      </form>\n    );\n  };\n\n  render() {\n    return (\n      <Modal contentLabel=\"modal\" onRequestClose={this.props.onClose} size=\"small\">\n        {this.state.loading ? this.renderLoading() : this.renderForm()}\n      </Modal>\n    );\n  }\n}\n\nfunction hasAction(action: string) {\n  return (issue: T.Issue) => issue.actions && issue.actions.includes(action);\n}\n\nfunction promptCreateTag(label: string) {\n  return `+ ${label}`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { collapsePath, limitComponentName } from 'sonar-ui-common/helpers/path';\nimport { getSelectedLocation } from '../utils';\n\ninterface Props {\n  component?: T.Component;\n  issue: T.Issue;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nexport default function ComponentBreadcrumbs({\n  component,\n  issue,\n  selectedFlowIndex,\n  selectedLocationIndex\n}: Props) {\n  const displayProject = !component || !['TRK', 'BRC', 'DIR'].includes(component.qualifier);\n  const displaySubProject = !component || !['BRC', 'DIR'].includes(component.qualifier);\n\n  const selectedLocation = getSelectedLocation(issue, selectedFlowIndex, selectedLocationIndex);\n  const componentName = selectedLocation ? selectedLocation.componentName : issue.componentLongName;\n\n  return (\n    <div\n      aria-label={translateWithParameters(\n        'issues.on_file_x',\n        `${displayProject ? issue.projectName + ', ' : ''}${componentName}`\n      )}\n      className=\"component-name text-ellipsis\">\n      <QualifierIcon className=\"spacer-right\" qualifier={issue.componentQualifier} />\n\n      {displayProject && (\n        <span title={issue.projectName}>\n          {limitComponentName(issue.projectName)}\n          <span className=\"slash-separator\" />\n        </span>\n      )}\n\n      {displaySubProject && issue.subProject !== undefined && issue.subProjectName !== undefined && (\n        <span title={issue.subProjectName}>\n          {limitComponentName(issue.subProjectName)}\n          <span className=\"slash-separator\" />\n        </span>\n      )}\n\n      <span title={componentName}>{collapsePath(componentName || '')}</span>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Issue from '../../../components/issue/Issue';\nimport { BranchLike } from '../../../types/branch-like';\nimport { Query } from '../utils';\nimport ComponentBreadcrumbs from './ComponentBreadcrumbs';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  checked: boolean;\n  component: T.Component | undefined;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck: ((issueKey: string) => void) | undefined;\n  onClick: (issueKey: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: string | undefined;\n  previousIssue: T.Issue | undefined;\n  selected: boolean;\n}\n\nexport default class ListItem extends React.PureComponent<Props> {\n  handleFilter = (property: string, issue: T.Issue) => {\n    const { onFilterChange } = this.props;\n\n    const issuesReset = { issues: [] };\n\n    if (property.startsWith('tag###')) {\n      const tag = property.substr(6);\n      onFilterChange({ ...issuesReset, tags: [tag] });\n    } else {\n      switch (property) {\n        case 'type':\n          onFilterChange({ ...issuesReset, types: [issue.type] });\n          break;\n        case 'severity':\n          onFilterChange({ ...issuesReset, severities: [issue.severity] });\n          break;\n        case 'status':\n          onFilterChange({ ...issuesReset, statuses: [issue.status] });\n          break;\n        case 'resolution':\n          if (issue.resolution) {\n            onFilterChange({ ...issuesReset, resolved: true, resolutions: [issue.resolution] });\n          } else {\n            onFilterChange({ ...issuesReset, resolved: false, resolutions: [] });\n          }\n          break;\n        case 'assignee':\n          if (issue.assignee) {\n            onFilterChange({ ...issuesReset, assigned: true, assignees: [issue.assignee] });\n          } else {\n            onFilterChange({ ...issuesReset, assigned: false, assignees: [] });\n          }\n          break;\n        case 'rule':\n          onFilterChange({ ...issuesReset, rules: [issue.rule] });\n          break;\n        case 'project':\n          onFilterChange({ ...issuesReset, projects: [issue.projectKey] });\n          break;\n        case 'module':\n          if (issue.subProjectUuid) {\n            onFilterChange({ ...issuesReset, modules: [issue.subProjectUuid] });\n          }\n          break;\n        case 'file':\n          onFilterChange({ ...issuesReset, files: [issue.componentUuid] });\n      }\n    }\n  };\n\n  render() {\n    const { branchLike, component, issue, previousIssue } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <li className=\"issues-workspace-list-item\">\n        {displayComponent && (\n          <div className=\"issues-workspace-list-component note\">\n            <ComponentBreadcrumbs component={component} issue={this.props.issue} />\n          </div>\n        )}\n        <Issue\n          branchLike={branchLike}\n          checked={this.props.checked}\n          issue={issue}\n          onChange={this.props.onChange}\n          onCheck={this.props.onCheck}\n          onClick={this.props.onClick}\n          onFilter={this.handleFilter}\n          onPopupToggle={this.props.onPopupToggle}\n          openPopup={this.props.openPopup}\n          selected={this.props.selected}\n        />\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { BranchLike } from '../../../types/branch-like';\nimport { Query, scrollToIssue } from '../utils';\nimport ListItem from './ListItem';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  checked: string[];\n  component: T.Component | undefined;\n  issues: T.Issue[];\n  onFilterChange: (changes: Partial<Query>) => void;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueCheck: ((issueKey: string) => void) | undefined;\n  onIssueClick: (issueKey: string) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: { issue: string; name: string } | undefined;\n  selectedIssue: T.Issue | undefined;\n}\n\ninterface State {\n  prerender: boolean;\n}\n\nexport default class IssuesList extends React.PureComponent<Props, State> {\n  state: State = {\n    prerender: true\n  };\n\n  componentDidMount() {\n    // ! \\\\ This prerender state variable is to enable the page to be displayed\n    //      immediately, displaying a loader before attempting to render the\n    //      list of issues. See https://jira.sonarsource.com/browse/SONAR-11681\n    setTimeout(() => {\n      this.setState({ prerender: false });\n      if (this.props.selectedIssue) {\n        scrollToIssue(this.props.selectedIssue.key, false);\n      }\n    }, 42);\n  }\n\n  render() {\n    const { branchLike, checked, component, issues, openPopup, selectedIssue } = this.props;\n    const { prerender } = this.state;\n\n    if (prerender) {\n      return (\n        <div>\n          <i className=\"spinner\" />\n        </div>\n      );\n    }\n\n    return (\n      <ul>\n        {issues.map((issue, index) => (\n          <ListItem\n            branchLike={branchLike}\n            checked={checked.includes(issue.key)}\n            component={component}\n            issue={issue}\n            key={issue.key}\n            onChange={this.props.onIssueChange}\n            onCheck={this.props.onIssueCheck}\n            onClick={this.props.onIssueClick}\n            onFilterChange={this.props.onFilterChange}\n            onPopupToggle={this.props.onPopupToggle}\n            openPopup={openPopup && openPopup.issue === issue.key ? openPopup.name : undefined}\n            previousIssue={index > 0 ? issues[index - 1] : undefined}\n            selected={selectedIssue != null && selectedIssue.key === issue.key}\n          />\n        ))}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\n\nconst CrossComponentSourceViewer = lazyLoadComponent(\n  () => import(/* webpackPrefetch: true */ './CrossComponentSourceViewerWrapper'),\n  'CrossComponentSourceViewer'\n);\n\nexport default CrossComponentSourceViewer;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport { BranchLike } from '../../../types/branch-like';\nimport CrossComponentSourceViewer from '../crossComponentSourceViewer/CrossComponentSourceViewer';\nimport { getLocations, getSelectedLocation } from '../utils';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  issues: T.Issue[];\n  loadIssues: (component: string, from: number, to: number) => Promise<T.Issue[]>;\n  locationsNavigator: boolean;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  openIssue: T.Issue;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class IssuesSourceViewer extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidUpdate(prevProps: Props) {\n    const { openIssue, selectedLocationIndex } = this.props;\n\n    // Scroll back to the issue when the selected location is set to -1\n    const shouldScrollBackToIssue =\n      selectedLocationIndex === -1 && selectedLocationIndex !== prevProps.selectedLocationIndex;\n    if (\n      prevProps.openIssue.component === openIssue.component &&\n      (prevProps.openIssue !== openIssue || shouldScrollBackToIssue)\n    ) {\n      this.scrollToIssue();\n    }\n  }\n\n  scrollToIssue = (smooth = true) => {\n    if (this.node) {\n      const element = this.node.querySelector(`[data-issue=\"${this.props.openIssue.key}\"]`);\n      if (element) {\n        this.handleScroll(element, undefined, smooth);\n      }\n    }\n  };\n\n  handleScroll = (element: Element, offset = window.innerHeight / 2, smooth = true) => {\n    scrollToElement(element, { topOffset: offset - 100, bottomOffset: offset, smooth });\n  };\n\n  handleLoaded = () => {\n    this.scrollToIssue(false);\n  };\n\n  render() {\n    const { openIssue, selectedFlowIndex, selectedLocationIndex } = this.props;\n\n    const locations = getLocations(openIssue, selectedFlowIndex).map((loc, index) => {\n      loc.index = index;\n      return loc;\n    });\n    const selectedLocation = getSelectedLocation(\n      openIssue,\n      selectedFlowIndex,\n      selectedLocationIndex\n    );\n\n    const highlightedLocationMessage =\n      this.props.locationsNavigator && selectedLocationIndex !== undefined\n        ? selectedLocation && { index: selectedLocationIndex, text: selectedLocation.msg }\n        : undefined;\n\n    const startLines = locations.map(l => l.textRange.startLine);\n    const showCrossComponentSourceViewer =\n      startLines.length > 0 ? Math.max(...startLines) !== Math.min(...startLines) : false;\n\n    if (showCrossComponentSourceViewer) {\n      return (\n        <div ref={node => (this.node = node)}>\n          <CrossComponentSourceViewer\n            branchLike={this.props.branchLike}\n            highlightedLocationMessage={highlightedLocationMessage}\n            issue={openIssue}\n            issues={this.props.issues}\n            locations={locations}\n            onIssueChange={this.props.onIssueChange}\n            onLoaded={this.handleLoaded}\n            onLocationSelect={this.props.onLocationSelect}\n            scroll={this.handleScroll}\n            selectedFlowIndex={selectedFlowIndex}\n          />\n        </div>\n      );\n    } else {\n      // if location is selected, show (and load) code around it\n      // otherwise show code around the open issue\n      const aroundLine = selectedLocation\n        ? selectedLocation.textRange.startLine\n        : openIssue.textRange && openIssue.textRange.endLine;\n\n      const component = selectedLocation ? selectedLocation.component : openIssue.component;\n      const allMessagesEmpty =\n        locations !== undefined && locations.every(location => !location.msg);\n\n      const highlightedLocations = locations.filter(location => location.component === component);\n\n      // do not load issues when open another file for a location\n      const loadIssues =\n        component === openIssue.component ? this.props.loadIssues : () => Promise.resolve([]);\n      const selectedIssue = component === openIssue.component ? openIssue.key : undefined;\n\n      return (\n        <div ref={node => (this.node = node)}>\n          <SourceViewer\n            aroundLine={aroundLine}\n            branchLike={this.props.branchLike}\n            component={component}\n            displayAllIssues={true}\n            displayIssueLocationsCount={true}\n            displayIssueLocationsLink={false}\n            displayLocationMarkers={!allMessagesEmpty}\n            highlightedLocationMessage={highlightedLocationMessage}\n            highlightedLocations={highlightedLocations}\n            loadIssues={loadIssues}\n            onIssueChange={this.props.onIssueChange}\n            onIssueSelect={this.props.onIssueSelect}\n            onLoaded={this.handleLoaded}\n            onLocationSelect={this.props.onLocationSelect}\n            scroll={this.handleScroll}\n            selectedIssue={selectedIssue}\n            slimHeader={true}\n          />\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  myIssues: boolean;\n  onMyIssuesChange: (myIssues: boolean) => void;\n}\n\nexport default class MyIssuesFilter extends React.PureComponent<Props> {\n  handleClick = (myIssues: boolean) => () => {\n    this.props.onMyIssuesChange(myIssues);\n  };\n\n  render() {\n    const { myIssues } = this.props;\n\n    return (\n      <div className=\"issues-my-issues-filter\">\n        <div className=\"button-group\">\n          <Button\n            className={myIssues ? 'button-active' : undefined}\n            onClick={this.handleClick(true)}>\n            {translate('issues.my_issues')}\n          </Button>\n          <Button\n            className={myIssues ? undefined : 'button-active'}\n            onClick={this.handleClick(false)}>\n            {translate('all')}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport '../../../components/common/EmptySearch.css';\n\nexport default function NoIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport '../../../components/common/EmptySearch.css';\n\nexport default function NoMyIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_my_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport PageCounter from '../../../components/common/PageCounter';\n\ninterface Props {\n  current: number | undefined;\n  total: number;\n}\n\nexport default function IssuesCounter(props: Props) {\n  return (\n    <PageCounter\n      className=\"spacer-left\"\n      current={props.current}\n      label={translate('issues.issues')}\n      total={props.total}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\nexport default function TotalEffort({ effort }: { effort: number }) {\n  return (\n    <div className=\"display-inline-block bordered-left spacer-left\">\n      <div className=\"spacer-left\">\n        <FormattedMessage\n          defaultMessage={translate('issue.x_effort')}\n          id=\"issue.x_effort\"\n          values={{ 0: <strong>{formatMeasure(effort, 'WORK_DUR')}</strong> }}\n        />\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport HomePageSelect from '../../../components/controls/HomePageSelect';\nimport PageShortcutsTooltip from '../../../components/ui/PageShortcutsTooltip';\nimport { isSonarCloud } from '../../../helpers/system';\nimport IssuesCounter from './IssuesCounter';\nimport TotalEffort from './TotalEffort';\n\nexport interface PageActionsProps {\n  canSetHome: boolean;\n  effortTotal: number | undefined;\n  paging?: T.Paging;\n  selectedIndex?: number;\n}\n\nexport default function PageActions(props: PageActionsProps) {\n  const { canSetHome, effortTotal, paging, selectedIndex } = props;\n\n  return (\n    <div className=\"display-flex-center display-flex-justify-end\">\n      <PageShortcutsTooltip\n        leftAndRightLabel={translate('issues.to_navigate')}\n        upAndDownLabel={translate('issues.to_select_issues')}\n      />\n\n      <div className=\"spacer-left issues-page-actions\">\n        {paging != null && <IssuesCounter current={selectedIndex} total={paging.total} />}\n        {effortTotal !== undefined && <TotalEffort effort={effortTotal} />}\n      </div>\n\n      {canSetHome && (\n        <HomePageSelect\n          className=\"huge-spacer-left\"\n          currentPage={isSonarCloud() ? { type: 'MY_ISSUES' } : { type: 'ISSUES' }}\n        />\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport { debounce, keyBy, omit, without } from 'lodash';\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { FormattedMessage } from 'react-intl';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport handleRequiredAuthentication from 'sonar-ui-common/helpers/handleRequiredAuthentication';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport {\n  addSideBarClass,\n  addWhitePageClass,\n  removeSideBarClass,\n  removeWhitePageClass\n} from 'sonar-ui-common/helpers/pages';\nimport { serializeDate } from 'sonar-ui-common/helpers/query';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport EmptySearch from '../../../components/common/EmptySearch';\nimport FiltersHeader from '../../../components/common/FiltersHeader';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport { Location, Router } from '../../../components/hoc/withRouter';\nimport '../../../components/search-navigator.css';\nimport {\n  fillBranchLike,\n  getBranchLikeQuery,\n  isPullRequest,\n  isSameBranchLike\n} from '../../../helpers/branch-like';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { BranchLike } from '../../../types/branch-like';\nimport {\n  Facet,\n  FetchIssuesPromise,\n  ReferencedComponent,\n  ReferencedLanguage,\n  ReferencedRule\n} from '../../../types/issues';\nimport { SecurityStandard } from '../../../types/security';\nimport * as actions from '../actions';\nimport ConciseIssuesList from '../conciseIssuesList/ConciseIssuesList';\nimport ConciseIssuesListHeader from '../conciseIssuesList/ConciseIssuesListHeader';\nimport Sidebar from '../sidebar/Sidebar';\nimport '../styles.css';\nimport {\n  areMyIssuesSelected,\n  areQueriesEqual,\n  getOpen,\n  mapFacet,\n  parseFacets,\n  parseQuery,\n  Query,\n  saveMyIssues,\n  scrollToIssue,\n  serializeQuery,\n  shouldOpenSonarSourceSecurityFacet,\n  shouldOpenStandardsChildFacet,\n  shouldOpenStandardsFacet,\n  STANDARDS\n} from '../utils';\nimport BulkChangeModal, { MAX_PAGE_SIZE } from './BulkChangeModal';\nimport IssuesList from './IssuesList';\nimport IssuesSourceViewer from './IssuesSourceViewer';\nimport MyIssuesFilter from './MyIssuesFilter';\nimport NoIssues from './NoIssues';\nimport NoMyIssues from './NoMyIssues';\nimport PageActions from './PageActions';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component?: T.Component;\n  currentUser: T.CurrentUser;\n  fetchBranchStatus: (branchLike: BranchLike, projectKey: string) => void;\n  fetchIssues: (query: T.RawQuery) => Promise<FetchIssuesPromise>;\n  location: Location;\n  onBranchesChange?: () => void;\n  router: Pick<Router, 'push' | 'replace'>;\n}\n\nexport interface State {\n  bulkChangeModal: boolean;\n  cannotShowOpenIssue?: boolean;\n  checkAll?: boolean;\n  checked: string[];\n  effortTotal?: number;\n  facets: T.Dict<Facet>;\n  issues: T.Issue[];\n  loading: boolean;\n  loadingFacets: T.Dict<boolean>;\n  loadingMore: boolean;\n  locationsNavigator: boolean;\n  myIssues: boolean;\n  openFacets: T.Dict<boolean>;\n  openIssue?: T.Issue;\n  openPopup?: { issue: string; name: string };\n  paging?: T.Paging;\n  query: Query;\n  referencedComponentsById: T.Dict<ReferencedComponent>;\n  referencedComponentsByKey: T.Dict<ReferencedComponent>;\n  referencedLanguages: T.Dict<ReferencedLanguage>;\n  referencedRules: T.Dict<ReferencedRule>;\n  referencedUsers: T.Dict<T.UserBase>;\n  selected?: string;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nconst DEFAULT_QUERY = { resolved: 'false' };\nconst MAX_INITAL_FETCH = 1000;\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const query = parseQuery(props.location.query);\n    this.state = {\n      bulkChangeModal: false,\n      checked: [],\n      facets: {},\n      issues: [],\n      loading: true,\n      loadingFacets: {},\n      loadingMore: false,\n      locationsNavigator: false,\n      myIssues: areMyIssuesSelected(props.location.query),\n      openFacets: {\n        owaspTop10: shouldOpenStandardsChildFacet({}, query, SecurityStandard.OWASP_TOP10),\n        sansTop25: shouldOpenStandardsChildFacet({}, query, SecurityStandard.SANS_TOP25),\n        severities: true,\n        sonarsourceSecurity: shouldOpenSonarSourceSecurityFacet({}, query),\n        standards: shouldOpenStandardsFacet({}, query),\n        types: true\n      },\n      query,\n      referencedComponentsById: {},\n      referencedComponentsByKey: {},\n      referencedLanguages: {},\n      referencedRules: {},\n      referencedUsers: {},\n      selected: getOpen(props.location.query)\n    };\n    this.refreshBranchStatus = debounce(this.refreshBranchStatus, 1000);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    if (this.state.myIssues && !this.props.currentUser.isLoggedIn) {\n      handleRequiredAuthentication();\n      return;\n    }\n\n    addWhitePageClass();\n    addSideBarClass();\n    this.attachShortcuts();\n    this.fetchFirstIssues();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    const { issues, selected } = this.state;\n    const openIssue = this.getOpenIssue(nextProps, issues);\n\n    if (openIssue && openIssue.key !== selected) {\n      this.setState({\n        locationsNavigator: false,\n        selected: openIssue.key,\n        selectedFlowIndex: undefined,\n        selectedLocationIndex: undefined\n      });\n    }\n\n    if (!openIssue) {\n      this.setState({ selectedFlowIndex: undefined, selectedLocationIndex: undefined });\n    }\n\n    this.setState({\n      myIssues: areMyIssuesSelected(nextProps.location.query),\n      openIssue,\n      query: parseQuery(nextProps.location.query)\n    });\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const { query } = this.props.location;\n    const { query: prevQuery } = prevProps.location;\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      !areQueriesEqual(prevQuery, query) ||\n      areMyIssuesSelected(prevQuery) !== areMyIssuesSelected(query)\n    ) {\n      this.fetchFirstIssues();\n      this.setState({ checkAll: false });\n    } else if (\n      !this.state.openIssue &&\n      (prevState.selected !== this.state.selected || prevState.openIssue)\n    ) {\n      // if user simply selected another issue\n      // or if user went from the source code back to the list of issues\n      this.scrollToSelectedIssue();\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n    this.mounted = false;\n    removeWhitePageClass();\n    removeSideBarClass();\n  }\n\n  attachShortcuts() {\n    key.setScope('issues');\n    key('up', 'issues', () => {\n      this.selectPreviousIssue();\n      return false;\n    });\n    key('down', 'issues', () => {\n      this.selectNextIssue();\n      return false;\n    });\n    key('right', 'issues', () => {\n      this.openSelectedIssue();\n      return false;\n    });\n    key('left', 'issues', () => {\n      if (this.state.query.issues.length !== 1) {\n        this.closeIssue();\n      }\n      return false;\n    });\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('keyup', this.handleKeyUp);\n  }\n\n  detachShortcuts() {\n    key.deleteScope('issues');\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  handleKeyDown = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      event.preventDefault();\n      this.setState(actions.enableLocationsNavigator);\n    } else if (event.keyCode === 40 && event.altKey) {\n      // alt + down\n      event.preventDefault();\n      this.selectNextLocation();\n    } else if (event.keyCode === 38 && event.altKey) {\n      // alt + up\n      event.preventDefault();\n      this.selectPreviousLocation();\n    } else if (event.keyCode === 37 && event.altKey) {\n      // alt + left\n      event.preventDefault();\n      this.selectPreviousFlow();\n    } else if (event.keyCode === 39 && event.altKey) {\n      // alt + right\n      event.preventDefault();\n      this.selectNextFlow();\n    }\n  };\n\n  handleKeyUp = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      this.setState(actions.disableLocationsNavigator);\n    }\n  };\n\n  getSelectedIndex() {\n    const { issues = [], selected } = this.state;\n    const index = issues.findIndex(issue => issue.key === selected);\n    return index !== -1 ? index : undefined;\n  }\n\n  getOpenIssue = (props: Props, issues: T.Issue[]) => {\n    const open = getOpen(props.location.query);\n    return open ? issues.find(issue => issue.key === open) : undefined;\n  };\n\n  selectNextIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex < issues.length - 1) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex + 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex + 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  selectPreviousIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex > 0) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex - 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex - 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  openIssue = (issueKey: string) => {\n    const path = {\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(this.state.query),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined,\n        open: issueKey\n      }\n    };\n    if (this.state.openIssue) {\n      if (path.query.open && path.query.open === this.state.openIssue.key) {\n        this.setState(\n          {\n            locationsNavigator: false,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          },\n          this.scrollToSelectedIssue\n        );\n      } else {\n        this.props.router.replace(path);\n      }\n    } else {\n      this.props.router.push(path);\n    }\n  };\n\n  closeIssue = () => {\n    if (this.state.query) {\n      this.props.router.push({\n        pathname: this.props.location.pathname,\n        query: {\n          ...serializeQuery(this.state.query),\n          ...getBranchLikeQuery(this.props.branchLike),\n          id: this.props.component && this.props.component.key,\n          myIssues: this.state.myIssues ? 'true' : undefined,\n          open: undefined\n        }\n      });\n    }\n  };\n\n  openSelectedIssue = () => {\n    const { selected } = this.state;\n    if (selected) {\n      this.openIssue(selected);\n    }\n  };\n\n  scrollToSelectedIssue = (smooth = true) => {\n    const { selected } = this.state;\n    if (selected) {\n      scrollToIssue(selected, smooth);\n    }\n  };\n\n  createdAfterIncludesTime = () => Boolean(this.props.location.query.createdAfter?.includes('T'));\n\n  fetchIssues = (additional: T.RawQuery, requestFacets = false): Promise<FetchIssuesPromise> => {\n    const { component } = this.props;\n    const { myIssues, openFacets, query } = this.state;\n\n    const facets = requestFacets\n      ? Object.keys(openFacets)\n          .filter(facet => facet !== STANDARDS)\n          .map(mapFacet)\n          .join(',')\n      : undefined;\n\n    const parameters: T.Dict<string | undefined> = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      componentKeys: component && component.key,\n      s: 'FILE_LINE',\n      ...serializeQuery(query),\n      ps: '100',\n      facets,\n      ...additional\n    };\n\n    if (query.createdAfter !== undefined && this.createdAfterIncludesTime()) {\n      parameters.createdAfter = serializeDate(query.createdAfter);\n    }\n\n    // only sorting by CREATION_DATE is allowed, so let's sort DESC\n    if (query.sort) {\n      Object.assign(parameters, { asc: 'false' });\n    }\n\n    if (myIssues) {\n      Object.assign(parameters, { assignees: '__me__' });\n    }\n\n    return this.props.fetchIssues(parameters);\n  };\n\n  fetchFirstIssues() {\n    const prevQuery = this.props.location.query;\n    const openIssueKey = getOpen(this.props.location.query);\n    let fetchPromise;\n\n    this.setState({ checked: [], loading: true });\n    if (openIssueKey !== undefined) {\n      fetchPromise = this.fetchIssuesUntil(1, (pageIssues: T.Issue[], paging: T.Paging) => {\n        if (\n          paging.total <= paging.pageIndex * paging.pageSize ||\n          paging.pageIndex * paging.pageSize >= MAX_INITAL_FETCH\n        ) {\n          return true;\n        }\n        return pageIssues.some(issue => issue.key === openIssueKey);\n      });\n    } else {\n      fetchPromise = this.fetchIssues({}, true);\n    }\n\n    return fetchPromise.then(\n      ({ effortTotal, facets, issues, paging, ...other }) => {\n        if (this.mounted && areQueriesEqual(prevQuery, this.props.location.query)) {\n          const openIssue = this.getOpenIssue(this.props, issues);\n          let selected: string | undefined = undefined;\n          if (issues.length > 0) {\n            selected = openIssue ? openIssue.key : issues[0].key;\n          }\n          this.setState(state => ({\n            cannotShowOpenIssue: Boolean(openIssueKey && !openIssue),\n            effortTotal,\n            facets: { ...state.facets, ...parseFacets(facets) },\n            loading: false,\n            issues,\n            openIssue,\n            paging,\n            referencedComponentsById: keyBy(other.components, 'uuid'),\n            referencedComponentsByKey: keyBy(other.components, 'key'),\n            referencedLanguages: keyBy(other.languages, 'key'),\n            referencedRules: keyBy(other.rules, 'key'),\n            referencedUsers: keyBy(other.users, 'login'),\n            selected,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          }));\n        }\n        return issues;\n      },\n      () => {\n        if (this.mounted && areQueriesEqual(prevQuery, this.props.location.query)) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  }\n\n  fetchIssuesPage = (p: number) => {\n    return this.fetchIssues({ p });\n  };\n\n  fetchIssuesUntil = (\n    p: number,\n    done: (pageIssues: T.Issue[], paging: T.Paging) => boolean\n  ): Promise<FetchIssuesPromise> => {\n    const recursiveFetch = (p: number, prevIssues: T.Issue[]): Promise<FetchIssuesPromise> => {\n      return this.fetchIssuesPage(p).then(({ issues: pageIssues, paging, ...other }) => {\n        const issues = [...prevIssues, ...pageIssues];\n        return done(pageIssues, paging)\n          ? { issues, paging, ...other }\n          : recursiveFetch(p + 1, issues);\n      });\n    };\n\n    return recursiveFetch(p, []);\n  };\n\n  fetchMoreIssues = () => {\n    const { paging } = this.state;\n\n    if (!paging) {\n      return Promise.reject();\n    }\n\n    const p = paging.pageIndex + 1;\n\n    this.setState({ checkAll: false, loadingMore: true });\n    return this.fetchIssuesPage(p).then(\n      response => {\n        if (this.mounted) {\n          this.setState(state => ({\n            loadingMore: false,\n            issues: [...state.issues, ...response.issues],\n            paging: response.paging\n          }));\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loadingMore: false });\n        }\n      }\n    );\n  };\n\n  fetchIssuesForComponent = (_component: string, _from: number, to: number) => {\n    const { issues, openIssue, paging } = this.state;\n\n    if (!openIssue || !paging) {\n      return Promise.reject(undefined);\n    }\n\n    const isSameComponent = (issue: T.Issue) => issue.component === openIssue.component;\n\n    const done = (pageIssues: T.Issue[], paging: T.Paging) => {\n      const lastIssue = pageIssues[pageIssues.length - 1];\n      if (paging.total <= paging.pageIndex * paging.pageSize) {\n        return true;\n      }\n      if (lastIssue.component !== openIssue.component) {\n        return true;\n      }\n      return lastIssue.textRange !== undefined && lastIssue.textRange.endLine > to;\n    };\n\n    if (done(issues, paging)) {\n      return Promise.resolve(issues.filter(isSameComponent));\n    }\n\n    this.setState({ loading: true });\n    return this.fetchIssuesUntil(paging.pageIndex + 1, done).then(\n      response => {\n        const nextIssues = [...issues, ...response.issues];\n        if (this.mounted) {\n          this.setState({\n            issues: nextIssues,\n            loading: false,\n            paging: response.paging\n          });\n        }\n        return nextIssues.filter(isSameComponent);\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  };\n\n  fetchFacet = (facet: string) => {\n    return this.fetchIssues({ ps: 1, facets: mapFacet(facet) }, false).then(\n      ({ facets, ...other }) => {\n        if (this.mounted) {\n          this.setState(state => ({\n            facets: { ...state.facets, ...parseFacets(facets) },\n            loadingFacets: omit(state.loadingFacets, facet),\n            referencedComponentsById: {\n              ...state.referencedComponentsById,\n              ...keyBy(other.components, 'uuid')\n            },\n            referencedComponentsByKey: {\n              ...state.referencedComponentsByKey,\n              ...keyBy(other.components, 'key')\n            },\n            referencedLanguages: {\n              ...state.referencedLanguages,\n              ...keyBy(other.languages, 'key')\n            },\n            referencedRules: { ...state.referencedRules, ...keyBy(other.rules, 'key') },\n            referencedUsers: { ...state.referencedUsers, ...keyBy(other.users, 'login') }\n          }));\n        }\n      },\n      () => {\n        /* Do nothing */\n      }\n    );\n  };\n\n  isFiltered = () => {\n    const serialized = serializeQuery(this.state.query);\n    return !areQueriesEqual(serialized, DEFAULT_QUERY);\n  };\n\n  getCheckedIssues = () => {\n    const issues = this.state.checked\n      .map(checked => this.state.issues.find(issue => issue.key === checked))\n      .filter((issue): issue is T.Issue => issue !== undefined);\n    const paging = { pageIndex: 1, pageSize: issues.length, total: issues.length };\n    return Promise.resolve({ issues, paging });\n  };\n\n  getButtonLabel = (checked: string[], checkAll?: boolean, paging?: T.Paging) => {\n    if (checked.length > 0) {\n      let count;\n      if (checkAll && paging) {\n        count = paging.total > MAX_PAGE_SIZE ? MAX_PAGE_SIZE : paging.total;\n      } else {\n        count = Math.min(checked.length, MAX_PAGE_SIZE);\n      }\n\n      return translateWithParameters('issues.bulk_change_X_issues', count);\n    } else {\n      return translate('bulk_change');\n    }\n  };\n\n  handleFilterChange = (changes: Partial<Query>) => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, ...changes }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n    this.setState(({ openFacets }) => ({\n      openFacets: {\n        ...openFacets,\n        sonarsourceSecurity: shouldOpenSonarSourceSecurityFacet(openFacets, changes),\n        standards: shouldOpenStandardsFacet(openFacets, changes)\n      }\n    }));\n  };\n\n  handleMyIssuesChange = (myIssues: boolean) => {\n    this.closeFacet('assignees');\n    if (!this.props.component) {\n      saveMyIssues(myIssues);\n    }\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, assigned: true, assignees: [] }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  loadSearchResultCount = (property: string, changes: Partial<Query>) => {\n    const { component } = this.props;\n    const { myIssues, query } = this.state;\n\n    const parameters = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      componentKeys: component && component.key,\n      facets: mapFacet(property),\n      s: 'FILE_LINE',\n      ...serializeQuery({ ...query, ...changes }),\n      ps: 1\n    };\n\n    if (myIssues) {\n      Object.assign(parameters, { assignees: '__me__' });\n    }\n\n    return this.props.fetchIssues(parameters).then(({ facets }) => parseFacets(facets)[property]);\n  };\n\n  closeFacet = (property: string) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [property]: false }\n    }));\n  };\n\n  handleFacetToggle = (property: string) => {\n    this.setState(state => {\n      const willOpenProperty = !state.openFacets[property];\n      const newState = {\n        loadingFacets: state.loadingFacets,\n        openFacets: { ...state.openFacets, [property]: willOpenProperty }\n      };\n\n      // Try to open sonarsource security \"subfacet\" by default if the standard facet is open\n      if (willOpenProperty && property === STANDARDS) {\n        newState.openFacets.sonarsourceSecurity = shouldOpenSonarSourceSecurityFacet(\n          newState.openFacets,\n          state.query\n        );\n        // Force loading of sonarsource security facet data\n        property = newState.openFacets.sonarsourceSecurity ? 'sonarsourceSecurity' : property;\n      }\n\n      // No need to load facets data for standard facet\n      if (property !== STANDARDS && !state.facets[property]) {\n        newState.loadingFacets[property] = true;\n        this.fetchFacet(property);\n      }\n\n      return newState;\n    });\n  };\n\n  handleReset = () => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...DEFAULT_QUERY,\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  handlePopupToggle = (issue: string, popupName: string, open?: boolean) => {\n    this.setState((state: State) => {\n      const { openPopup } = state;\n      const samePopup = openPopup && openPopup.name === popupName && openPopup.issue === issue;\n\n      if (open !== false && !samePopup) {\n        return { ...state, openPopup: { issue, name: popupName } };\n      } else if (open !== true && samePopup) {\n        return { ...state, openPopup: undefined };\n      }\n\n      return state;\n    });\n  };\n\n  handleIssueCheck = (issue: string) => {\n    this.setState(state => ({\n      checkAll: false,\n      checked: state.checked.includes(issue)\n        ? without(state.checked, issue)\n        : [...state.checked, issue]\n    }));\n  };\n\n  handleIssueChange = (issue: T.Issue) => {\n    this.refreshBranchStatus();\n    this.setState(state => ({\n      issues: state.issues.map(candidate => (candidate.key === issue.key ? issue : candidate)),\n      openIssue: state.openIssue && state.openIssue.key === issue.key ? issue : state.openIssue\n    }));\n  };\n\n  handleOpenBulkChange = () => {\n    key.setScope('issues-bulk-change');\n    this.setState({ bulkChangeModal: true });\n  };\n\n  handleCloseBulkChange = () => {\n    key.setScope('issues');\n    this.setState({ bulkChangeModal: false });\n  };\n\n  handleBulkChangeDone = () => {\n    this.setState({ checkAll: false });\n    this.refreshBranchStatus();\n    this.fetchFirstIssues();\n    this.handleCloseBulkChange();\n  };\n\n  selectLocation = (index: number) => {\n    this.setState(actions.selectLocation(index));\n  };\n\n  selectNextLocation = () => {\n    this.setState(actions.selectNextLocation);\n  };\n\n  selectPreviousLocation = () => {\n    this.setState(actions.selectPreviousLocation);\n  };\n\n  handleCheckAll = (checked: boolean) => {\n    if (checked) {\n      this.setState(state => ({\n        checkAll: true,\n        checked: state.issues.map(issue => issue.key)\n      }));\n    } else {\n      this.setState({ checkAll: false, checked: [] });\n    }\n  };\n\n  selectFlow = (index?: number) => {\n    this.setState(actions.selectFlow(index));\n  };\n\n  selectNextFlow = () => {\n    this.setState(actions.selectNextFlow);\n  };\n\n  selectPreviousFlow = () => {\n    this.setState(actions.selectPreviousFlow);\n  };\n\n  refreshBranchStatus = () => {\n    const { branchLike, component } = this.props;\n    if (branchLike && component && isPullRequest(branchLike)) {\n      this.props.fetchBranchStatus(branchLike, component.key);\n    }\n  };\n\n  renderBulkChange() {\n    const { component, currentUser } = this.props;\n    const { checkAll, bulkChangeModal, checked, issues, paging } = this.state;\n\n    const isAllChecked = checked.length > 0 && issues.length === checked.length;\n    const thirdState = checked.length > 0 && !isAllChecked;\n    const isChecked = isAllChecked || thirdState;\n\n    if (!currentUser.isLoggedIn) {\n      return null;\n    }\n\n    return (\n      <div className=\"pull-left\">\n        <Checkbox\n          checked={isChecked}\n          className=\"spacer-right text-middle\"\n          disabled={issues.length === 0}\n          id=\"issues-selection\"\n          onCheck={this.handleCheckAll}\n          thirdState={thirdState}\n          title={translate('issues.select_all_issues')}\n        />\n        <Button\n          disabled={checked.length === 0}\n          id=\"issues-bulk-change\"\n          onClick={this.handleOpenBulkChange}>\n          {this.getButtonLabel(checked, checkAll, paging)}\n        </Button>\n\n        {bulkChangeModal && (\n          <BulkChangeModal\n            component={component}\n            currentUser={currentUser}\n            fetchIssues={checkAll ? this.fetchIssues : this.getCheckedIssues}\n            onClose={this.handleCloseBulkChange}\n            onDone={this.handleBulkChangeDone}\n          />\n        )}\n      </div>\n    );\n  }\n\n  renderFacets() {\n    const { component, currentUser, branchLike } = this.props;\n    const { query } = this.state;\n\n    return (\n      <div className=\"layout-page-filters\">\n        {currentUser.isLoggedIn && !isSonarCloud() && (\n          <MyIssuesFilter\n            myIssues={this.state.myIssues}\n            onMyIssuesChange={this.handleMyIssuesChange}\n          />\n        )}\n        <FiltersHeader displayReset={this.isFiltered()} onReset={this.handleReset} />\n        <Sidebar\n          branchLike={branchLike}\n          component={component}\n          createdAfterIncludesTime={this.createdAfterIncludesTime()}\n          facets={this.state.facets}\n          loadSearchResultCount={this.loadSearchResultCount}\n          loadingFacets={this.state.loadingFacets}\n          myIssues={this.state.myIssues}\n          onFacetToggle={this.handleFacetToggle}\n          onFilterChange={this.handleFilterChange}\n          openFacets={this.state.openFacets}\n          query={query}\n          referencedComponentsById={this.state.referencedComponentsById}\n          referencedComponentsByKey={this.state.referencedComponentsByKey}\n          referencedLanguages={this.state.referencedLanguages}\n          referencedRules={this.state.referencedRules}\n          referencedUsers={this.state.referencedUsers}\n        />\n      </div>\n    );\n  }\n\n  renderConciseIssuesList() {\n    const { issues, loadingMore, paging, query } = this.state;\n\n    return (\n      <div className=\"layout-page-filters\">\n        <ConciseIssuesListHeader\n          displayBackButton={query.issues.length !== 1}\n          loading={this.state.loading}\n          onBackClick={this.closeIssue}\n        />\n        <ConciseIssuesList\n          issues={issues}\n          onFlowSelect={this.selectFlow}\n          onIssueSelect={this.openIssue}\n          onLocationSelect={this.selectLocation}\n          selected={this.state.selected}\n          selectedFlowIndex={this.state.selectedFlowIndex}\n          selectedLocationIndex={this.state.selectedLocationIndex}\n        />\n        {paging && paging.total > 0 && (\n          <ListFooter\n            count={issues.length}\n            loadMore={this.fetchMoreIssues}\n            loading={loadingMore}\n            total={paging.total}\n          />\n        )}\n      </div>\n    );\n  }\n\n  renderSide(openIssue: T.Issue | undefined) {\n    return (\n      <ScreenPositionHelper className=\"layout-page-side-outer\">\n        {({ top }) => (\n          <section\n            aria-label={openIssue ? translate('list_of_issues') : translate('filters')}\n            className=\"layout-page-side\"\n            style={{ top }}>\n            <div className=\"layout-page-side-inner\">\n              <A11ySkipTarget\n                anchor=\"issues_sidebar\"\n                label={\n                  openIssue ? translate('issues.skip_to_list') : translate('issues.skip_to_filters')\n                }\n                weight={10}\n              />\n              {openIssue ? this.renderConciseIssuesList() : this.renderFacets()}\n            </div>\n          </section>\n        )}\n      </ScreenPositionHelper>\n    );\n  }\n\n  renderList() {\n    const { branchLike, component, currentUser } = this.props;\n    const { issues, loading, loadingMore, openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    const selectedIssue = selectedIndex !== undefined ? issues[selectedIndex] : undefined;\n\n    if (!paging || openIssue) {\n      return null;\n    }\n\n    let noIssuesMessage = null;\n    if (paging.total === 0 && !loading) {\n      if (this.isFiltered()) {\n        noIssuesMessage = <EmptySearch />;\n      } else if (this.state.myIssues) {\n        noIssuesMessage = <NoMyIssues />;\n      } else {\n        noIssuesMessage = <NoIssues />;\n      }\n    }\n\n    return (\n      <div>\n        <h2 className=\"a11y-hidden\">{translate('list_of_issues')}</h2>\n        {paging.total > 0 && (\n          <IssuesList\n            branchLike={branchLike}\n            checked={this.state.checked}\n            component={component}\n            issues={issues}\n            onFilterChange={this.handleFilterChange}\n            onIssueChange={this.handleIssueChange}\n            onIssueCheck={currentUser.isLoggedIn ? this.handleIssueCheck : undefined}\n            onIssueClick={this.openIssue}\n            onPopupToggle={this.handlePopupToggle}\n            openPopup={this.state.openPopup}\n            selectedIssue={selectedIssue}\n          />\n        )}\n\n        {paging.total > 0 && (\n          <ListFooter\n            count={issues.length}\n            loadMore={this.fetchMoreIssues}\n            loading={loadingMore}\n            total={paging.total}\n          />\n        )}\n\n        {noIssuesMessage}\n      </div>\n    );\n  }\n\n  renderHeader({\n    openIssue,\n    paging,\n    selectedIndex\n  }: {\n    openIssue: T.Issue | undefined;\n    paging: T.Paging | undefined;\n    selectedIndex: number | undefined;\n  }) {\n    return openIssue ? (\n      <A11ySkipTarget anchor=\"issues_main\" />\n    ) : (\n      <div className=\"layout-page-header-panel layout-page-main-header issues-main-header\">\n        <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n          <div className=\"layout-page-main-inner\">\n            <A11ySkipTarget anchor=\"issues_main\" />\n\n            {this.renderBulkChange()}\n            <PageActions\n              canSetHome={!this.props.component}\n              effortTotal={this.state.effortTotal}\n              paging={paging}\n              selectedIndex={selectedIndex}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderPage() {\n    const { cannotShowOpenIssue, checkAll, issues, loading, openIssue, paging } = this.state;\n    return (\n      <div className=\"layout-page-main-inner\">\n        {openIssue ? (\n          <IssuesSourceViewer\n            branchLike={fillBranchLike(openIssue.branch, openIssue.pullRequest)}\n            issues={issues}\n            loadIssues={this.fetchIssuesForComponent}\n            locationsNavigator={this.state.locationsNavigator}\n            onIssueChange={this.handleIssueChange}\n            onIssueSelect={this.openIssue}\n            onLocationSelect={this.selectLocation}\n            openIssue={openIssue}\n            selectedFlowIndex={this.state.selectedFlowIndex}\n            selectedLocationIndex={this.state.selectedLocationIndex}\n          />\n        ) : (\n          <DeferredSpinner loading={loading}>\n            {checkAll && paging && paging.total > MAX_PAGE_SIZE && (\n              <Alert className=\"big-spacer-bottom\" variant=\"warning\">\n                <FormattedMessage\n                  defaultMessage={translate('issue_bulk_change.max_issues_reached')}\n                  id=\"issue_bulk_change.max_issues_reached\"\n                  values={{ max: <strong>{MAX_PAGE_SIZE}</strong> }}\n                />\n              </Alert>\n            )}\n            {cannotShowOpenIssue && (!paging || paging.total > 0) && (\n              <Alert className=\"big-spacer-bottom\" variant=\"warning\">\n                {translateWithParameters(\n                  'issues.cannot_open_issue_max_initial_X_fetched',\n                  MAX_INITAL_FETCH\n                )}\n              </Alert>\n            )}\n            {this.renderList()}\n          </DeferredSpinner>\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    const { openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    return (\n      <div className=\"layout-page issues\" id=\"issues-page\">\n        <Suggestions suggestions=\"issues\" />\n        <Helmet defer={false} title={openIssue ? openIssue.message : translate('issues.page')} />\n\n        <h1 className=\"a11y-hidden\">{translate('issues.page')}</h1>\n\n        {this.renderSide(openIssue)}\n\n        <div role=\"main\" className=\"layout-page-main\">\n          {this.renderHeader({ openIssue, paging, selectedIndex })}\n\n          {this.renderPage()}\n        </div>\n      </div>\n    );\n  }\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nrequire(\"./Checkbox.css\");\nvar Checkbox = (function (_super) {\n    __extends(Checkbox, _super);\n    function Checkbox() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(!_this.props.checked, _this.props.id);\n            }\n        };\n        return _this;\n    }\n    Checkbox.prototype.render = function () {\n        var _a = this.props, checked = _a.checked, children = _a.children, disabled = _a.disabled, id = _a.id, loading = _a.loading, right = _a.right, thirdState = _a.thirdState, title = _a.title;\n        var className = classNames('icon-checkbox', {\n            'icon-checkbox-checked': checked,\n            'icon-checkbox-single': thirdState,\n            'icon-checkbox-disabled': disabled,\n        });\n        if (children) {\n            return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('link-checkbox', this.props.className, {\n                    note: disabled,\n                    disabled: disabled,\n                }), href: \"#\", id: id, onClick: this.handleClick, role: \"checkbox\", title: title },\n                right && children,\n                React.createElement(DeferredSpinner_1.default, { loading: Boolean(loading) },\n                    React.createElement(\"i\", { className: className })),\n                !right && children));\n        }\n        if (loading) {\n            return React.createElement(DeferredSpinner_1.default, null);\n        }\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames(className, this.props.className), href: \"#\", id: id, onClick: this.handleClick, role: \"checkbox\", title: title }));\n    };\n    Checkbox.defaultProps = {\n        thirdState: false,\n    };\n    return Checkbox;\n}(React.PureComponent));\nexports.default = Checkbox;\n//# sourceMappingURL=Checkbox.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nvar qualifierIcons = {\n    app: ApplicationIcon,\n    brc: SubProjectIcon,\n    dev: DeveloperIcon,\n    dir: DirectoryIcon,\n    fil: FileIcon,\n    svw: SubPortfolioIcon,\n    trk: ProjectIcon,\n    uts: UnitTestIcon,\n    vw: PortfolioIcon,\n    cla: UnitTestIcon,\n    dev_prj: ProjectIcon,\n    lib: LibraryIcon,\n    pac: DirectoryIcon,\n};\nfunction QualifierIcon(props) {\n    if (!props.qualifier) {\n        return null;\n    }\n    var qualifier = props.qualifier.toLowerCase();\n    var FoundIcon = qualifierIcons[qualifier];\n    return FoundIcon ? React.createElement(FoundIcon, { className: props.className, fill: props.fill }) : null;\n}\nexports.default = QualifierIcon;\nfunction ApplicationIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction DeveloperIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction DirectoryIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\", style: { fill: fill || theme.colors.orange } }));\n    }));\n}\nfunction FileIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction LibraryIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction PortfolioIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction ProjectIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction SubPortfolioIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction SubProjectIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction UnitTestIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\n//# sourceMappingURL=QualifierIcon.js.map","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var baseDifference = require('./_baseDifference'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array excluding all given values using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.pull`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...*} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.xor\n * @example\n *\n * _.without([2, 1, 2, 3], 1, 2);\n * // => [3]\n */\nvar without = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, values)\n    : [];\n});\n\nmodule.exports = without;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar measures_1 = require(\"../../helpers/measures\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nvar buttons_1 = require(\"./buttons\");\nfunction ListFooter(props) {\n    var className = props.className, count = props.count, loading = props.loading, needReload = props.needReload, total = props.total, _a = props.ready, ready = _a === void 0 ? true : _a;\n    var hasMore = total && total > count;\n    var button;\n    if (needReload && props.reload) {\n        button = (React.createElement(buttons_1.Button, { className: \"spacer-left\", \"data-test\": \"reload\", disabled: loading, onClick: props.reload }, l10n_1.translate('reload')));\n    }\n    else if (hasMore && props.loadMore) {\n        button = (React.createElement(buttons_1.Button, { className: \"spacer-left\", disabled: loading, \"data-test\": \"show-more\", onClick: props.loadMore }, l10n_1.translate('show_more')));\n    }\n    return (React.createElement(\"footer\", { className: classNames('spacer-top note text-center', { 'new-loading': !ready }, className) },\n        l10n_1.translateWithParameters('x_of_y_shown', measures_1.formatMeasure(count, 'INT', null), measures_1.formatMeasure(total, 'INT', null)),\n        button,\n        loading && React.createElement(DeferredSpinner_1.default, { className: \"text-bottom spacer-left position-absolute\" })));\n}\nexports.default = ListFooter;\n//# sourceMappingURL=ListFooter.js.map","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Checkbox.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-checkbox{display:inline-block;line-height:1;vertical-align:top;padding:1px 2px;box-sizing:border-box}a.icon-checkbox{border-bottom:none}.icon-checkbox:focus{outline:none}.icon-checkbox:before{content:\\\" \\\";display:inline-block;width:10px;height:10px;border:1px solid #236a97;border-radius:2px;transition:border-color .2s ease,background-color .2s ease,background-image .2s ease,box-shadow .4s ease}.icon-checkbox:not(.icon-checkbox-disabled):focus:before,.link-checkbox:not(.disabled):focus:focus .icon-checkbox:before{box-shadow:0 0 0 3px rgba(35,106,151,.25)}.icon-checkbox-checked:before{background-color:#4b9fd5;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M12 4.665c0 .172-.06.318-.18.438l-5.55 5.55c-.12.12-.266.18-.438.18s-.318-.06-.438-.18L2.18 7.438C2.06 7.317 2 7.17 2 7s.06-.318.18-.44l.878-.876c.12-.12.267-.18.44-.18.17 0 .317.06.437.18l1.897 1.903 4.233-4.24c.12-.12.266-.18.438-.18s.32.06.44.18l.876.88c.12.12.18.265.18.438z' fill='%23fff' fill-rule='nonzero'/%3E%3C/svg%3E\\\");border-color:#4b9fd5}.icon-checkbox-checked.icon-checkbox-single:before{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M10 4.698A.697.697 0 0 0 9.302 4H4.698A.697.697 0 0 0 4 4.698v4.604c0 .386.312.698.698.698h4.604A.697.697 0 0 0 10 9.302V4.698z' fill='%23fff'/%3E%3C/svg%3E\\\")}.icon-checkbox-disabled:before{border:1px solid #bbb;cursor:not-allowed}.icon-checkbox-disabled.icon-checkbox-checked:before{background-color:#bbb}.icon-checkbox-invisible{visibility:hidden}.link-checkbox{color:inherit;border-bottom:none}.link-checkbox.disabled,.link-checkbox.disabled:hover,.link-checkbox.disabled label{color:#666;cursor:not-allowed}.link-checkbox:active,.link-checkbox:focus,.link-checkbox:hover{color:inherit}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nexports.formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\nexports.longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\nfunction DateFormatter(_a) {\n    var children = _a.children, date = _a.date, long = _a.long;\n    return (React.createElement(react_intl_1.FormattedDate, __assign({ value: dates_1.parseDate(date) }, (long ? exports.longFormatterOption : exports.formatterOption)), children));\n}\nexports.default = DateFormatter;\n//# sourceMappingURL=DateFormatter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar date_fns_1 = require(\"date-fns\");\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar DateTimeFormatter_1 = require(\"./DateTimeFormatter\");\nfunction DateFromNow(props) {\n    var _a = props.children, originalChildren = _a === void 0 ? function (f) { return f; } : _a, date = props.date, hourPrecision = props.hourPrecision;\n    var children = originalChildren;\n    if (!date) {\n        return React.createElement(React.Fragment, null, originalChildren(l10n_1.translate('never')));\n    }\n    if (date && hourPrecision && date_fns_1.differenceInHours(Date.now(), date) < 1) {\n        children = function () { return originalChildren(l10n_1.translate('less_than_1_hour_ago')); };\n    }\n    var parsedDate = dates_1.parseDate(date);\n    return (React.createElement(DateTimeFormatter_1.default, { date: parsedDate }, function (formattedDate) { return (React.createElement(\"span\", { title: formattedDate },\n        React.createElement(react_intl_1.FormattedRelative, { value: parsedDate }, children))); }));\n}\nexports.default = DateFromNow;\n//# sourceMappingURL=DateFromNow.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar IssueIcon_1 = require(\"./IssueIcon\");\nfunction IssueTypeIcon(_a) {\n    var query = _a.query, iconProps = __rest(_a, [\"query\"]);\n    var type;\n    switch (query.toLowerCase()) {\n        case 'bug':\n        case 'bugs':\n        case 'new_bugs':\n            type = 'BUG';\n            break;\n        case 'vulnerability':\n        case 'vulnerabilities':\n        case 'new_vulnerabilities':\n            type = 'VULNERABILITY';\n            break;\n        case 'code_smell':\n        case 'code_smells':\n        case 'new_code_smells':\n            type = 'CODE_SMELL';\n            break;\n        case 'security_hotspot':\n        case 'security_hotspots':\n        case 'new_security_hotspots':\n            type = 'SECURITY_HOTSPOT';\n            break;\n        default:\n            return null;\n    }\n    return React.createElement(IssueIcon_1.default, __assign({ type: type }, iconProps));\n}\nexports.default = IssueTypeIcon;\n//# sourceMappingURL=IssueTypeIcon.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction DetachIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M12 9.25v2.5A2.25 2.25 0 0 1 9.75 14h-6.5A2.25 2.25 0 0 1 1 11.75v-6.5A2.25 2.25 0 0 1 3.25 3h5.5c.14 0 .25.11.25.25v.5c0 .14-.11.25-.25.25h-5.5C2.562 4 2 4.563 2 5.25v6.5c0 .688.563 1.25 1.25 1.25h6.5c.688 0 1.25-.563 1.25-1.25v-2.5c0-.14.11-.25.25-.25h.5c.14 0 .25.11.25.25zm3-6.75v4c0 .273-.227.5-.5.5a.497.497 0 0 1-.352-.148l-1.375-1.375L7.68 10.57a.27.27 0 0 1-.18.078.27.27 0 0 1-.18-.078l-.89-.89a.27.27 0 0 1-.078-.18.27.27 0 0 1 .078-.18l5.093-5.093-1.375-1.375A.497.497 0 0 1 10 2.5c0-.273.227-.5.5-.5h4c.273 0 .5.227.5.5z\", style: { fill: fill } })));\n}\nexports.default = DetachIcon;\n//# sourceMappingURL=DetachIcon.js.map","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  severity: string;\n}\n\nexport default function SeverityHelper({ className, severity }: Props) {\n  if (!severity) {\n    return null;\n  }\n  return (\n    <span className={className}>\n      <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n      {translate('severity', severity)}\n    </span>\n  );\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./Radio.css\");\nvar Radio = (function (_super) {\n    __extends(Radio, _super);\n    function Radio() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(_this.props.value);\n            }\n        };\n        return _this;\n    }\n    Radio.prototype.render = function () {\n        var _a = this.props, className = _a.className, checked = _a.checked, children = _a.children, disabled = _a.disabled;\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('display-inline-flex-center link-radio', className, { disabled: disabled }), href: \"#\", onClick: this.handleClick, role: \"radio\" },\n            React.createElement(\"i\", { className: classNames('icon-radio', 'spacer-right', { 'is-checked': checked }) }),\n            children));\n    };\n    return Radio;\n}(React.PureComponent));\nexports.default = Radio;\n//# sourceMappingURL=Radio.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Radio.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nimport { sanitize } from 'dompurify';\n\nexport function sanitizeStringRestricted(html: string) {\n  return sanitize(html, {\n    ALLOWED_TAGS: ['b', 'br', 'code', 'i', 'li', 'p', 'strong', 'ul', 'a'],\n    ALLOWED_ATTR: ['target', 'href']\n  });\n}\n\nexport function sanitizeString(html: string) {\n  return sanitize(html, { USE_PROFILES: { html: true } });\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:\\\"\\\";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction TagsIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M4.303 5.36a.94.94 0 0 0-.944-.945.94.94 0 0 0-.944.944c0 .524.42.944.944.944a.94.94 0 0 0 .944-.944zm7.866 4.246a.95.95 0 0 1-.273.663l-3.62 3.627a.95.95 0 0 1-1.334 0L1.671 8.618C1.295 8.249 1 7.534 1 7.01V3.944A.95.95 0 0 1 1.944 3H5.01c.523 0 1.238.295 1.614.67l5.271 5.265a.98.98 0 0 1 .273.67zm2.831 0a.95.95 0 0 1-.273.663l-3.62 3.627a.98.98 0 0 1-.67.273c-.384 0-.575-.177-.826-.435l3.465-3.465a.95.95 0 0 0 0-1.334L7.805 3.67C7.429 3.295 6.714 3 6.19 3h1.651c.524 0 1.239.295 1.615.67l5.271 5.265a.98.98 0 0 1 .273.67z\", style: { fill: fill } })));\n}\nexports.default = TagsIcon;\n//# sourceMappingURL=TagsIcon.js.map","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    basePickBy = require('./_basePickBy'),\n    getAllKeysIn = require('./_getAllKeysIn');\n\n/**\n * Creates an object composed of the `object` properties `predicate` returns\n * truthy for. The predicate is invoked with two arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pickBy(object, _.isNumber);\n * // => { 'a': 1, 'c': 3 }\n */\nfunction pickBy(object, predicate) {\n  if (object == null) {\n    return {};\n  }\n  var props = arrayMap(getAllKeysIn(object), function(prop) {\n    return [prop];\n  });\n  predicate = baseIteratee(predicate);\n  return basePickBy(object, props, function(value, path) {\n    return predicate(value, path[0]);\n  });\n}\n\nmodule.exports = pickBy;\n","(function(module) {\n    'use strict';\n\n    module.exports.is_uri = is_iri;\n    module.exports.is_http_uri = is_http_iri;\n    module.exports.is_https_uri = is_https_iri;\n    module.exports.is_web_uri = is_web_iri;\n    // Create aliases\n    module.exports.isUri = is_iri;\n    module.exports.isHttpUri = is_http_iri;\n    module.exports.isHttpsUri = is_https_iri;\n    module.exports.isWebUri = is_web_iri;\n\n\n    // private function\n    // internal URI spitter method - direct from RFC 3986\n    var splitUri = function(uri) {\n        var splitted = uri.match(/(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?/);\n        return splitted;\n    };\n\n    function is_iri(value) {\n        if (!value) {\n            return;\n        }\n\n        // check for illegal characters\n        if (/[^a-z0-9\\:\\/\\?\\#\\[\\]\\@\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=\\.\\-\\_\\~\\%]/i.test(value)) return;\n\n        // check for hex escapes that aren't complete\n        if (/%[^0-9a-f]/i.test(value)) return;\n        if (/%[0-9a-f](:?[^0-9a-f]|$)/i.test(value)) return;\n\n        var splitted = [];\n        var scheme = '';\n        var authority = '';\n        var path = '';\n        var query = '';\n        var fragment = '';\n        var out = '';\n\n        // from RFC 3986\n        splitted = splitUri(value);\n        scheme = splitted[1]; \n        authority = splitted[2];\n        path = splitted[3];\n        query = splitted[4];\n        fragment = splitted[5];\n\n        // scheme and path are required, though the path can be empty\n        if (!(scheme && scheme.length && path.length >= 0)) return;\n\n        // if authority is present, the path must be empty or begin with a /\n        if (authority && authority.length) {\n            if (!(path.length === 0 || /^\\//.test(path))) return;\n        } else {\n            // if authority is not present, the path must not start with //\n            if (/^\\/\\//.test(path)) return;\n        }\n\n        // scheme must begin with a letter, then consist of letters, digits, +, ., or -\n        if (!/^[a-z][a-z0-9\\+\\-\\.]*$/.test(scheme.toLowerCase()))  return;\n\n        // re-assemble the URL per section 5.3 in RFC 3986\n        out += scheme + ':';\n        if (authority && authority.length) {\n            out += '//' + authority;\n        }\n\n        out += path;\n\n        if (query && query.length) {\n            out += '?' + query;\n        }\n\n        if (fragment && fragment.length) {\n            out += '#' + fragment;\n        }\n\n        return out;\n    }\n\n    function is_http_iri(value, allowHttps) {\n        if (!is_iri(value)) {\n            return;\n        }\n\n        var splitted = [];\n        var scheme = '';\n        var authority = '';\n        var path = '';\n        var port = '';\n        var query = '';\n        var fragment = '';\n        var out = '';\n\n        // from RFC 3986\n        splitted = splitUri(value);\n        scheme = splitted[1]; \n        authority = splitted[2];\n        path = splitted[3];\n        query = splitted[4];\n        fragment = splitted[5];\n\n        if (!scheme)  return;\n\n        if(allowHttps) {\n            if (scheme.toLowerCase() != 'https') return;\n        } else {\n            if (scheme.toLowerCase() != 'http') return;\n        }\n\n        // fully-qualified URIs must have an authority section that is\n        // a valid host\n        if (!authority) {\n            return;\n        }\n\n        // enable port component\n        if (/:(\\d+)$/.test(authority)) {\n            port = authority.match(/:(\\d+)$/)[0];\n            authority = authority.replace(/:\\d+$/, '');\n        }\n\n        out += scheme + ':';\n        out += '//' + authority;\n        \n        if (port) {\n            out += port;\n        }\n        \n        out += path;\n        \n        if(query && query.length){\n            out += '?' + query;\n        }\n\n        if(fragment && fragment.length){\n            out += '#' + fragment;\n        }\n        \n        return out;\n    }\n\n    function is_https_iri(value) {\n        return is_http_iri(value, true);\n    }\n\n    function is_web_iri(value) {\n        return (is_http_iri(value) || is_https_iri(value));\n    }\n\n})(module);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CLASS_SIDEBAR_PAGE = 'sidebar-page';\nvar CLASS_WHITE_PAGE = 'white-page';\nvar CLASS_NO_FOOTER_PAGE = 'no-footer-page';\nfunction addSideBarClass() {\n    toggleBodyClass(CLASS_SIDEBAR_PAGE, true);\n}\nexports.addSideBarClass = addSideBarClass;\nfunction addWhitePageClass() {\n    toggleBodyClass(CLASS_WHITE_PAGE, true);\n}\nexports.addWhitePageClass = addWhitePageClass;\nfunction addNoFooterPageClass() {\n    console.warn('DEPRECATED: addNoFooterPageClass() was deprecated.');\n    toggleBodyClass(CLASS_NO_FOOTER_PAGE, true);\n}\nexports.addNoFooterPageClass = addNoFooterPageClass;\nfunction removeSideBarClass() {\n    toggleBodyClass(CLASS_SIDEBAR_PAGE, false);\n}\nexports.removeSideBarClass = removeSideBarClass;\nfunction removeWhitePageClass() {\n    toggleBodyClass(CLASS_WHITE_PAGE, false);\n}\nexports.removeWhitePageClass = removeWhitePageClass;\nfunction removeNoFooterPageClass() {\n    console.warn('DEPRECATED: removeNoFooterPageClass() was deprecated.');\n    toggleBodyClass(CLASS_NO_FOOTER_PAGE, false);\n}\nexports.removeNoFooterPageClass = removeNoFooterPageClass;\nfunction toggleBodyClass(className, force) {\n    document.body.classList.toggle(className, force);\n    if (document.documentElement) {\n        document.documentElement.classList.toggle(className, force);\n    }\n}\n//# sourceMappingURL=pages.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronDownIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\", style: { fill: fill } })));\n}\nexports.default = ChevronDownIcon;\n//# sourceMappingURL=ChevronDownIcon.js.map","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar BugIcon_1 = require(\"./BugIcon\");\nvar CodeSmellIcon_1 = require(\"./CodeSmellIcon\");\nvar SecurityHotspotIcon_1 = require(\"./SecurityHotspotIcon\");\nvar VulnerabilityIcon_1 = require(\"./VulnerabilityIcon\");\nfunction IssueIcon(_a) {\n    var type = _a.type, iconProps = __rest(_a, [\"type\"]);\n    switch (type) {\n        case 'BUG':\n            return React.createElement(BugIcon_1.default, __assign({}, iconProps));\n        case 'VULNERABILITY':\n            return React.createElement(VulnerabilityIcon_1.default, __assign({}, iconProps));\n        case 'CODE_SMELL':\n            return React.createElement(CodeSmellIcon_1.default, __assign({}, iconProps));\n        case 'SECURITY_HOTSPOT':\n            return React.createElement(SecurityHotspotIcon_1.default, __assign({}, iconProps));\n        default:\n            return null;\n    }\n}\nexports.default = IssueIcon;\n//# sourceMappingURL=IssueIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce } from 'lodash';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nvar severityIcons = {\n    blocker: BlockerSeverityIcon,\n    critical: CriticalSeverityIcon,\n    major: MajorSeverityIcon,\n    minor: MinorSeverityIcon,\n    info: InfoSeverityIcon,\n};\nfunction SeverityIcon(_a) {\n    var severity = _a.severity, iconProps = __rest(_a, [\"severity\"]);\n    if (!severity) {\n        return null;\n    }\n    var Icon = severityIcons[severity.toLowerCase()];\n    return Icon ? React.createElement(Icon, __assign({}, iconProps)) : null;\n}\nexports.default = SeverityIcon;\nfunction BlockerSeverityIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 14c-3.311 0-6-2.689-6-6s2.689-6 6-6 6 2.689 6 6-2.689 6-6 6zM7 9h2V4H7v5zm0 3h2v-2H7v2z\", style: { fill: theme.colors.red, fillRule: 'nonzero' } }));\n    }));\n}\nfunction CriticalSeverityIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 2c3.311 0 6 2.689 6 6s-2.689 6-6 6-6-2.689-6-6 2.689-6 6-6zm1 10V7.414l1.893 1.893c.13.124.282.216.457.261a1.006 1.006 0 0 0 1.176-.591 1.01 1.01 0 0 0 .01-.729 1.052 1.052 0 0 0-.229-.355c-1.212-1.212-2.394-2.456-3.638-3.636a1.073 1.073 0 0 0-.169-.123 1.05 1.05 0 0 0-.448-.133h-.104a1.053 1.053 0 0 0-.493.16 1.212 1.212 0 0 0-.162.132C6.08 5.505 4.836 6.687 3.656 7.932a.994.994 0 0 0-.051 1.275c.208.271.548.42.888.389.198-.019.378-.098.535-.218.041-.035.04-.034.079-.071L7 7.414V12h2z\", style: { fill: theme.colors.red, fillRule: 'nonzero' } }));\n    }));\n}\nfunction MajorSeverityIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 2c3.311 0 6 2.689 6 6s-2.689 6-6 6-6-2.689-6-6 2.689-6 6-6zm.08 2.903c.071.008.14.019.208.039.138.042.26.114.37.205 1.244 1.146 2.426 2.357 3.639 3.536.1.103.181.218.234.352a1.01 1.01 0 0 1 .001.728 1.002 1.002 0 0 1-1.169.609 1.042 1.042 0 0 1-.46-.255L8 7.295l-2.903 2.822c-.039.036-.039.036-.08.07a1.002 1.002 0 0 1-1.604-.947c.032-.196.122-.37.253-.519C4.847 7.51 6.09 6.362 7.303 5.183c.052-.048.106-.093.167-.131a1.041 1.041 0 0 1 .61-.149z\", style: { fill: theme.colors.red } }));\n    }));\n}\nfunction MinorSeverityIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 2c3.311 0 6 2.689 6 6s-2.689 6-6 6-6-2.689-6-6 2.689-6 6-6zm1 6.586V4H7v4.586L5.107 6.693a1.178 1.178 0 0 0-.165-.134 1.041 1.041 0 0 0-.662-.152 1 1 0 0 0-.587 1.7c1.212 1.212 2.394 2.456 3.638 3.636.094.08.195.146.311.191a1.008 1.008 0 0 0 1.065-.227c1.213-1.212 2.457-2.394 3.637-3.639a.994.994 0 0 0 .051-1.275 1.012 1.012 0 0 0-.888-.389 1.041 1.041 0 0 0-.535.218c-.04.034-.04.034-.079.071L9 8.586z\", style: { fill: theme.colors.lightGreen } }));\n    }));\n}\nfunction InfoSeverityIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 2c3.311 0 6 2.689 6 6s-2.689 6-6 6-6-2.689-6-6 2.689-6 6-6zm1 5H7v5h2V7zm0-3H7v2h2V4z\", style: { fill: theme.colors.blue } }));\n    }));\n}\n//# sourceMappingURL=SeverityIcon.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ChevronDownIcon_1 = require(\"./ChevronDownIcon\");\nvar ChevronRightIcon_1 = require(\"./ChevronRightIcon\");\nfunction OpenCloseIcon(_a) {\n    var open = _a.open, iconProps = __rest(_a, [\"open\"]);\n    return open ? React.createElement(ChevronDownIcon_1.default, __assign({}, iconProps)) : React.createElement(ChevronRightIcon_1.default, __assign({}, iconProps));\n}\nexports.default = OpenCloseIcon;\n//# sourceMappingURL=OpenCloseIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport OpenCloseIcon from 'sonar-ui-common/components/icons/OpenCloseIcon';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  fetching?: boolean;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper display-flex-center\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {this.props.fetching && (\n          <span className=\"little-spacer-right\">\n            <DeferredSpinner />\n          </span>\n        )}\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate('clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip?: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n  title?: string;\n}\n\nexport default function FacetItemsList({ children, title }: Props) {\n  return (\n    <div className=\"search-navigator-facet-list\">\n      {title && <div className=\"search-navigator-facet-list-title\">{title}</div>}\n      {children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface MultiSelectOptionProps {\n  active?: boolean;\n  custom?: boolean;\n  disabled?: boolean;\n  element: string;\n  onHover: (element: string) => void;\n  onSelectChange: (selected: boolean, element: string) => void;\n  renderLabel: (element: string) => React.ReactNode;\n  selected?: boolean;\n}\n\nexport default function MultiSelectOption(props: MultiSelectOptionProps) {\n  const { active, custom, disabled, element, selected } = props;\n  const onHover = () => props.onHover(element);\n  const className = classNames({ active, disabled });\n  const label = props.renderLabel(element);\n\n  return (\n    <li onFocus={onHover} onMouseOver={onHover}>\n      <Checkbox\n        checked={Boolean(selected)}\n        className={className}\n        disabled={disabled}\n        id={element}\n        onCheck={props.onSelectChange}>\n        {custom ? (\n          <span\n            aria-label={`${translate('create_new_element')}: ${label}`}\n            className=\"little-spacer-left\">\n            <span aria-hidden={true} className=\"little-spacer-right\">\n              +\n            </span>\n            {label}\n          </span>\n        ) : (\n          <span className=\"little-spacer-left\">{label}</span>\n        )}\n      </Checkbox>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { difference } from 'lodash';\nimport * as React from 'react';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelectOption from './MultiSelectOption';\n\ninterface Props {\n  allowNewElements?: boolean;\n  allowSelection?: boolean;\n  elements: string[];\n  filterSelected?: (query: string, selectedElements: string[]) => string[];\n  footerNode?: React.ReactNode;\n  listSize?: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  placeholder: string;\n  renderLabel?: (element: string) => React.ReactNode;\n  selectedElements: string[];\n  validateSearchInput?: (value: string) => string;\n}\n\ninterface State {\n  activeIdx: number;\n  loading: boolean;\n  query: string;\n  selectedElements: string[];\n  unselectedElements: string[];\n}\n\ninterface DefaultProps {\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  listSize: number;\n  renderLabel: (element: string) => React.ReactNode;\n  validateSearchInput: (value: string) => string;\n}\n\ntype PropsWithDefault = Props & DefaultProps;\n\nexport default class MultiSelect extends React.PureComponent<Props, State> {\n  container?: HTMLDivElement | null;\n  searchInput?: HTMLInputElement | null;\n  mounted = false;\n\n  static defaultProps: DefaultProps = {\n    filterSelected: (query: string, selectedElements: string[]) =>\n      selectedElements.filter(elem => elem.includes(query)),\n    listSize: 0,\n    renderLabel: (element: string) => element,\n    validateSearchInput: (value: string) => value\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      activeIdx: 0,\n      loading: true,\n      query: '',\n      selectedElements: [],\n      unselectedElements: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.onSearchQuery('');\n    this.updateSelectedElements(this.props as PropsWithDefault);\n    this.updateUnselectedElements(this.props as PropsWithDefault);\n    if (this.container) {\n      this.container.addEventListener('keydown', this.handleKeyboard, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: PropsWithDefault) {\n    if (\n      this.props.elements !== nextProps.elements ||\n      this.props.selectedElements !== nextProps.selectedElements\n    ) {\n      this.updateSelectedElements(nextProps);\n      this.updateUnselectedElements(nextProps);\n\n      const totalElements = this.getAllElements(nextProps, this.state).length;\n      if (this.state.activeIdx >= totalElements) {\n        this.setState({ activeIdx: totalElements - 1 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.searchInput) {\n      this.searchInput.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.container) {\n      this.container.removeEventListener('keydown', this.handleKeyboard);\n    }\n  }\n\n  handleSelectChange = (selected: boolean, item: string) => {\n    if (selected) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  handleSearchChange = (value: string) => {\n    this.onSearchQuery((this.props as PropsWithDefault).validateSearchInput(value));\n  };\n\n  handleElementHover = (element: string) => {\n    this.setState((prevState, props) => {\n      return { activeIdx: this.getAllElements(props, prevState).indexOf(element) };\n    });\n  };\n\n  handleKeyboard = (evt: KeyboardEvent) => {\n    switch (evt.keyCode) {\n      case 40: // down\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectNextElement);\n        break;\n      case 38: // up\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectPreviousElement);\n        break;\n      case 37: // left\n      case 39: // right\n        evt.stopPropagation();\n        break;\n      case 13: // enter\n        if (this.state.activeIdx >= 0) {\n          this.toggleSelect(this.getAllElements(this.props, this.state)[this.state.activeIdx]);\n        }\n        break;\n    }\n  };\n\n  onSearchQuery = (query: string) => {\n    this.setState({ activeIdx: 0, loading: true, query });\n    this.props.onSearch(query).then(this.stopLoading, this.stopLoading);\n  };\n\n  onSelectItem = (item: string) => {\n    if (this.isNewElement(item, this.props)) {\n      this.onSearchQuery('');\n    }\n    this.props.onSelect(item);\n  };\n\n  onUnselectItem = (item: string) => this.props.onUnselect(item);\n\n  isNewElement = (elem: string, { selectedElements, elements }: Props) =>\n    elem.length > 0 && selectedElements.indexOf(elem) === -1 && elements.indexOf(elem) === -1;\n\n  updateSelectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (state.query) {\n        return {\n          selectedElements: props.filterSelected(state.query, props.selectedElements)\n        };\n      } else {\n        return { selectedElements: [...props.selectedElements] };\n      }\n    });\n  };\n\n  updateUnselectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (props.listSize === 0) {\n        return { unselectedElements: difference(props.elements, props.selectedElements) };\n      } else if (props.listSize < state.selectedElements.length) {\n        return { unselectedElements: [] };\n      } else {\n        return {\n          unselectedElements: difference(props.elements, props.selectedElements).slice(\n            0,\n            props.listSize - state.selectedElements.length\n          )\n        };\n      }\n    });\n  };\n\n  getAllElements = (props: Props, state: State) => {\n    if (this.isNewElement(state.query, props)) {\n      return [...state.selectedElements, ...state.unselectedElements, state.query];\n    } else {\n      return [...state.selectedElements, ...state.unselectedElements];\n    }\n  };\n\n  setElementActive = (idx: number) => this.setState({ activeIdx: idx });\n\n  selectNextElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx < 0 || activeIdx >= allElements.length - 1) {\n      return { activeIdx: 0 };\n    } else {\n      return { activeIdx: activeIdx + 1 };\n    }\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx <= 0) {\n      const lastIdx = allElements.length - 1;\n      return { activeIdx: lastIdx };\n    } else {\n      return { activeIdx: activeIdx - 1 };\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  toggleSelect = (item: string) => {\n    if (this.props.selectedElements.indexOf(item) === -1) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  render() {\n    const { allowSelection = true, allowNewElements = true, footerNode = '' } = this.props;\n    const { renderLabel } = this.props as PropsWithDefault;\n    const { query, activeIdx, selectedElements, unselectedElements } = this.state;\n    const activeElement = this.getAllElements(this.props, this.state)[activeIdx];\n    const showNewElement = allowNewElements && this.isNewElement(query, this.props);\n    const infiniteList = this.props.listSize === 0;\n    const listClasses = classNames('menu', {\n      'menu-vertically-limited': infiniteList,\n      'spacer-top': infiniteList,\n      'with-top-separator': infiniteList,\n      'with-bottom-separator': Boolean(footerNode)\n    });\n\n    return (\n      <div className=\"multi-select\" ref={div => (this.container = div)}>\n        <div className=\"menu-search\">\n          <SearchBox\n            autoFocus={true}\n            className=\"little-spacer-top\"\n            loading={this.state.loading}\n            onChange={this.handleSearchChange}\n            placeholder={this.props.placeholder}\n            value={query}\n          />\n        </div>\n        <ul className={listClasses}>\n          {selectedElements.length > 0 &&\n            selectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n                selected={true}\n              />\n            ))}\n          {unselectedElements.length > 0 &&\n            unselectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                disabled={!allowSelection}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n              />\n            ))}\n          {showNewElement && (\n            <MultiSelectOption\n              active={activeElement === query}\n              custom={true}\n              element={query}\n              key={query}\n              onHover={this.handleElementHover}\n              onSelectChange={this.handleSelectChange}\n              renderLabel={renderLabel}\n            />\n          )}\n          {!showNewElement && selectedElements.length < 1 && unselectedElements.length < 1 && (\n            <li className=\"spacer-left\">{translateWithParameters('no_results_for_x', query)}</li>\n          )}\n        </ul>\n        {footerNode}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport DetachIcon from 'sonar-ui-common/components/icons/DetachIcon';\nimport { isWebUri } from 'valid-url';\n\nexport interface DocumentationTooltipProps {\n  children?: React.ReactNode;\n  className?: string;\n  content?: React.ReactNode;\n  links?: Array<{ href: string; label: string; inPlace?: boolean }>;\n  title?: string;\n}\n\nexport default function DocumentationTooltip(props: DocumentationTooltipProps) {\n  const { className, content, links, title } = props;\n\n  return (\n    <HelpTooltip\n      className={className}\n      overlay={\n        <div className=\"big-padded-top big-padded-bottom\">\n          {title && (\n            <div className=\"spacer-bottom\">\n              <strong>{title}</strong>\n            </div>\n          )}\n\n          {content && <p>{content}</p>}\n\n          {links && (\n            <>\n              <hr className=\"big-spacer-top big-spacer-bottom\" />\n\n              {links.map(({ href, label, inPlace }) => (\n                <div className=\"little-spacer-bottom\" key={label}>\n                  {inPlace ? (\n                    <Link to={href}>\n                      <span>{label}</span>\n                    </Link>\n                  ) : (\n                    <a\n                      className=\"display-inline-flex-center link-with-icon\"\n                      href={href}\n                      rel=\"noopener noreferrer\"\n                      target=\"_blank\">\n                      {isWebUri(href) && <DetachIcon size={14} className=\"spacer-right\" />}\n                      <span>{label}</span>\n                    </a>\n                  )}\n                </div>\n              ))}\n            </>\n          )}\n        </div>\n      }>\n      {props.children}\n    </HelpTooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport './TagsList.css';\n\ninterface Props {\n  allowUpdate?: boolean;\n  className?: string;\n  tags: string[];\n}\n\nexport default function TagsList({ allowUpdate = false, className, tags }: Props) {\n  return (\n    <span\n      aria-label={translateWithParameters('tags_list_x', tags.join(', '))}\n      className={classNames('tags-list', className)}>\n      <TagsIcon className=\"text-middle\" />\n      <span aria-hidden={true} className=\"text-ellipsis text-middle\" title={tags.join(', ')}>\n        {tags.join(', ')}\n      </span>\n      {allowUpdate && <DropdownIcon className=\"text-middle\" />}\n    </span>\n  );\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction LinkIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"g\", { transform: \"matrix(0.823497,0,0,0.823497,1.47008,1.4122)\" },\n            React.createElement(\"path\", { d: \"M13.501,11.429C13.501,11.191 13.418,10.989 13.251,10.822L11.394,8.965C11.227,8.798 11.025,8.715 10.787,8.715C10.537,8.715 10.323,8.81 10.144,9.001C10.162,9.019 10.219,9.074 10.314,9.166C10.409,9.258 10.473,9.322 10.506,9.358C10.539,9.394 10.583,9.451 10.64,9.528C10.697,9.605 10.735,9.681 10.756,9.756C10.777,9.831 10.787,9.913 10.787,10.002C10.787,10.24 10.704,10.442 10.537,10.609C10.37,10.776 10.168,10.859 9.93,10.859C9.841,10.859 9.759,10.849 9.684,10.828C9.609,10.807 9.533,10.769 9.456,10.712C9.379,10.655 9.322,10.611 9.286,10.578C9.25,10.545 9.186,10.481 9.094,10.386C9.002,10.291 8.947,10.234 8.929,10.216C8.732,10.401 8.634,10.618 8.634,10.868C8.634,11.106 8.717,11.308 8.884,11.475L10.723,13.323C10.884,13.484 11.086,13.564 11.33,13.564C11.568,13.564 11.77,13.487 11.937,13.332L13.25,12.028C13.417,11.861 13.5,11.662 13.5,11.43L13.501,11.429ZM7.224,5.134C7.224,4.896 7.141,4.694 6.974,4.527L5.135,2.679C4.968,2.512 4.766,2.429 4.528,2.429C4.296,2.429 4.094,2.509 3.921,2.67L2.608,3.974C2.441,4.141 2.358,4.34 2.358,4.572C2.358,4.81 2.441,5.012 2.608,5.179L4.465,7.036C4.626,7.197 4.828,7.277 5.072,7.277C5.322,7.277 5.536,7.185 5.715,7C5.697,6.982 5.64,6.927 5.545,6.835C5.45,6.743 5.386,6.679 5.353,6.643C5.32,6.607 5.276,6.55 5.219,6.473C5.162,6.396 5.124,6.32 5.103,6.245C5.082,6.17 5.072,6.088 5.072,5.999C5.072,5.761 5.155,5.559 5.322,5.392C5.489,5.225 5.691,5.142 5.929,5.142C6.018,5.142 6.1,5.152 6.175,5.173C6.25,5.194 6.326,5.232 6.403,5.289C6.48,5.346 6.537,5.39 6.573,5.423C6.609,5.456 6.673,5.52 6.765,5.615C6.857,5.71 6.912,5.767 6.93,5.785C7.127,5.6 7.225,5.383 7.225,5.133L7.224,5.134ZM15.215,11.429C15.215,12.143 14.962,12.747 14.456,13.242L13.143,14.546C12.649,15.04 12.045,15.287 11.33,15.287C10.61,15.287 10.003,15.034 9.509,14.528L7.67,12.68C7.176,12.186 6.929,11.582 6.929,10.867C6.929,10.135 7.191,9.513 7.715,9.001L6.929,8.215C6.417,8.739 5.798,9.001 5.072,9.001C4.358,9.001 3.751,8.751 3.251,8.251L1.394,6.394C0.894,5.894 0.644,5.287 0.644,4.573C0.644,3.859 0.897,3.255 1.403,2.76L2.716,1.456C3.21,0.962 3.814,0.715 4.529,0.715C5.249,0.715 5.856,0.968 6.35,1.474L8.189,3.322C8.683,3.816 8.93,4.42 8.93,5.135C8.93,5.867 8.668,6.489 8.144,7.001L8.93,7.787C9.442,7.263 10.061,7.001 10.787,7.001C11.501,7.001 12.108,7.251 12.608,7.751L14.465,9.608C14.965,10.108 15.215,10.715 15.215,11.429L15.215,11.429Z\", style: { fill: fill } }))));\n}\nexports.default = LinkIcon;\n//# sourceMappingURL=LinkIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getFormattingHelpUrl } from '../../helpers/urls';\n\ninterface Props {\n  className?: string;\n}\n\nexport default class FormattingTips extends React.PureComponent<Props> {\n  handleClick(evt: React.SyntheticEvent<HTMLAnchorElement>) {\n    evt.preventDefault();\n    window.open(\n      getFormattingHelpUrl(),\n      'Formatting',\n      'height=300,width=600,scrollbars=1,resizable=1'\n    );\n  }\n\n  render() {\n    return (\n      <div className={classNames('markdown-tips', this.props.className)}>\n        <a className=\"little-spacer-right\" href=\"#\" onClick={this.handleClick}>\n          {translate('formatting.helplink')}\n        </a>\n        {':'}\n        <span className=\"spacer-left\">*{translate('bold')}*</span>\n        <span className=\"spacer-left\">\n          ``\n          {translate('code')}\n          ``\n        </span>\n        <span className=\"spacer-left\">* {translate('bulleted_point')}</span>\n      </div>\n    );\n  }\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".tags-list{white-space:nowrap;line-height:16px}.tags-list i:before{font-size:12px}.tags-list span{display:inline-block;vertical-align:middle;text-align:left;max-width:220px;padding-left:4px;padding-right:4px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronLeftIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M4.404 8.28l4.604 4.602a.382.382 0 0 0 .279.118c.108 0 .2-.04.279-.118l1.03-1.03a.382.382 0 0 0 .117-.278.382.382 0 0 0-.117-.28L7.3 8l3.295-3.294a.382.382 0 0 0 .117-.28.382.382 0 0 0-.117-.279l-1.03-1.03A.382.382 0 0 0 9.286 3a.382.382 0 0 0-.278.118L4.404 7.72A.382.382 0 0 0 4.287 8c0 .108.04.201.117.28z\", style: { fill: fill } })));\n}\nexports.default = ChevronLeftIcon;\n//# sourceMappingURL=ChevronLeftIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  className?: string;\n  count: number;\n  showMore: () => void;\n  showLess: (() => void) | undefined;\n  total: number;\n}\n\nexport default class ListStyleFacetFooter extends React.PureComponent<Props> {\n  handleShowMoreClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.showMore();\n  };\n\n  handleShowLessClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.showLess) {\n      this.props.showLess();\n    }\n  };\n\n  render() {\n    const { count, total } = this.props;\n    const hasMore = total > count;\n    const allShown = Boolean(total && total === count);\n\n    return (\n      <footer className=\"note spacer-top spacer-bottom text-center\">\n        {translateWithParameters('x_show', formatMeasure(count, 'INT', null))}\n\n        {hasMore && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowMoreClick}>\n            {translate('show_more')}\n          </a>\n        )}\n\n        {this.props.showLess && allShown && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowLessClick}>\n            {translate('show_less')}\n          </a>\n        )}\n      </footer>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { queriesEqual } from 'sonar-ui-common/helpers/query';\nimport FacetBox from './FacetBox';\nimport FacetHeader from './FacetHeader';\nimport FacetItem from './FacetItem';\nimport FacetItemsList from './FacetItemsList';\nimport ListStyleFacetFooter from './ListStyleFacetFooter';\nimport MultipleSelectionHint from './MultipleSelectionHint';\n\ninterface SearchResponse<S> {\n  maxResults?: boolean;\n  results: S[];\n  paging?: T.Paging;\n}\n\nexport interface Props<S> {\n  className?: string;\n  disabled?: boolean;\n  disabledHelper?: string;\n  facetHeader: string;\n  fetching: boolean;\n  getFacetItemText: (item: string) => string;\n  getSearchResultKey: (result: S) => string;\n  getSearchResultText: (result: S) => string;\n  loadSearchResultCount?: (result: S[]) => Promise<T.Dict<number>>;\n  maxInitialItems: number;\n  maxItems: number;\n  minSearchLength: number;\n  onChange: (changes: T.Dict<string | string[]>) => void;\n  onClear?: () => void;\n  onItemClick?: (itemValue: string, multiple: boolean) => void;\n  onSearch: (query: string, page?: number) => Promise<SearchResponse<S>>;\n  onToggle: (property: string) => void;\n  open: boolean;\n  property: string;\n  query?: T.RawQuery;\n  renderFacetItem: (item: string) => React.ReactNode;\n  renderSearchResult: (result: S, query: string) => React.ReactNode;\n  searchPlaceholder: string;\n  getSortedItems?: () => string[];\n  stats: T.Dict<number> | undefined;\n  values: string[];\n}\n\ninterface State<S> {\n  autoFocus: boolean;\n  query: string;\n  searching: boolean;\n  searchMaxResults?: boolean;\n  searchPaging?: T.Paging;\n  searchResults?: S[];\n  searchResultsCounts: T.Dict<number>;\n  showFullList: boolean;\n}\n\nexport default class ListStyleFacet<S> extends React.Component<Props<S>, State<S>> {\n  mounted = false;\n\n  static defaultProps = {\n    maxInitialItems: 15,\n    maxItems: 100,\n    minSearchLength: 2\n  };\n\n  state: State<S> = {\n    autoFocus: false,\n    query: '',\n    searching: false,\n    searchResultsCounts: {},\n    showFullList: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(prevProps: Props<S>) {\n    if (!prevProps.open && this.props.open) {\n      // focus search field *only* if it was manually open\n      this.setState({ autoFocus: true });\n    } else if (\n      (prevProps.open && !this.props.open) ||\n      !queriesEqual(prevProps.query || {}, this.props.query || {})\n    ) {\n      // reset state when closing the facet, or when query changes\n      this.setState({\n        query: '',\n        searchMaxResults: undefined,\n        searchResults: undefined,\n        searching: false,\n        searchResultsCounts: {},\n        showFullList: false\n      });\n    } else if (\n      prevProps.stats !== this.props.stats &&\n      Object.keys(this.props.stats || {}).length < this.props.maxInitialItems\n    ) {\n      // show limited list if `stats` changed and there are less than 15 items\n      this.setState({ showFullList: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    if (this.props.onItemClick) {\n      this.props.onItemClick(itemValue, multiple);\n    } else {\n      const { values } = this.props;\n      if (multiple) {\n        const newValue = sortBy(\n          values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n        );\n        this.props.onChange({ [this.props.property]: newValue });\n      } else {\n        this.props.onChange({\n          [this.props.property]: values.includes(itemValue) && values.length < 2 ? [] : [itemValue]\n        });\n      }\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.property);\n  };\n\n  handleClear = () => {\n    if (this.props.onClear) {\n      this.props.onClear();\n    } else {\n      this.props.onChange({ [this.props.property]: [] });\n    }\n  };\n\n  stopSearching = () => {\n    if (this.mounted) {\n      this.setState({ searching: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length >= this.props.minSearchLength) {\n      this.setState({ query, searching: true });\n      this.props\n        .onSearch(query)\n        .then(this.loadCountsForSearchResults)\n        .then(({ maxResults, paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchMaxResults: maxResults,\n              searchResults: results,\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    } else {\n      this.setState({ query, searching: false, searchResults: [] });\n    }\n  };\n\n  searchMore = () => {\n    const { query, searchPaging, searchResults } = this.state;\n    if (query && searchResults && searchPaging) {\n      this.setState({ searching: true });\n      this.props\n        .onSearch(query, searchPaging.pageIndex + 1)\n        .then(this.loadCountsForSearchResults)\n        .then(({ paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchResults: [...searchResults, ...results],\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    }\n  };\n\n  loadCountsForSearchResults = (response: SearchResponse<S>) => {\n    const { loadSearchResultCount = () => Promise.resolve({}) } = this.props;\n    const resultsToLoad = response.results.filter(result => {\n      const key = this.props.getSearchResultKey(result);\n      return this.getStat(key) === undefined && this.state.searchResultsCounts[key] === undefined;\n    });\n    if (resultsToLoad.length > 0) {\n      return loadSearchResultCount(resultsToLoad).then(stats => ({ ...response, stats }));\n    } else {\n      return { ...response, stats: {} };\n    }\n  };\n\n  getStat(item: string) {\n    const { stats } = this.props;\n    return stats && stats[item] !== undefined ? stats && stats[item] : undefined;\n  }\n\n  showFullList = () => {\n    this.setState({ showFullList: true });\n  };\n\n  hideFullList = () => {\n    this.setState({ showFullList: false });\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const sortedItems = this.props.getSortedItems\n      ? this.props.getSortedItems()\n      : sortBy(\n          Object.keys(stats),\n          key => -stats[key],\n          key => this.props.getFacetItemText(key)\n        );\n\n    const limitedList = this.state.showFullList\n      ? sortedItems\n      : sortedItems.slice(0, this.props.maxInitialItems);\n\n    // make sure all selected items are displayed\n    const selectedBelowLimit = this.state.showFullList\n      ? []\n      : sortedItems\n          .slice(this.props.maxInitialItems)\n          .filter(item => this.props.values.includes(item));\n\n    const mightHaveMoreResults = sortedItems.length >= this.props.maxItems;\n\n    return (\n      <>\n        <FacetItemsList>\n          {limitedList.map(item => (\n            <FacetItem\n              active={this.props.values.includes(item)}\n              key={item}\n              name={this.props.renderFacetItem(item)}\n              onClick={this.handleItemClick}\n              stat={formatFacetStat(this.getStat(item))}\n              tooltip={this.props.getFacetItemText(item)}\n              value={item}\n            />\n          ))}\n        </FacetItemsList>\n        {selectedBelowLimit.length > 0 && (\n          <>\n            <div className=\"note spacer-bottom text-center\">⋯</div>\n            <FacetItemsList>\n              {selectedBelowLimit.map(item => (\n                <FacetItem\n                  active={true}\n                  key={item}\n                  name={this.props.renderFacetItem(item)}\n                  onClick={this.handleItemClick}\n                  stat={formatFacetStat(this.getStat(item))}\n                  tooltip={this.props.getFacetItemText(item)}\n                  value={item}\n                />\n              ))}\n            </FacetItemsList>\n          </>\n        )}\n        <ListStyleFacetFooter\n          count={limitedList.length + selectedBelowLimit.length}\n          showLess={this.state.showFullList ? this.hideFullList : undefined}\n          showMore={this.showFullList}\n          total={sortedItems.length}\n        />\n        {mightHaveMoreResults && this.state.showFullList && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n      </>\n    );\n  }\n\n  renderSearch() {\n    return (\n      <SearchBox\n        autoFocus={this.state.autoFocus}\n        className=\"little-spacer-top spacer-bottom\"\n        loading={this.state.searching}\n        minLength={this.props.minSearchLength}\n        onChange={this.search}\n        placeholder={this.props.searchPlaceholder}\n        value={this.state.query}\n      />\n    );\n  }\n\n  renderSearchResults() {\n    const { searching, searchMaxResults, searchResults, searchPaging } = this.state;\n\n    if (!searching && (!searchResults || !searchResults.length)) {\n      return <div className=\"note spacer-bottom\">{translate('no_results')}</div>;\n    }\n\n    if (!searchResults) {\n      // initial search\n      return null;\n    }\n\n    return (\n      <>\n        <FacetItemsList>\n          {searchResults.map(result => this.renderSearchResult(result))}\n        </FacetItemsList>\n        {searchMaxResults && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n        {searchPaging && (\n          <ListFooter\n            className=\"spacer-bottom\"\n            count={searchResults.length}\n            loadMore={this.searchMore}\n            ready={!searching}\n            total={searchPaging.total}\n          />\n        )}\n      </>\n    );\n  }\n\n  renderSearchResult(result: S) {\n    const key = this.props.getSearchResultKey(result);\n    const active = this.props.values.includes(key);\n    const stat = this.getStat(key) || this.state.searchResultsCounts[key];\n    return (\n      <FacetItem\n        active={active}\n        key={key}\n        name={this.props.renderSearchResult(result, this.state.query)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.props.getSearchResultText(result)}\n        value={key}\n      />\n    );\n  }\n\n  render() {\n    const { disabled, stats = {} } = this.props;\n    const { query, searching, searchResults } = this.state;\n    const values = this.props.values.map(item => this.props.getFacetItemText(item));\n    const loadingResults =\n      query !== '' && searching && (searchResults === undefined || searchResults.length === 0);\n    const showList = !query || loadingResults;\n    return (\n      <FacetBox\n        className={classNames(this.props.className, {\n          'search-navigator-facet-box-forbidden': disabled\n        })}\n        property={this.props.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={\n            <Tooltip overlay={disabled ? this.props.disabledHelper : undefined}>\n              <span>{this.props.facetHeader}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !disabled}\n          values={values}\n        />\n\n        {this.props.open && !disabled && (\n          <>\n            {this.renderSearch()}\n            {showList ? this.renderList() : this.renderSearchResults()}\n            <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n\nfunction formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nfunction highlightTerm(str, term) {\n    var pos = str.toLowerCase().indexOf(term.toLowerCase());\n    return pos !== -1 ? (React.createElement(React.Fragment, null,\n        pos > 0 && str.substring(0, pos),\n        React.createElement(\"mark\", null, str.substr(pos, term.length)),\n        pos + term.length < str.length && str.substring(pos + term.length))) : (str);\n}\nexports.highlightTerm = highlightTerm;\n//# sourceMappingURL=search.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelect from '../common/MultiSelect';\nimport './TagsList.css';\n\ninterface Props {\n  listSize: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  selectedTags: string[];\n  tags: string[];\n}\n\nexport default function TagsSelector(props: Props) {\n  return (\n    <MultiSelect\n      elements={props.tags}\n      listSize={props.listSize}\n      onSearch={props.onSearch}\n      onSelect={props.onSelect}\n      onUnselect={props.onUnselect}\n      placeholder={translate('search.search_for_tags')}\n      selectedElements={props.selectedTags}\n      validateSearchInput={validateTag}\n    />\n  );\n}\n\nexport function validateTag(value: string) {\n  // Allow only a-z, 0-9, '+', '-', '#', '.'\n  return value.toLowerCase().replace(/[^-a-z0-9+#.]/gi, '');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as addMonths from 'date-fns/add_months';\nimport * as setMonth from 'date-fns/set_month';\nimport * as setYear from 'date-fns/set_year';\nimport * as subMonths from 'date-fns/sub_months';\nimport { range } from 'lodash';\nimport * as React from 'react';\nimport { DayModifiers, Modifier, Modifiers } from 'react-day-picker';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport { ButtonIcon, ClearButton } from 'sonar-ui-common/components/controls/buttons';\nimport OutsideClickHandler from 'sonar-ui-common/components/controls/OutsideClickHandler';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport CalendarIcon from 'sonar-ui-common/components/icons/CalendarIcon';\nimport ChevronLeftIcon from 'sonar-ui-common/components/icons/ChevronLeftIcon';\nimport ChevronRightIcon from 'sonar-ui-common/components/icons/ChevronRightIcon';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport {\n  getShortMonthName,\n  getShortWeekDayName,\n  getWeekDayName\n} from 'sonar-ui-common/helpers/l10n';\nimport './DayPicker.css';\nimport './styles.css';\n\nconst DayPicker = lazyLoadComponent(() => import('react-day-picker'), 'DayPicker');\n\ninterface Props {\n  className?: string;\n  currentMonth?: Date;\n  highlightFrom?: Date;\n  highlightTo?: Date;\n  inputClassName?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  name?: string;\n  onChange: (date: Date | undefined) => void;\n  placeholder: string;\n  value?: Date;\n}\n\ninterface State {\n  currentMonth: Date;\n  open: boolean;\n  lastHovered?: Date;\n}\n\ntype Week = [string, string, string, string, string, string, string];\n\nexport default class DateInput extends React.PureComponent<Props, State> {\n  input?: HTMLInputElement | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { currentMonth: props.value || props.currentMonth || new Date(), open: false };\n  }\n\n  focus = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n    this.openCalendar();\n  };\n\n  handleResetClick = () => {\n    this.closeCalendar();\n    this.props.onChange(undefined);\n  };\n\n  openCalendar = () => {\n    this.setState({\n      currentMonth: this.props.value || this.props.currentMonth || new Date(),\n      lastHovered: undefined,\n      open: true\n    });\n  };\n\n  closeCalendar = () => {\n    this.setState({ open: false });\n  };\n\n  handleDayClick = (day: Date, modifiers: DayModifiers) => {\n    if (!modifiers.disabled) {\n      this.closeCalendar();\n      this.props.onChange(day);\n    }\n  };\n\n  handleDayMouseEnter = (day: Date, modifiers: DayModifiers) => {\n    this.setState({ lastHovered: modifiers.disabled ? undefined : day });\n  };\n\n  handleCurrentMonthChange = ({ value }: { value: number }) => {\n    this.setState((state: State) => ({ currentMonth: setMonth(state.currentMonth, value) }));\n  };\n\n  handleCurrentYearChange = ({ value }: { value: number }) => {\n    this.setState(state => ({ currentMonth: setYear(state.currentMonth, value) }));\n  };\n\n  handlePreviousMonthClick = () => {\n    this.setState(state => ({ currentMonth: subMonths(state.currentMonth, 1) }));\n  };\n\n  handleNextMonthClick = () => {\n    this.setState(state => ({ currentMonth: addMonths(state.currentMonth, 1) }));\n  };\n\n  render() {\n    const { highlightFrom, highlightTo, minDate, value } = this.props;\n    const { lastHovered } = this.state;\n\n    const after = this.props.maxDate || new Date();\n\n    const months = range(12);\n    const years = range(new Date().getFullYear() - 10, new Date().getFullYear() + 1);\n\n    const selectedDays: Modifier[] = value ? [value] : [];\n    let modifiers: Partial<Modifiers> | undefined;\n    const lastHoveredOrValue = lastHovered || value;\n\n    if (highlightFrom && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: highlightFrom, to: lastHoveredOrValue } };\n      selectedDays.push(highlightFrom);\n    }\n    if (highlightTo && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: lastHoveredOrValue, to: highlightTo } };\n      selectedDays.push(highlightTo);\n    }\n\n    const weekdaysLong = range(7).map(getWeekDayName) as Week;\n    const weekdaysShort = range(7).map(getShortWeekDayName) as Week;\n\n    return (\n      <OutsideClickHandler onClickOutside={this.closeCalendar}>\n        <span className={classNames('date-input-control', this.props.className)}>\n          <InputWrapper\n            className={classNames('date-input-control-input', this.props.inputClassName, {\n              'is-filled': this.props.value !== undefined\n            })}\n            innerRef={node => (this.input = node)}\n            name={this.props.name}\n            onFocus={this.openCalendar}\n            placeholder={this.props.placeholder}\n            readOnly={true}\n            type=\"text\"\n            value={value}\n          />\n          <CalendarIcon className=\"date-input-control-icon\" fill=\"\" />\n          {this.props.value !== undefined && (\n            <ClearButton\n              className=\"button-tiny date-input-control-reset\"\n              iconProps={{ size: 12 }}\n              onClick={this.handleResetClick}\n            />\n          )}\n          {this.state.open && (\n            <div className=\"date-input-calendar\">\n              <nav className=\"date-input-calendar-nav\">\n                <ButtonIcon className=\"button-small\" onClick={this.handlePreviousMonthClick}>\n                  <ChevronLeftIcon />\n                </ButtonIcon>\n                <div className=\"date-input-calender-month\">\n                  <Select\n                    className=\"date-input-calender-month-select\"\n                    onChange={this.handleCurrentMonthChange}\n                    options={months.map(month => ({\n                      label: getShortMonthName(month),\n                      value: month\n                    }))}\n                    value={this.state.currentMonth.getMonth()}\n                  />\n                  <Select\n                    className=\"date-input-calender-month-select spacer-left\"\n                    onChange={this.handleCurrentYearChange}\n                    options={years.map(year => ({ label: String(year), value: year }))}\n                    value={this.state.currentMonth.getFullYear()}\n                  />\n                </div>\n                <ButtonIcon className=\"button-small\" onClick={this.handleNextMonthClick}>\n                  <ChevronRightIcon />\n                </ButtonIcon>\n              </nav>\n              <DayPicker\n                captionElement={<NullComponent />}\n                disabledDays={{ after, before: minDate }}\n                firstDayOfWeek={1}\n                modifiers={modifiers}\n                month={this.state.currentMonth}\n                navbarElement={<NullComponent />}\n                onDayClick={this.handleDayClick}\n                onDayMouseEnter={this.handleDayMouseEnter}\n                selectedDays={selectedDays}\n                weekdaysLong={weekdaysLong}\n                weekdaysShort={weekdaysShort}\n              />\n            </div>\n          )}\n        </span>\n      </OutsideClickHandler>\n    );\n  }\n}\n\nfunction NullComponent() {\n  return null;\n}\n\ntype InputWrapperProps = T.Omit<React.InputHTMLAttributes<HTMLInputElement>, 'value'> &\n  InjectedIntlProps & {\n    innerRef: React.Ref<HTMLInputElement>;\n    value: Date | undefined;\n  };\n\nconst InputWrapper = injectIntl(({ innerRef, intl, value, ...other }: InputWrapperProps) => {\n  const formattedValue =\n    value && intl.formatDate(value, { year: 'numeric', month: 'short', day: 'numeric' });\n  return <input {...other} ref={innerRef} value={formattedValue || ''} />;\n});\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction CalendarIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M2 14h2.25v-2.25H2V14zm2.75 0h2.5v-2.25h-2.5V14zM2 11.25h2.25v-2.5H2v2.5zm2.75 0h2.5v-2.5h-2.5v2.5zM2 8.25h2.25V6H2v2.25zM7.75 14h2.5v-2.25h-2.5V14zm-3-5.75h2.5V6h-2.5v2.25zm6 5.75H13v-2.25h-2.25V14zm-3-2.75h2.5v-2.5h-2.5v2.5zM5 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 4.75 2h-.5a.24.24 0 0 0-.176.074A.24.24 0 0 0 4 2.25V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 5 4.5zm5.75 6.75H13v-2.5h-2.25v2.5zm-3-3h2.5V6h-2.5v2.25zm3 0H13V6h-2.25v2.25zM11 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 10.75 2h-.5a.24.24 0 0 0-.176.074.24.24 0 0 0-.074.176V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 11 4.5zm3-.5v10c0 .27-.099.505-.297.703A.961.961 0 0 1 13 15H2a.961.961 0 0 1-.703-.297A.961.961 0 0 1 1 14V4c0-.27.099-.505.297-.703A.961.961 0 0 1 2 3h1v-.75c0-.344.122-.638.367-.883S3.907 1 4.25 1h.5c.344 0 .638.122.883.367S6 1.907 6 2.25V3h3v-.75c0-.344.122-.638.367-.883S9.907 1 10.25 1h.5c.344 0 .638.122.883.367s.367.54.367.883V3h1c.27 0 .505.099.703.297A.961.961 0 0 1 14 4z\", style: { fill: fill } })));\n}\nexports.default = CalendarIcon;\n//# sourceMappingURL=CalendarIcon.js.map","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DayPicker.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding-bottom:8px;flex-direction:row}.DayPicker-Months{display:flex;flex-wrap:wrap;justify-content:center}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;margin:8px 8px 0}.DayPicker-Weekdays{display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:8px;font-size:12px;text-align:center;color:#999}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day{display:table-cell;line-height:15px;padding:8px;text-align:center;cursor:pointer;vertical-align:top;outline:none}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:8px}.DayPicker-Day--today{font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#cdcdcd;cursor:not-allowed}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#4b9fd5;color:#fff}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--highlighted):not(.DayPicker-Day--outside):hover{background-color:#f3f3f3}.DayPicker-Day--highlighted:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside){background-color:#cae3f2}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".date-input-control{position:relative;display:inline-block;cursor:pointer}.date-input-control-input{width:130px;padding-left:24px!important;cursor:pointer}.date-input-control-input.is-filled{padding-right:16px!important}.date-input-control-icon{position:absolute;top:4px;left:4px}.date-input-control-icon path{fill:#cdcdcd;transition:fill .3s ease}.date-input-control-input:focus+.date-input-control-icon path{fill:#4b9fd5}.date-input-control-reset{position:absolute;top:4px;right:4px;border:none}.date-input-calendar{position:absolute;z-index:7500;top:100%;left:0;border:1px solid #e6e6e6;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.date-input-calendar-nav{display:flex;justify-content:space-between;align-items:center;padding-top:8px;padding-left:8px;padding-right:8px}.date-input-calender-month-select{width:70px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './LocationIndex.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  leading?: boolean;\n  onClick?: () => void;\n  selected?: boolean;\n  [x: string]: any;\n}\n\nexport default function LocationIndex(props: Props) {\n  const { children, leading, onClick, selected, ...other } = props;\n  const clickAttributes = onClick ? { onClick, role: 'button', tabIndex: 0 } : {};\n  // put {...others} because Tooltip sets some event handlers\n  return (\n    <div\n      className={classNames('location-index', {\n        'is-leading': leading,\n        selected\n      })}\n      {...clickAttributes}\n      {...other}>\n      {children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport './MultipleSelectionHint.css';\n\ninterface Props {\n  options: number;\n  values: number;\n}\n\nexport default function MultipleSelectionHint({ options, values }: Props) {\n  // do not render if nothing is selected or there are less than 2 possible options\n  if (values === 0 || options < 2) {\n    return null;\n  }\n\n  return (\n    <div className=\"multiple-selection-hint\">\n      <div className=\"multiple-selection-hint-inner\">\n        {translate(\n          isOnMac()\n            ? 'shortcuts.section.global.facets.multiselection.mac'\n            : 'shortcuts.section.global.facets.multiselection'\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction isOnMac() {\n  return navigator.userAgent.indexOf('Mac OS X') !== -1;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport StatusIcon from 'sonar-ui-common/components/icons/StatusIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  resolution: string | undefined;\n  status: string;\n}\n\nexport default function StatusHelper(props: Props) {\n  const resolution = props.resolution && ` (${translate('issue.resolution', props.resolution)})`;\n  return (\n    <span className={props.className}>\n      <StatusIcon className=\"little-spacer-right\" status={props.status} />\n      {translate('issue.status', props.status)}\n      {resolution}\n    </span>\n  );\n}\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".search-navigator.sticky .search-navigator-workspace-header{position:fixed;z-index:50;top:0;left:300px;right:0}.search-navigator.sticky .search-navigator-workspace-details,.search-navigator.sticky .search-navigator-workspace-list{padding-top:43px}.search-navigator-facet-box{background-color:#f3f3f3;font-size:13px}.search-navigator-facet-box.leak-facet-box{background-color:#fbf3d5;border:1px solid #f1e8cb}.search-navigator-facet-box.is-inner{margin-left:8px;padding-left:12px;border-left:1px solid #e6e6e6}.search-navigator-facet-box.is-inner .search-navigator-facet-header{padding-top:6px;padding-bottom:6px}.leak-facet-box:not(.hidden)+.leak-facet-box{border-top:none}.search-navigator-facet-box-forbidden{background-color:transparent;opacity:.5}.search-navigator-facet-box-forbidden .search-navigator-facet-container,.search-navigator-facet-box-forbidden .search-navigator-facet-empty,.search-navigator-facet-box-forbidden .search-navigator-facet-list{display:none}.search-navigator-facet-box-forbidden .search-navigator-facet-header{color:#666}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#4b9fd5}.search-navigator-facet-box-forbidden .search-navigator-facet-header{cursor:default}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#666}.search-navigator-facet{position:relative;display:inline-flex;justify-content:space-between;align-items:center;width:100%;height:24px;margin:0 0 1px;padding:0 6px;border:1px solid transparent;border-radius:2px;box-sizing:border-box;white-space:normal;opacity:.3;cursor:not-allowed;transition:none}a.search-navigator-facet{opacity:1;cursor:pointer}a.search-navigator-facet .facet-name{color:#333}.search-navigator-facet.active,a.search-navigator-facet:focus,a.search-navigator-facet:hover{border-color:#4b9fd5}.search-navigator-facet.facet-category{opacity:1;cursor:default}.search-navigator-facet.facet-category .facet-name{color:#666}.search-navigator-facet .facet-name{flex:1 1 auto;min-width:0;line-height:16px;padding:1px 0;color:#666;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-navigator-facet .facet-stat{display:flex;align-items:center;margin-left:8px;color:#666;font-size:12px}.search-navigator-facet .facet-toggle{display:none;float:left;height:16px;line-height:16px;margin-top:-1px;padding:0 5px;border-radius:2px;font-size:11px;text-transform:lowercase}.search-navigator-facet .facet-toggle:hover{color:#333}.search-navigator-facet .facet-toggle-active.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet .facet-toggle-active.facet-toggle-red{background-color:#d4333f;color:#fff}.leak-facet-box .search-navigator-facet .facet-name,.leak-facet-box .search-navigator-facet .facet-stat{background-color:#fbf3d5}.leak-facet-box .search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(251,243,213,0),#fbf3d5 75%)}.search-navigator-facet.active{background-color:#cae3f2;text-decoration:none}.search-navigator-facet.active .facet-toggle{display:inline}.search-navigator-facet.compare .facet-toggle{cursor:not-allowed;opacity:.5}.search-navigator-facet.compare .facet-toggle.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet.compare .facet-toggle.facet-toggle-red{background-color:transparent;color:#666}.search-navigator-facet-half{width:45%}.search-navigator-facet-half:nth-child(odd){margin-right:10%}.search-navigator-facet-highlight-under-container{margin-bottom:1px}.search-navigator-facet-highlight-under-container .search-navigator-facet{margin-bottom:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover{border-bottom:none;padding-bottom:1px;border-radius:2px 2px 0 0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet{border-top:none;border-bottom:none;border-left-color:#4b9fd5;border-right-color:#4b9fd5;border-radius:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:0 0 2px 2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet{background-color:#cae3f2;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet.active{border-top:1px solid #4b9fd5}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet{background-color:#a1cde8;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-toggle,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-header{display:block;flex-shrink:0;padding:8px 0;color:#333;font-weight:600;overflow:hidden;white-space:nowrap}.search-navigator-facet-header>a{border-bottom:none;color:#333}.search-navigator-facet-header>a:focus,.search-navigator-facet-header>a:hover{color:#4b9fd5}.search-navigator-facet-header>.note{font-weight:400}.search-navigator-facet-header>h3,.search-navigator-facet-header>h4{line-height:inherit;display:inline}.search-navigator-facet-header-value{display:block;overflow:hidden}.search-navigator-facet-header-value>.badge{display:block}.search-navigator-facet-header-button{flex-shrink:0;margin-left:auto}.search-navigator-facet-header-wrapper{display:flex;align-items:center}.search-navigator-facet-list{padding-bottom:8px;font-size:0}.search-navigator-facet-list-title{margin:0 8px 4px;font-size:12px;font-weight:700}.search-navigator-facet-list+.search-navigator-facet-list>.search-navigator-facet-list-title{border-top:1px solid #e6e6e6;padding-top:8px}.search-navigator-facet-empty{margin:0;padding:0 10px 10px;color:#333;font-size:12px;white-space:nowrap}.search-navigator-facet-footer{display:block;padding-bottom:8px;border-bottom:none}.search-navigator-facet-container{margin-top:6px;padding:0 10px 16px}.search-navigator-date-facet-selection{position:relative;padding-left:8px;font-size:12px}.search-navigator-date-facet-selection:after,.search-navigator-date-facet-selection:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-date-facet-selection:after{clear:both}.search-navigator-date-facet-selection .date-input-control-input{width:115px!important}.search-navigator-date-facet-selection-dropdown-left{float:left;border-bottom:none}.search-navigator-date-facet-selection-dropdown-right{float:right;border-bottom:none}.search-navigator-date-facet-selection-input-left{position:absolute;left:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection-input-right{position:absolute;right:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection .date-input-control:not(:first-of-type) .date-input-calendar{left:auto;right:0}.search-navigator-filters{position:relative;padding:5px 10px;background-color:#f3f3f3}.search-navigator-filters:after,.search-navigator-filters:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-filters:after{clear:both}.search-navigator-filters-header{margin-bottom:12px;padding-bottom:11px;border-bottom:1px solid #e6e6e6}.search-navigator-intro{width:500px;margin:0 auto;padding-top:100px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Standards } from '../types/security';\n\nexport function getStandards(): Promise<Standards> {\n  return import('./standards.json').then(x => x.default);\n}\n\nexport function renderCWECategory(standards: Standards, category: string): string {\n  const record = standards.cwe[category];\n  if (!record) {\n    return `CWE-${category}`;\n  } else if (category === 'unknown') {\n    return record.title;\n  } else {\n    return `CWE-${category} - ${record.title}`;\n  }\n}\n\nexport function renderOwaspTop10Category(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.owaspTop10[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'OWASP', withPrefix);\n  } else {\n    return addPrefix(`${category.toUpperCase()} - ${record.title}`, 'OWASP', withPrefix);\n  }\n}\n\nexport function renderSansTop25Category(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sansTop25[category];\n  return addPrefix(record ? record.title : category, 'SANS', withPrefix);\n}\n\nexport function renderSonarSourceSecurityCategory(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sonarsourceSecurity[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'SONAR', withPrefix);\n  } else if (category === 'others') {\n    return record.title;\n  } else {\n    return addPrefix(record.title, 'SONAR', withPrefix);\n  }\n}\n\nfunction addPrefix(title: string, prefix: string, withPrefix: boolean) {\n  return withPrefix ? `${prefix} ${title}` : title;\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction FilterIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M13.957 2.333a.536.536 0 0 1-.12.596l-4.2 4.202v6.323a.552.552 0 0 1-.333.503.632.632 0 0 1-.213.043.51.51 0 0 1-.384-.162l-2.181-2.182a.542.542 0 0 1-.162-.383V7.13L2.162 2.929a.536.536 0 0 1-.12-.596A.552.552 0 0 1 2.547 2h10.908c.222 0 .418.137.503.333z\", style: { fill: fill } })));\n}\nexports.default = FilterIcon;\n//# sourceMappingURL=FilterIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\n\nconst SourceViewer = lazyLoadComponent(\n  () => import(/* webpackPrefetch: true */ './SourceViewerBase'),\n  'SourceViewer'\n);\nexport default SourceViewer;\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport HomeIcon from 'sonar-ui-common/components/icons/HomeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isLoggedIn } from '../../helpers/users';\nimport { getCurrentUser, Store } from '../../store/rootReducer';\nimport { setHomePage } from '../../store/users';\n\ninterface StateProps {\n  currentUser: T.CurrentUser;\n}\n\ninterface DispatchProps {\n  setHomePage: (homepage: T.HomePage) => void;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  className?: string;\n  currentPage: T.HomePage;\n}\n\nexport const DEFAULT_HOMEPAGE: T.HomePage = { type: 'PROJECTS' };\n\nexport class HomePageSelect extends React.PureComponent<Props> {\n  handleClick = () => {\n    this.props.setHomePage(this.props.currentPage);\n  };\n\n  handleReset = () => {\n    this.props.setHomePage(DEFAULT_HOMEPAGE);\n  };\n\n  render() {\n    const { currentPage, currentUser } = this.props;\n\n    if (!isLoggedIn(currentUser)) {\n      return null;\n    }\n\n    const { homepage } = currentUser;\n    const isChecked = homepage !== undefined && isSameHomePage(homepage, currentPage);\n    const isDefault = isChecked && isSameHomePage(currentPage, DEFAULT_HOMEPAGE);\n    const tooltip = isChecked\n      ? translate(isDefault ? 'homepage.current.is_default' : 'homepage.current')\n      : translate('homepage.check');\n\n    return (\n      <Tooltip overlay={tooltip}>\n        {isDefault ? (\n          <span\n            aria-label={tooltip}\n            className={classNames('display-inline-block', this.props.className)}>\n            <HomeIcon filled={isChecked} />\n          </span>\n        ) : (\n          <ButtonLink\n            aria-label={tooltip}\n            className={classNames('link-no-underline', 'set-homepage-link', this.props.className)}\n            onClick={isChecked ? this.handleReset : this.handleClick}>\n            <HomeIcon filled={isChecked} />\n          </ButtonLink>\n        )}\n      </Tooltip>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  currentUser: getCurrentUser(state)\n});\n\nconst mapDispatchToProps: DispatchProps = { setHomePage };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePageSelect);\n\nfunction isSameHomePage(a: T.HomePage, b: T.HomePage) {\n  return (\n    a.type === b.type &&\n    (a as any).branch === (b as any).branch &&\n    (a as any).component === (b as any).component\n  );\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar theme_1 = require(\"../theme\");\nvar Icon_1 = require(\"./Icon\");\nfunction HomeIcon(_a) {\n    var className = _a.className, fill = _a.fill, _b = _a.filled, filled = _b === void 0 ? false : _b, iconProps = __rest(_a, [\"className\", \"fill\", \"filled\"]);\n    return (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return (React.createElement(Icon_1.default, __assign({ className: classNames(className, 'icon-outline', { 'is-filled': filled }), style: { color: fill || theme.colors.orange } }, iconProps),\n        React.createElement(\"g\", { transform: \"matrix(0.870918,0,0,0.870918,0.978227,0.978227)\" },\n            React.createElement(\"path\", { d: \"M15.9,7.8L8.2,0.1C8.1,0 7.9,0 7.8,0.1L0.1,7.8C0,7.9 0,8.1 0.1,8.2C0.2,8.3 0.2,8.3 0.3,8.3L2.2,8.3L2.2,15.8C2.2,15.9 2.2,15.9 2.3,16C2.3,16 2.4,16.1 2.5,16.1L6.2,16.1C6.3,16.1 6.5,16 6.5,15.8L6.5,10.5L9.7,10.5L9.7,15.8C9.7,15.9 9.8,16.1 10,16.1L13.7,16.1C13.8,16.1 14,16 14,15.8L14,8.2L15.9,8.2C16,8.2 16,8.2 16.1,8.1C16,8 16.1,7.9 15.9,7.8Z\" })))); }));\n}\nexports.default = HomeIcon;\n//# sourceMappingURL=HomeIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport DateInput from './DateInput';\n\ntype DateRange = { from?: Date; to?: Date };\n\ninterface Props {\n  className?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  onChange: (date: DateRange) => void;\n  value?: DateRange;\n}\n\nexport default class DateRangeInput extends React.PureComponent<Props> {\n  toDateInput?: DateInput | null;\n\n  get from() {\n    return this.props.value && this.props.value.from;\n  }\n\n  get to() {\n    return this.props.value && this.props.value.to;\n  }\n\n  handleFromChange = (from: Date | undefined) => {\n    this.props.onChange({ from, to: this.to });\n\n    // use `setTimeout` to work around the immediate closing of the `toDateInput`\n    setTimeout(() => {\n      if (from && !this.to && this.toDateInput) {\n        this.toDateInput.focus();\n      }\n    }, 0);\n  };\n\n  handleToChange = (to: Date | undefined) => {\n    this.props.onChange({ from: this.from, to });\n  };\n\n  render() {\n    return (\n      <div className={classNames('display-inline-flex-center', this.props.className)}>\n        <DateInput\n          currentMonth={this.to}\n          data-test=\"from\"\n          highlightTo={this.to}\n          maxDate={this.to}\n          onChange={this.handleFromChange}\n          placeholder={translate('start_date')}\n          value={this.from}\n        />\n        <span className=\"note little-spacer-left little-spacer-right\">{translate('to_')}</span>\n        <DateInput\n          currentMonth={this.from}\n          data-test=\"to\"\n          highlightFrom={this.from}\n          minDate={this.from}\n          onChange={this.handleToChange}\n          placeholder={translate('end_date')}\n          ref={element => (this.toDateInput = element)}\n          value={this.to}\n        />\n      </div>\n    );\n  }\n}\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lodash_1 = require(\"lodash\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar Select_1 = require(\"./Select\");\nvar SearchSelect = (function (_super) {\n    __extends(SearchSelect, _super);\n    function SearchSelect(props) {\n        var _this = _super.call(this, props) || this;\n        _this.mounted = false;\n        _this.handleSearch = function (query) {\n            var currentQuery = query;\n            _this.props.onSearch(currentQuery).then(function (options) {\n                if (_this.mounted) {\n                    _this.setState(function (state) { return ({\n                        loading: false,\n                        options: state.query === currentQuery ? options : state.options,\n                    }); });\n                }\n            }, function () {\n                if (_this.mounted) {\n                    _this.setState({ loading: false });\n                }\n            });\n        };\n        _this.handleChange = function (option) {\n            if (Array.isArray(option)) {\n                if (_this.props.onMultiSelect) {\n                    _this.props.onMultiSelect(option);\n                }\n            }\n            else if (_this.props.onSelect) {\n                _this.props.onSelect(option);\n            }\n        };\n        _this.handleInputChange = function (query) {\n            if (query.length >= _this.minimumQueryLength) {\n                _this.setState({ loading: true, query: query });\n                _this.handleSearch(query);\n            }\n            else {\n                var options = (query.length === 0 && _this.props.defaultOptions) || [];\n                _this.setState({ options: options, query: query });\n            }\n        };\n        _this.handleFilterOption = function () { return true; };\n        _this.state = { loading: false, options: props.defaultOptions || [], query: '' };\n        _this.handleSearch = lodash_1.debounce(_this.handleSearch, 250);\n        return _this;\n    }\n    SearchSelect.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    SearchSelect.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Object.defineProperty(SearchSelect.prototype, \"autofocus\", {\n        get: function () {\n            return this.props.autofocus !== undefined ? this.props.autofocus : true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SearchSelect.prototype, \"minimumQueryLength\", {\n        get: function () {\n            return this.props.minimumQueryLength !== undefined ? this.props.minimumQueryLength : 2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SearchSelect.prototype, \"resetOnBlur\", {\n        get: function () {\n            return this.props.resetOnBlur !== undefined ? this.props.resetOnBlur : true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SearchSelect.prototype.render = function () {\n        var Component = this.props.canCreate ? Select_1.Creatable : Select_1.default;\n        return (React.createElement(Component, { autoFocus: this.autofocus, className: this.props.className, clearable: this.props.clearable, escapeClearsValue: false, filterOption: this.handleFilterOption, isLoading: this.state.loading, multi: this.props.multi, noResultsText: this.state.query.length < this.minimumQueryLength\n                ? l10n_1.translateWithParameters('select2.tooShort', this.minimumQueryLength)\n                : l10n_1.translate('select2.noMatches'), onBlurResetsInput: this.resetOnBlur, onChange: this.handleChange, onInputChange: this.handleInputChange, optionRenderer: this.props.renderOption, options: this.state.options, placeholder: l10n_1.translate('search_verb'), promptTextCreator: this.props.promptTextCreator, searchable: true, value: this.props.value, valueRenderer: this.props.renderOption }));\n    };\n    return SearchSelect;\n}(React.PureComponent));\nexports.default = SearchSelect;\n//# sourceMappingURL=SearchSelect.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../../app/utils/throwGlobalError';\nimport { parseIssueFromResponse } from '../../helpers/issues';\nimport { IssueResponse } from '../../types/issues';\n\nexport const updateIssue = (\n  onChange: (issue: T.Issue) => void,\n  resultPromise: Promise<IssueResponse>,\n  oldIssue?: T.Issue,\n  newIssue?: T.Issue\n) => {\n  const optimisticUpdate = oldIssue !== undefined && newIssue !== undefined;\n  if (optimisticUpdate) {\n    onChange(newIssue!);\n  }\n\n  resultPromise.then(\n    response => {\n      if (!optimisticUpdate) {\n        const issue = parseIssueFromResponse(\n          response.issue,\n          response.components,\n          response.users,\n          response.rules\n        );\n        onChange(issue);\n      }\n    },\n    param => {\n      if (optimisticUpdate) {\n        onChange(oldIssue!);\n      }\n      throwGlobalError(param);\n    }\n  );\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\n\ninterface Props {\n  active?: string;\n  className?: string;\n  item: string;\n  onHover?: (item: string) => void;\n  onSelect?: (item: string) => void;\n  title?: React.ReactNode;\n}\n\nexport default class SelectListItem extends React.PureComponent<Props> {\n  handleSelect = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    if (this.props.onSelect) {\n      this.props.onSelect(this.props.item);\n    }\n  };\n\n  handleHover = () => {\n    if (this.props.onHover) {\n      this.props.onHover(this.props.item);\n    }\n  };\n\n  renderLink() {\n    const children = this.props.children || this.props.item;\n    return (\n      <li>\n        <a\n          className={classNames(\n            { active: this.props.active === this.props.item },\n            this.props.className\n          )}\n          href=\"#\"\n          onClick={this.handleSelect}\n          onFocus={this.handleHover}\n          onMouseOver={this.handleHover}>\n          {children}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return (\n      <Tooltip overlay={this.props.title || undefined} placement=\"right\">\n        {this.renderLink()}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as key from 'keymaster';\nimport { uniqueId } from 'lodash';\nimport * as React from 'react';\nimport SelectListItem from './SelectListItem';\n\ninterface Props {\n  className?: string;\n  items: string[];\n  currentItem: string;\n  onSelect: (item: string) => void;\n}\n\ninterface State {\n  active: string;\n}\n\nexport default class SelectList extends React.PureComponent<Props, State> {\n  currentKeyScope?: string;\n  previousFilter?: (event: any) => void;\n  previousKeyScope?: string;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      active: props.currentItem\n    };\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.currentItem !== this.props.currentItem &&\n      !this.props.items.includes(this.state.active)\n    ) {\n      this.setState({ active: this.props.currentItem });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    this.previousKeyScope = key.getScope();\n    this.previousFilter = key.filter;\n    this.currentKeyScope = uniqueId('key-scope');\n    key.setScope(this.currentKeyScope);\n\n    // sometimes there is a *focused* search field next to the SelectList component\n    // we need to allow shortcuts in this case, but only for the used keys\n    (key as any).filter = (event: KeyboardEvent & { target: HTMLElement }) => {\n      const { tagName } = event.target || event.srcElement;\n      const isInput = tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n      return [13, 38, 40].includes(event.keyCode) || !isInput;\n    };\n\n    key('down', this.currentKeyScope, () => {\n      this.setState(this.selectNextElement);\n      return false;\n    });\n\n    key('up', this.currentKeyScope, () => {\n      this.setState(this.selectPreviousElement);\n      return false;\n    });\n\n    key('return', this.currentKeyScope, () => {\n      if (this.state.active != null) {\n        this.handleSelect(this.state.active);\n      }\n      return false;\n    });\n  };\n\n  detachShortcuts = () => {\n    if (this.previousKeyScope) {\n      key.setScope(this.previousKeyScope);\n    }\n    if (this.currentKeyScope) {\n      key.deleteScope(this.currentKeyScope);\n    }\n    (key as any).filter = this.previousFilter;\n  };\n\n  handleSelect = (item: string) => {\n    this.props.onSelect(item);\n  };\n\n  handleHover = (item: string) => {\n    this.setState({ active: item });\n  };\n\n  selectNextElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx < 0) {\n      return { active: props.items[0] };\n    }\n    return { active: props.items[(idx + 1) % props.items.length] };\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx <= 0) {\n      return { active: props.items[props.items.length - 1] };\n    }\n    return { active: props.items[idx - 1] };\n  };\n\n  renderChild = (child: any) => {\n    if (child == null) {\n      return null;\n    }\n    // do not pass extra props to children like `<li className=\"divider\" />`\n    if (child.type !== SelectListItem) {\n      return child;\n    }\n    return React.cloneElement(child, {\n      active: this.state.active,\n      onHover: this.handleHover,\n      onSelect: this.handleSelect\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    const hasChildren = React.Children.count(children) > 0;\n    return (\n      <ul className={classNames('menu', this.props.className)}>\n        {hasChildren && React.Children.map(children, this.renderChild)}\n        {!hasChildren &&\n          this.props.items.map(item => (\n            <SelectListItem\n              active={this.state.active}\n              item={item}\n              key={item}\n              onHover={this.handleHover}\n              onSelect={this.handleSelect}\n            />\n          ))}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { searchUsers } from '../../../api/users';\nimport { isLoggedIn, isUserActive } from '../../../helpers/users';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { withCurrentUser } from '../../hoc/withCurrentUser';\nimport Avatar from '../../ui/Avatar';\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  onSelect: (login: string) => void;\n}\n\ninterface State {\n  currentUser: string;\n  query: string;\n  users: T.UserActive[];\n}\n\nconst LIST_SIZE = 10;\n\nexport class SetAssigneePopup extends React.PureComponent<Props, State> {\n  defaultUsersArray: T.UserActive[];\n\n  constructor(props: Props) {\n    super(props);\n    this.defaultUsersArray = [{ login: '', name: translate('unassigned') }];\n\n    if (isLoggedIn(props.currentUser)) {\n      this.defaultUsersArray = [props.currentUser, ...this.defaultUsersArray];\n    }\n\n    this.state = {\n      query: '',\n      users: this.defaultUsersArray,\n      currentUser: this.defaultUsersArray.length > 0 ? this.defaultUsersArray[0].login : ''\n    };\n  }\n\n  searchUsers = (query: string) => {\n    searchUsers({ q: query, ps: LIST_SIZE }).then(this.handleSearchResult, () => {});\n  };\n\n  handleSearchResult = ({ users }: { users: T.UserBase[] }) => {\n    const activeUsers = users.filter(isUserActive);\n    this.setState({\n      users: activeUsers,\n      currentUser: activeUsers.length > 0 ? activeUsers[0].login : ''\n    });\n  };\n\n  handleSearchChange = (query: string) => {\n    if (query.length === 0) {\n      this.setState({\n        query,\n        users: this.defaultUsersArray,\n        currentUser: this.defaultUsersArray[0].login\n      });\n    } else {\n      this.setState({ query });\n      this.searchUsers(query);\n    }\n  };\n\n  render() {\n    return (\n      <DropdownOverlay noPadding={true}>\n        <div className=\"multi-select\">\n          <div className=\"menu-search\">\n            <SearchBox\n              autoFocus={true}\n              className=\"little-spacer-top\"\n              minLength={2}\n              onChange={this.handleSearchChange}\n              placeholder={translate('search.search_for_users')}\n              value={this.state.query}\n            />\n          </div>\n          <SelectList\n            currentItem={this.state.currentUser}\n            items={map(this.state.users, 'login')}\n            onSelect={this.props.onSelect}>\n            {this.state.users.map(user => (\n              <SelectListItem item={user.login} key={user.login}>\n                {!!user.login && (\n                  <Avatar className=\"spacer-right\" hash={user.avatar} name={user.name} size={16} />\n                )}\n                <span className=\"text-middle\" style={{ marginLeft: user.login ? 24 : undefined }}>\n                  {user.name}\n                </span>\n              </SelectListItem>\n            ))}\n          </SelectList>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n\nexport default withCurrentUser(SetAssigneePopup);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport Avatar from '../../ui/Avatar';\nimport SetAssigneePopup from '../popups/SetAssigneePopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: T.Issue;\n  canAssign: boolean;\n  onAssign: (login: string) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueAssign extends React.PureComponent<Props> {\n  toggleAssign = (open?: boolean) => {\n    this.props.togglePopup('assign', open);\n  };\n\n  handleClose = () => {\n    this.toggleAssign(false);\n  };\n\n  renderAssignee() {\n    const { issue } = this.props;\n    const assigneeName = issue.assigneeName || issue.assignee;\n\n    if (assigneeName) {\n      return (\n        <>\n          <span className=\"text-top\">\n            <Avatar\n              className=\"little-spacer-right\"\n              hash={issue.assigneeAvatar}\n              name={assigneeName}\n              size={16}\n            />\n          </span>\n          <span className=\"issue-meta-label\">\n            {issue.assigneeActive === false\n              ? translateWithParameters('user.x_deleted', assigneeName)\n              : assigneeName}\n          </span>\n        </>\n      );\n    }\n\n    return <span className=\"issue-meta-label\">{translate('unassigned')}</span>;\n  }\n\n  render() {\n    const { canAssign, isOpen, issue } = this.props;\n    const assigneeName = issue.assigneeName || issue.assignee;\n\n    if (canAssign) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            closeOnEscape={true}\n            onRequestClose={this.handleClose}\n            open={isOpen}\n            overlay={<SetAssigneePopup onSelect={this.props.onAssign} />}>\n            <ButtonLink\n              aria-expanded={isOpen}\n              aria-label={\n                assigneeName\n                  ? translateWithParameters(\n                      'issue.assign.assigned_to_x_click_to_change',\n                      assigneeName\n                    )\n                  : translate('issue.assign.unassigned_click_to_assign')\n              }\n              className=\"issue-action issue-action-with-options js-issue-assign\"\n              onClick={this.toggleAssign}>\n              {this.renderAssignee()}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    }\n\n    return this.renderAssignee();\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button, ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FormattingTips from '../../common/FormattingTips';\n\ninterface Props {\n  comment?: Pick<T.IssueComment, 'markdown'>;\n  onComment: (text: string) => void;\n  toggleComment: (visible: boolean) => void;\n  placeholder: string;\n  placement?: PopupPlacement;\n  autoTriggered?: boolean;\n}\n\ninterface State {\n  textComment: string;\n}\n\nexport default class CommentPopup extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      textComment: props.comment ? props.comment.markdown : ''\n    };\n  }\n\n  handleCommentChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    this.setState({ textComment: event.target.value });\n  };\n\n  handleCommentClick = () => {\n    if (this.state.textComment.trim().length > 0) {\n      this.props.onComment(this.state.textComment);\n    }\n  };\n\n  handleCancelClick = () => {\n    this.props.toggleComment(false);\n  };\n\n  handleKeyboard = (event: React.KeyboardEvent) => {\n    if (event.keyCode === 13 && (event.metaKey || event.ctrlKey)) {\n      // Ctrl + Enter\n      this.handleCommentClick();\n    } else if ([37, 38, 39, 40].includes(event.keyCode)) {\n      // Arrow keys\n      event.stopPropagation();\n    }\n  };\n\n  render() {\n    const { comment, autoTriggered } = this.props;\n    return (\n      <DropdownOverlay placement={this.props.placement}>\n        <div className=\"issue-comment-bubble-popup\">\n          <div className=\"issue-comment-form-text\">\n            <textarea\n              autoFocus={true}\n              onChange={this.handleCommentChange}\n              onKeyDown={this.handleKeyboard}\n              placeholder={this.props.placeholder}\n              rows={2}\n              value={this.state.textComment}\n            />\n          </div>\n          <div className=\"issue-comment-form-footer\">\n            <div className=\"issue-comment-form-actions\">\n              <Button\n                className=\"js-issue-comment-submit little-spacer-right\"\n                disabled={this.state.textComment.trim().length < 1}\n                onClick={this.handleCommentClick}>\n                {comment && translate('save')}\n                {!comment && translate('issue.comment.submit')}\n              </Button>\n              <ResetButtonLink className=\"js-issue-comment-cancel\" onClick={this.handleCancelClick}>\n                {autoTriggered ? translate('skip') : translate('cancel')}\n              </ResetButtonLink>\n            </div>\n            <div className=\"issue-comment-form-tips\">\n              <FormattingTips />\n            </div>\n          </div>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { addIssueComment } from '../../../api/issues';\nimport { updateIssue } from '../actions';\nimport CommentPopup from '../popups/CommentPopup';\n\ninterface Props {\n  commentAutoTriggered?: boolean;\n  commentPlaceholder: string;\n  currentPopup?: string;\n  issueKey: string;\n  onChange: (issue: T.Issue) => void;\n  toggleComment: (open?: boolean, placeholder?: string, autoTriggered?: boolean) => void;\n}\n\nexport default class IssueCommentAction extends React.PureComponent<Props> {\n  addComment = (text: string) => {\n    updateIssue(this.props.onChange, addIssueComment({ issue: this.props.issueKey, text }));\n    this.props.toggleComment(false);\n  };\n\n  handleCommentClick = () => {\n    this.props.toggleComment();\n  };\n\n  handleClose = () => {\n    this.props.toggleComment(false);\n  };\n\n  render() {\n    return (\n      <li className=\"issue-meta dropdown\">\n        <Toggler\n          closeOnClickOutside={false}\n          onRequestClose={this.handleClose}\n          open={this.props.currentPopup === 'comment'}\n          overlay={\n            <CommentPopup\n              autoTriggered={this.props.commentAutoTriggered}\n              onComment={this.addComment}\n              placeholder={this.props.commentPlaceholder}\n              toggleComment={this.props.toggleComment}\n            />\n          }>\n          <ButtonLink\n            aria-expanded={this.props.currentPopup === 'comment'}\n            aria-label={translate('issue.comment.add_comment')}\n            className=\"issue-action js-issue-comment\"\n            onClick={this.handleCommentClick}>\n            <span className=\"issue-meta-label\">{translate('issue.comment.formlink')}</span>\n          </ButtonLink>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\ntype Props = {\n  issue: Pick<T.Issue, 'severity'>;\n  onSelect: (severity: string) => void;\n};\n\nconst SEVERITY = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\nexport default function SetSeverityPopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.severity} items={SEVERITY} onSelect={onSelect}>\n        {SEVERITY.map(severity => (\n          <SelectListItem className=\"display-flex-center\" item={severity} key={severity}>\n            <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n            {translate('severity', severity)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { setIssueSeverity } from '../../../api/issues';\nimport { IssueResponse } from '../../../types/issues';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport SetSeverityPopup from '../popups/SetSeverityPopup';\n\ninterface Props {\n  canSetSeverity: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'severity'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueSeverity extends React.PureComponent<Props> {\n  toggleSetSeverity = (open?: boolean) => {\n    this.props.togglePopup('set-severity', open);\n  };\n\n  setSeverity = (severity: string) => {\n    this.props.setIssueProperty('severity', 'set-severity', setIssueSeverity, severity);\n  };\n\n  handleClose = () => {\n    this.toggleSetSeverity(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetSeverity) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetSeverity}\n            overlay={<SetSeverityPopup issue={issue} onSelect={this.setSeverity} />}>\n            <ButtonLink\n              aria-label={translateWithParameters(\n                'issue.severity.severity_x_click_to_change',\n                translate('severity', issue.severity)\n              )}\n              aria-expanded={this.props.isOpen}\n              className=\"issue-action issue-action-with-options js-issue-set-severity\"\n              onClick={this.toggleSetSeverity}>\n              <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    }\n\n    return <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { difference, without } from 'lodash';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { searchIssueTags } from '../../../api/issues';\nimport TagsSelector from '../../tags/TagsSelector';\n\ninterface Props {\n  selectedTags: string[];\n  setTags: (tags: string[]) => void;\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\nconst MAX_LIST_SIZE = 100;\n\nexport default class SetIssueTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return searchIssueTags({\n      q: query,\n      ps: Math.min(this.props.selectedTags.length - 1 + LIST_SIZE, MAX_LIST_SIZE)\n    }).then(\n      (tags: string[]) => {\n        if (this.mounted) {\n          this.setState({ searchResult: tags });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags([...this.props.selectedTags, tag]);\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.selectedTags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.selectedTags);\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <TagsSelector\n          listSize={LIST_SIZE}\n          onSearch={this.onSearch}\n          onSelect={this.onSelect}\n          onUnselect={this.onUnselect}\n          selectedTags={this.props.selectedTags}\n          tags={availableTags}\n        />\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { setIssueTags } from '../../../api/issues';\nimport TagsList from '../../tags/TagsList';\nimport { updateIssue } from '../actions';\nimport SetIssueTagsPopup from '../popups/SetIssueTagsPopup';\n\ninterface Props {\n  canSetTags: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'key' | 'tags'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTags extends React.PureComponent<Props> {\n  toggleSetTags = (open?: boolean) => {\n    this.props.togglePopup('edit-tags', open);\n  };\n\n  setTags = (tags: string[]) => {\n    const { issue } = this.props;\n    const newIssue = { ...issue, tags };\n    updateIssue(\n      this.props.onChange,\n      setIssueTags({ issue: issue.key, tags: tags.join(',') }),\n      issue as T.Issue,\n      newIssue as T.Issue\n    );\n  };\n\n  handleClose = () => {\n    this.toggleSetTags(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    const { tags = [] } = issue;\n\n    if (this.props.canSetTags) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen}\n            overlay={<SetIssueTagsPopup selectedTags={tags} setTags={this.setTags} />}>\n            <ButtonLink\n              aria-expanded={this.props.isOpen}\n              className=\"issue-action issue-action-with-options js-issue-edit-tags\"\n              onClick={this.toggleSetTags}>\n              <TagsList\n                allowUpdate={this.props.canSetTags}\n                tags={\n                  issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]\n                }\n              />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    }\n\n    return (\n      <TagsList\n        allowUpdate={this.props.canSetTags}\n        className=\"note\"\n        tags={issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\nexport interface Props {\n  fromHotspot: boolean;\n  onSelect: (transition: string) => void;\n  transitions: string[];\n  type: T.IssueType;\n}\n\nexport default function SetTransitionPopup({ fromHotspot, onSelect, transitions, type }: Props) {\n  const isManualVulnerability = fromHotspot && type === 'VULNERABILITY';\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={transitions[0]} items={transitions} onSelect={onSelect}>\n        {transitions.map(transition => {\n          const [name, description] = translateTransition(transition, isManualVulnerability);\n          return (\n            <SelectListItem item={transition} key={transition} title={description}>\n              {name}\n            </SelectListItem>\n          );\n        })}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n\nfunction translateTransition(transition: string, isManualVulnerability: boolean) {\n  return isManualVulnerability && hasMessage('vulnerability.transition', transition)\n    ? [\n        translate('vulnerability.transition', transition),\n        translate('vulnerability.transition', transition, 'description')\n      ]\n    : [\n        translate('issue.transition', transition),\n        <FormattedMessage\n          key=\"description\"\n          defaultMessage={translate('issue.transition', transition, 'description')}\n          id={`issue.transition.${transition}.description`}\n          values={{\n            community_plug_link: (\n              <a\n                href=\"https://community.sonarsource.com/\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\">\n                {translate('issue.transition.community_plug_link')}\n              </a>\n            )\n          }}\n        />\n      ];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { setIssueTransition } from '../../../api/issues';\nimport StatusHelper from '../../shared/StatusHelper';\nimport { updateIssue } from '../actions';\nimport SetTransitionPopup from '../popups/SetTransitionPopup';\n\ninterface Props {\n  hasTransitions: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'fromHotspot' | 'key' | 'resolution' | 'status' | 'transitions' | 'type'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTransition extends React.PureComponent<Props> {\n  setTransition = (transition: string) => {\n    updateIssue(\n      this.props.onChange,\n      setIssueTransition({ issue: this.props.issue.key, transition })\n    );\n    this.toggleSetTransition();\n  };\n\n  toggleSetTransition = (open?: boolean) => {\n    this.props.togglePopup('transition', open);\n  };\n\n  handleClose = () => {\n    this.toggleSetTransition(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    if (this.props.hasTransitions) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.hasTransitions}\n            overlay={\n              <SetTransitionPopup\n                fromHotspot={issue.fromHotspot}\n                onSelect={this.setTransition}\n                transitions={issue.transitions}\n                type={issue.type}\n              />\n            }>\n            <ButtonLink\n              aria-label={translateWithParameters(\n                'issue.transition.status_x_click_to_change',\n                translate('issue.status', issue.status)\n              )}\n              aria-expanded={this.props.isOpen}\n              className=\"issue-action issue-action-with-options js-issue-transition\"\n              onClick={this.toggleSetTransition}>\n              <StatusHelper\n                className=\"issue-meta-label\"\n                resolution={issue.resolution}\n                status={issue.status}\n              />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    }\n\n    return (\n      <StatusHelper\n        className=\"issue-meta-label\"\n        resolution={issue.resolution}\n        status={issue.status}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\ninterface Props {\n  issue: Pick<T.Issue, 'type'>;\n  onSelect: (type: T.IssueType) => void;\n}\n\nconst TYPES = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n\nexport default function SetTypePopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.type} items={TYPES} onSelect={onSelect}>\n        {TYPES.map(type => (\n          <SelectListItem className=\"display-flex-center\" item={type} key={type}>\n            <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n            {translate('issue.type', type)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { setIssueType } from '../../../api/issues';\nimport { colors } from '../../../app/theme';\nimport { IssueResponse } from '../../../types/issues';\nimport SetTypePopup from '../popups/SetTypePopup';\n\ninterface Props {\n  canSetType: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'type'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueType extends React.PureComponent<Props> {\n  toggleSetType = (open?: boolean) => {\n    this.props.togglePopup('set-type', open);\n  };\n\n  setType = (type: string) => {\n    this.props.setIssueProperty('type', 'set-type', setIssueType, type);\n  };\n\n  handleClose = () => {\n    this.toggleSetType(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetType) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetType}\n            overlay={<SetTypePopup issue={issue} onSelect={this.setType} />}>\n            <ButtonLink\n              aria-label={translateWithParameters(\n                'issue.type.type_x_click_to_change',\n                translate('issue.type', issue.type)\n              )}\n              aria-expanded={this.props.isOpen}\n              className=\"issue-action issue-action-with-options js-issue-set-type\"\n              onClick={this.toggleSetType}>\n              <IssueTypeIcon\n                className=\"little-spacer-right\"\n                fill={colors.baseFontColor}\n                query={issue.type}\n              />\n              {translate('issue.type', issue.type)}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    }\n\n    return (\n      <span>\n        <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n        {translate('issue.type', issue.type)}\n      </span>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { IssueResponse } from '../../../types/issues';\nimport { updateIssue } from '../actions';\nimport IssueAssign from './IssueAssign';\nimport IssueCommentAction from './IssueCommentAction';\nimport IssueSeverity from './IssueSeverity';\nimport IssueTags from './IssueTags';\nimport IssueTransition from './IssueTransition';\nimport IssueType from './IssueType';\n\ninterface Props {\n  issue: T.Issue;\n  currentPopup?: string;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\ninterface State {\n  commentAutoTriggered: boolean;\n  commentPlaceholder: string;\n}\n\nexport default class IssueActionsBar extends React.PureComponent<Props, State> {\n  state: State = {\n    commentAutoTriggered: false,\n    commentPlaceholder: ''\n  };\n\n  setIssueProperty = (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => {\n    const { issue } = this.props;\n    if (issue[property] !== value) {\n      const newIssue = { ...issue, [property]: value };\n      updateIssue(\n        this.props.onChange,\n        apiCall({ issue: issue.key, [property]: value }),\n        issue,\n        newIssue\n      );\n    }\n    this.props.togglePopup(popup, false);\n  };\n\n  toggleComment = (open: boolean | undefined, placeholder = '', autoTriggered = false) => {\n    this.setState({\n      commentPlaceholder: placeholder,\n      commentAutoTriggered: autoTriggered\n    });\n    this.props.togglePopup('comment', open);\n  };\n\n  handleTransition = (issue: T.Issue) => {\n    this.props.onChange(issue);\n    if (\n      issue.resolution === 'FALSE-POSITIVE' ||\n      (issue.resolution === 'WONTFIX' && issue.type !== 'SECURITY_HOTSPOT')\n    ) {\n      this.toggleComment(true, translate('issue.comment.explain_why'), true);\n    }\n  };\n\n  render() {\n    const { issue } = this.props;\n    const canAssign = issue.actions.includes('assign');\n    const canComment = issue.actions.includes('comment');\n    const canSetSeverity = issue.actions.includes('set_severity');\n    const canSetType = issue.actions.includes('set_type');\n    const canSetTags = issue.actions.includes('set_tags');\n    const hasTransitions = issue.transitions && issue.transitions.length > 0;\n    const isSecurityHotspot = issue.type === 'SECURITY_HOTSPOT';\n\n    return (\n      <div className=\"issue-actions\">\n        <div className=\"issue-meta-list\">\n          <div className=\"issue-meta\">\n            <IssueType\n              canSetType={canSetType}\n              isOpen={this.props.currentPopup === 'set-type' && canSetType}\n              issue={issue}\n              setIssueProperty={this.setIssueProperty}\n              togglePopup={this.props.togglePopup}\n            />\n          </div>\n          {!isSecurityHotspot && (\n            <div className=\"issue-meta\">\n              <IssueSeverity\n                canSetSeverity={canSetSeverity}\n                isOpen={this.props.currentPopup === 'set-severity' && canSetSeverity}\n                issue={issue}\n                setIssueProperty={this.setIssueProperty}\n                togglePopup={this.props.togglePopup}\n              />\n            </div>\n          )}\n          <div className=\"issue-meta\">\n            <IssueTransition\n              hasTransitions={hasTransitions}\n              isOpen={this.props.currentPopup === 'transition' && hasTransitions}\n              issue={issue}\n              onChange={this.handleTransition}\n              togglePopup={this.props.togglePopup}\n            />\n          </div>\n          <div className=\"issue-meta\">\n            <IssueAssign\n              canAssign={canAssign}\n              isOpen={this.props.currentPopup === 'assign' && canAssign}\n              issue={issue}\n              onAssign={this.props.onAssign}\n              togglePopup={this.props.togglePopup}\n            />\n          </div>\n          {!isSecurityHotspot && issue.effort && (\n            <div className=\"issue-meta\">\n              <span className=\"issue-meta-label\">\n                {translateWithParameters('issue.x_effort', issue.effort)}\n              </span>\n            </div>\n          )}\n          {canComment && (\n            <IssueCommentAction\n              commentAutoTriggered={this.state.commentAutoTriggered}\n              commentPlaceholder={this.state.commentPlaceholder}\n              currentPopup={this.props.currentPopup}\n              issueKey={issue.key}\n              onChange={this.props.onChange}\n              toggleComment={this.toggleComment}\n            />\n          )}\n        </div>\n        <div className=\"list-inline\">\n          <div className=\"issue-meta js-issue-tags\">\n            <IssueTags\n              canSetTags={canSetTags}\n              isOpen={this.props.currentPopup === 'edit-tags' && canSetTags}\n              issue={issue}\n              onChange={this.props.onChange}\n              togglePopup={this.props.togglePopup}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  onDelete: () => void;\n}\n\nexport default function CommentDeletePopup({ onDelete }: Props) {\n  return (\n    <DropdownOverlay placement={PopupPlacement.BottomRight}>\n      <div className=\"menu is-container\">\n        <div className=\"spacer-bottom\">{translate('issue.comment.delete_confirm_message')}</div>\n        <Button className=\"button-red\" onClick={onDelete}>\n          {translate('delete')}\n        </Button>\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DeleteButton, EditButton } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { sanitizeString } from '../../../helpers/sanitize';\nimport Avatar from '../../ui/Avatar';\nimport CommentDeletePopup from '../popups/CommentDeletePopup';\nimport CommentPopup from '../popups/CommentPopup';\n\ninterface Props {\n  comment: T.IssueComment;\n  onDelete: (comment: string) => void;\n  onEdit: (comment: string, text: string) => void;\n}\n\ninterface State {\n  openPopup: string;\n}\n\nexport default class IssueCommentLine extends React.PureComponent<Props, State> {\n  state: State = {\n    openPopup: ''\n  };\n\n  handleEdit = (text: string) => {\n    this.props.onEdit(this.props.comment.key, text);\n    this.toggleEditPopup(false);\n  };\n\n  handleDelete = () => {\n    this.props.onDelete(this.props.comment.key);\n    this.toggleDeletePopup(false);\n  };\n\n  togglePopup = (popupName: string, force?: boolean) => {\n    this.setState(prevState => {\n      if (prevState.openPopup !== popupName && force !== false) {\n        return { openPopup: popupName };\n      } else if (prevState.openPopup === popupName && force !== true) {\n        return { openPopup: '' };\n      }\n      return prevState;\n    });\n  };\n\n  toggleDeletePopup = (force?: boolean) => {\n    this.togglePopup('delete', force);\n  };\n\n  toggleEditPopup = (force?: boolean) => {\n    this.togglePopup('edit', force);\n  };\n\n  closePopups = () => {\n    this.setState({ openPopup: '' });\n  };\n\n  render() {\n    const { comment } = this.props;\n    const author = comment.authorName || comment.author;\n    const displayName =\n      comment.authorActive === false && author\n        ? translateWithParameters('user.x_deleted', author)\n        : author;\n    return (\n      <div className=\"issue-comment\">\n        <div className=\"issue-comment-author\" title={displayName}>\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={comment.authorAvatar}\n            name={author}\n            size={16}\n          />\n          {displayName}\n        </div>\n        <div\n          className=\"issue-comment-text markdown\"\n          // eslint-disable-next-line react/no-danger\n          dangerouslySetInnerHTML={{ __html: sanitizeString(comment.htmlText) }}\n        />\n        <div className=\"issue-comment-age\">\n          <span className=\"a11y-hidden\">{translate('issue.comment.posted_on')}</span>\n          <DateFromNow date={comment.createdAt} />\n        </div>\n        <div className=\"issue-comment-actions\">\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                closeOnClickOutside={false}\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'edit'}\n                overlay={\n                  <CommentPopup\n                    comment={comment}\n                    onComment={this.handleEdit}\n                    placeholder=\"\"\n                    placement={PopupPlacement.BottomRight}\n                    toggleComment={this.toggleEditPopup}\n                  />\n                }>\n                <EditButton\n                  aria-label={translate('issue.comment.edit')}\n                  className=\"js-issue-comment-edit button-small\"\n                  onClick={this.toggleEditPopup}\n                />\n              </Toggler>\n            </div>\n          )}\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'delete'}\n                overlay={<CommentDeletePopup onDelete={this.handleDelete} />}>\n                <DeleteButton\n                  aria-label={translate('issue.comment.delete')}\n                  className=\"js-issue-comment-delete button-small\"\n                  onClick={this.toggleDeletePopup}\n                />\n              </Toggler>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum RuleStatus {\n  Ready = 'READY',\n  Beta = 'BETA',\n  Deprecated = 'DEPRECATED',\n  Removed = 'REMOVED'\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport DateTimeFormatter from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getIssueChangelog } from '../../../api/issues';\nimport Avatar from '../../ui/Avatar';\nimport IssueChangelogDiff from '../components/IssueChangelogDiff';\n\ninterface Props {\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n}\n\ninterface State {\n  changelog: T.IssueChangelog[];\n}\n\nexport default class ChangelogPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { changelog: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadChangelog();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadChangelog() {\n    getIssueChangelog(this.props.issue.key).then(\n      ({ changelog }) => {\n        if (this.mounted) {\n          this.setState({ changelog });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const { issue } = this.props;\n    const { author } = issue;\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <div className=\"menu is-container issue-changelog\">\n          <table className=\"spaced\">\n            <tbody>\n              <tr>\n                <td className=\"thin text-left text-top nowrap\">\n                  <DateTimeFormatter date={issue.creationDate} />\n                </td>\n                <td className=\"text-left text-top\">\n                  {author ? `${translate('created_by')} ${author}` : translate('created')}\n                </td>\n              </tr>\n\n              {this.state.changelog.map((item, idx) => {\n                const userName = item.userName || item.user;\n\n                return (\n                  <tr key={idx}>\n                    <td className=\"thin text-left text-top nowrap\">\n                      <DateTimeFormatter date={item.creationDate} />\n                    </td>\n                    <td className=\"text-left text-top\">\n                      {userName && (\n                        <p>\n                          <Avatar\n                            className=\"little-spacer-right\"\n                            hash={item.avatar}\n                            name={userName}\n                            size={16}\n                          />\n                          {item.isUserActive\n                            ? userName\n                            : translateWithParameters('user.x_deleted', userName)}\n                        </p>\n                      )}\n                      {item.diffs.map(diff => (\n                        <IssueChangelogDiff diff={diff} key={diff.key} />\n                      ))}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport ChangelogPopup from '../popups/ChangelogPopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n  creationDate: string;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueChangelog extends React.PureComponent<Props> {\n  toggleChangelog = (open?: boolean) => {\n    this.props.togglePopup('changelog', open);\n  };\n\n  handleClick = () => {\n    this.toggleChangelog();\n  };\n\n  handleClose = () => {\n    this.toggleChangelog(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<ChangelogPopup issue={this.props.issue} />}>\n          <ButtonLink\n            aria-expanded={this.props.isOpen}\n            className=\"issue-action issue-action-with-options js-issue-show-changelog\"\n            onClick={this.handleClick}>\n            <span className=\"issue-meta-label\">\n              <DateFromNow date={this.props.creationDate} />\n            </span>\n            <DropdownIcon className=\"little-spacer-left\" />\n          </ButtonLink>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { RuleStatus } from '../../../types/rules';\nimport DocumentationTooltip from '../../common/DocumentationTooltip';\nimport { WorkspaceContextShape } from '../../workspace/context';\n\nexport interface IssueMessageProps {\n  engine?: string;\n  engineName?: string;\n  manualVulnerability: boolean;\n  message: string;\n  onOpenRule: WorkspaceContextShape['openRule'];\n  ruleKey: string;\n  ruleStatus?: RuleStatus;\n}\n\nexport default function IssueMessage(props: IssueMessageProps) {\n  const { engine, engineName, manualVulnerability, message, ruleKey, ruleStatus } = props;\n  const ruleEngine = engineName ? engineName : engine;\n\n  return (\n    <div className=\"issue-message break-word\">\n      <span className=\"spacer-right\">{message}</span>\n      <ButtonLink\n        aria-label={translate('issue.why_this_issue.long')}\n        className=\"issue-see-rule spacer-right text-baseline\"\n        onClick={() =>\n          props.onOpenRule({\n            key: ruleKey\n          })\n        }>\n        {translate('issue.why_this_issue')}\n      </ButtonLink>\n\n      {ruleStatus && (ruleStatus === RuleStatus.Deprecated || ruleStatus === RuleStatus.Removed) && (\n        <DocumentationTooltip\n          className=\"spacer-left\"\n          content={translate('rules.status', ruleStatus, 'help')}\n          links={[\n            {\n              href: '/documentation/user-guide/rules/',\n              label: translateWithParameters('see_x', translate('rules'))\n            }\n          ]}>\n          <span className=\"spacer-right badge badge-error\">\n            {translate('rules.status', ruleStatus)}\n          </span>\n        </DocumentationTooltip>\n      )}\n\n      {ruleEngine && (\n        <Tooltip overlay={translateWithParameters('issue.from_external_rule_engine', ruleEngine)}>\n          <div className=\"badge spacer-right text-baseline\">{ruleEngine}</div>\n        </Tooltip>\n      )}\n      {manualVulnerability && (\n        <Tooltip overlay={translate('issue.manual_vulnerability.description')}>\n          <div className=\"badge spacer-right text-baseline\">\n            {translate('issue.manual_vulnerability')}\n          </div>\n        </Tooltip>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { fileFromPath, limitComponentName } from 'sonar-ui-common/helpers/path';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport StatusHelper from '../../shared/StatusHelper';\nimport Avatar from '../../ui/Avatar';\n\ninterface Props {\n  issue: T.Issue;\n  onFilter: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesPopup extends React.PureComponent<Props> {\n  handleSelect = (property: string) => {\n    this.props.onFilter(property, this.props.issue);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const items = [\n      'type',\n      'severity',\n      'status',\n      'resolution',\n      'assignee',\n      'rule',\n      ...(issue.tags || []).map(tag => `tag###${tag}`),\n      'project',\n      issue.subProject ? 'module' : undefined,\n      'file'\n    ].filter(item => item) as string[];\n\n    const assignee = issue.assigneeName || issue.assignee;\n\n    return (\n      <DropdownOverlay noPadding={true}>\n        <header className=\"menu-search\">\n          <h6>{translate('issue.filter_similar_issues')}</h6>\n        </header>\n\n        <SelectList\n          className=\"issues-similar-issues-menu\"\n          currentItem={items[0]}\n          items={items}\n          onSelect={this.handleSelect}>\n          <SelectListItem className=\"display-flex-center\" item=\"type\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n            {translate('issue.type', issue.type)}\n          </SelectListItem>\n\n          <SelectListItem item=\"severity\">\n            <SeverityHelper className=\"display-flex-center\" severity={issue.severity} />\n          </SelectListItem>\n\n          <SelectListItem item=\"status\">\n            <StatusHelper\n              className=\"display-flex-center\"\n              resolution={undefined}\n              status={issue.status}\n            />\n          </SelectListItem>\n\n          <SelectListItem item=\"resolution\">\n            {issue.resolution != null\n              ? translate('issue.resolution', issue.resolution)\n              : translate('unresolved')}\n          </SelectListItem>\n\n          <SelectListItem item=\"assignee\">\n            {assignee ? (\n              <span>\n                {translate('assigned_to')}\n                <Avatar\n                  className=\"little-spacer-left little-spacer-right\"\n                  hash={issue.assigneeAvatar}\n                  name={assignee}\n                  size={16}\n                />\n                {issue.assigneeActive === false\n                  ? translateWithParameters('user.x_deleted', assignee)\n                  : assignee}\n              </span>\n            ) : (\n              translate('unassigned')\n            )}\n          </SelectListItem>\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"rule\">{limitComponentName(issue.ruleName)}</SelectListItem>\n\n          {issue.tags != null &&\n            issue.tags.map(tag => (\n              <SelectListItem item={`tag###${tag}`} key={`tag###${tag}`}>\n                <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                <span className=\"text-middle\">{tag}</span>\n              </SelectListItem>\n            ))}\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"project\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n            {issue.projectName}\n          </SelectListItem>\n\n          {issue.subProject != null && (\n            <SelectListItem item=\"module\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n              {issue.subProjectName}\n            </SelectListItem>\n          )}\n\n          <SelectListItem item=\"file\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier={issue.componentQualifier} />\n            {fileFromPath(issue.componentLongName)}\n          </SelectListItem>\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport FilterIcon from 'sonar-ui-common/components/icons/FilterIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SimilarIssuesPopup from '../popups/SimilarIssuesPopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: T.Issue;\n  togglePopup: (popup: string, show?: boolean) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesFilter extends React.PureComponent<Props> {\n  handleFilter = (property: string, issue: T.Issue) => {\n    this.togglePopup(false);\n    if (this.props.onFilter) {\n      this.props.onFilter(property, issue);\n    }\n  };\n\n  togglePopup = (open?: boolean) => {\n    this.props.togglePopup('similarIssues', open);\n  };\n\n  handleClose = () => {\n    this.togglePopup(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<SimilarIssuesPopup issue={this.props.issue} onFilter={this.handleFilter} />}>\n          <ButtonLink\n            aria-label={translate('issue.filter_similar_issues')}\n            aria-expanded={this.props.isOpen}\n            className=\"issue-action issue-action-with-options js-issue-filter\"\n            onClick={this.togglePopup}\n            title={translate('issue.filter_similar_issues')}>\n            <FilterIcon className=\"icon-half-transparent\" />\n            <DropdownIcon className=\"icon-half-transparent\" />\n          </ButtonLink>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport LinkIcon from 'sonar-ui-common/components/icons/LinkIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { getComponentIssuesUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { RuleStatus } from '../../../types/rules';\nimport LocationIndex from '../../common/LocationIndex';\nimport { WorkspaceContext } from '../../workspace/context';\nimport IssueChangelog from './IssueChangelog';\nimport IssueMessage from './IssueMessage';\nimport SimilarIssuesFilter from './SimilarIssuesFilter';\n\nexport interface IssueTitleBarProps {\n  branchLike?: BranchLike;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default function IssueTitleBar(props: IssueTitleBarProps) {\n  const { issue } = props;\n  const hasSimilarIssuesFilter = props.onFilter != null;\n\n  const locationsCount =\n    issue.secondaryLocations.length +\n    issue.flows.reduce((sum, locations) => sum + locations.length, 0);\n\n  const locationsBadge = (\n    <Tooltip\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(locationsCount, 'INT')\n      )}>\n      <LocationIndex>{locationsCount}</LocationIndex>\n    </Tooltip>\n  );\n\n  const displayLocations = props.displayLocationsCount && locationsCount > 0;\n\n  const issueUrl = getComponentIssuesUrl(issue.project, {\n    ...getBranchLikeQuery(props.branchLike),\n    issues: issue.key,\n    open: issue.key,\n    types: issue.type === 'SECURITY_HOTSPOT' ? issue.type : undefined\n  });\n\n  return (\n    <div className=\"issue-row\">\n      <WorkspaceContext.Consumer>\n        {({ externalRulesRepoNames, openRule }) => (\n          <IssueMessage\n            engine={issue.externalRuleEngine}\n            engineName={\n              issue.externalRuleEngine &&\n              externalRulesRepoNames &&\n              externalRulesRepoNames[issue.externalRuleEngine]\n            }\n            manualVulnerability={issue.fromHotspot && issue.type === 'VULNERABILITY'}\n            message={issue.message}\n            onOpenRule={openRule}\n            ruleKey={issue.rule}\n            ruleStatus={issue.ruleStatus as RuleStatus | undefined}\n          />\n        )}\n      </WorkspaceContext.Consumer>\n\n      <div className=\"issue-row-meta\">\n        <div className=\"issue-meta-list\">\n          <div className=\"issue-meta\">\n            <IssueChangelog\n              creationDate={issue.creationDate}\n              isOpen={props.currentPopup === 'changelog'}\n              issue={issue}\n              togglePopup={props.togglePopup}\n            />\n          </div>\n          {issue.textRange != null && (\n            <div className=\"issue-meta\">\n              <span className=\"issue-meta-label\" title={translate('line_number')}>\n                L{issue.textRange.endLine}\n              </span>\n            </div>\n          )}\n          {displayLocations && (\n            <div className=\"issue-meta\">\n              {props.displayLocationsLink ? (\n                <Link target=\"_blank\" to={issueUrl}>\n                  {locationsBadge}\n                </Link>\n              ) : (\n                locationsBadge\n              )}\n            </div>\n          )}\n          <div className=\"issue-meta\">\n            <Link\n              className=\"js-issue-permalink link-no-underline\"\n              target=\"_blank\"\n              title={translate('permalink')}\n              to={issueUrl}>\n              <LinkIcon />\n            </Link>\n          </div>\n          {hasSimilarIssuesFilter && (\n            <div className=\"issue-meta\">\n              <SimilarIssuesFilter\n                isOpen={props.currentPopup === 'similarIssues'}\n                issue={issue}\n                onFilter={props.onFilter}\n                togglePopup={props.togglePopup}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { deleteIssueComment, editIssueComment } from '../../api/issues';\nimport { BranchLike } from '../../types/branch-like';\nimport { updateIssue } from './actions';\nimport IssueActionsBar from './components/IssueActionsBar';\nimport IssueCommentLine from './components/IssueCommentLine';\nimport IssueTitleBar from './components/IssueTitleBar';\n\ninterface Props {\n  branchLike?: BranchLike;\n  checked?: boolean;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  selected: boolean;\n  togglePopup: (popup: string, show: boolean | void) => void;\n}\n\nexport default class IssueView extends React.PureComponent<Props> {\n  handleCheck = () => {\n    if (this.props.onCheck) {\n      this.props.onCheck(this.props.issue.key);\n    }\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (!isClickable(event.target as HTMLElement) && this.props.onClick) {\n      event.preventDefault();\n      this.props.onClick(this.props.issue.key);\n    }\n  };\n\n  editComment = (comment: string, text: string) => {\n    updateIssue(this.props.onChange, editIssueComment({ comment, text }));\n  };\n\n  deleteComment = (comment: string) => {\n    updateIssue(this.props.onChange, deleteIssueComment({ comment }));\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const hasCheckbox = this.props.onCheck != null;\n\n    const issueClass = classNames('issue', {\n      hotspot: issue.type === 'SECURITY_HOTSPOT',\n      'issue-with-checkbox': hasCheckbox,\n      selected: this.props.selected\n    });\n\n    return (\n      <div className={issueClass} data-issue={issue.key} onClick={this.handleClick} role=\"group\">\n        <IssueTitleBar\n          branchLike={this.props.branchLike}\n          currentPopup={this.props.currentPopup}\n          displayLocationsCount={this.props.displayLocationsCount}\n          displayLocationsLink={this.props.displayLocationsLink}\n          issue={issue}\n          onFilter={this.props.onFilter}\n          togglePopup={this.props.togglePopup}\n        />\n        <IssueActionsBar\n          currentPopup={this.props.currentPopup}\n          issue={issue}\n          onAssign={this.props.onAssign}\n          onChange={this.props.onChange}\n          togglePopup={this.props.togglePopup}\n        />\n        {issue.comments && issue.comments.length > 0 && (\n          <div className=\"issue-comments\">\n            {issue.comments.map(comment => (\n              <IssueCommentLine\n                comment={comment}\n                key={comment.key}\n                onDelete={this.deleteComment}\n                onEdit={this.editComment}\n              />\n            ))}\n          </div>\n        )}\n        {hasCheckbox && (\n          <>\n            <Checkbox\n              checked={this.props.checked || false}\n              className=\"issue-checkbox-container\"\n              onCheck={this.handleCheck}\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction isClickable(node: HTMLElement | undefined | null): boolean {\n  if (!node) {\n    return false;\n  }\n  const clickableTags = ['A', 'BUTTON', 'INPUT', 'TEXTAREA'];\n  const tagName = (node.tagName || '').toUpperCase();\n  return clickableTags.includes(tagName) || isClickable(node.parentElement);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport * as React from 'react';\nimport { setIssueAssignee } from '../../api/issues';\nimport { BranchLike } from '../../types/branch-like';\nimport { updateIssue } from './actions';\nimport './Issue.css';\nimport IssueView from './IssueView';\n\ninterface Props {\n  branchLike?: BranchLike;\n  checked?: boolean;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup?: string;\n  selected: boolean;\n}\n\nexport default class Issue extends React.PureComponent<Props> {\n  static defaultProps = {\n    selected: false\n  };\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUpdate(nextProps: Props) {\n    if (!nextProps.selected && this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.selected && this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  bindShortcuts() {\n    key('f', 'issues', () => {\n      this.togglePopup('transition');\n      return false;\n    });\n    key('a', 'issues', () => {\n      this.togglePopup('assign');\n      return false;\n    });\n    key('m', 'issues', () => {\n      if (this.props.issue.actions.includes('assign')) {\n        this.handleAssignement('_me');\n      }\n      return false;\n    });\n    key('i', 'issues', () => {\n      this.togglePopup('set-severity');\n      return false;\n    });\n    key('c', 'issues', () => {\n      this.togglePopup('comment');\n      return false;\n    });\n    key('t', 'issues', () => {\n      this.togglePopup('edit-tags');\n      return false;\n    });\n    key('space', 'issues', () => {\n      if (this.props.onCheck) {\n        this.props.onCheck(this.props.issue.key);\n        return false;\n      }\n      return undefined;\n    });\n  }\n\n  unbindShortcuts() {\n    key.unbind('f', 'issues');\n    key.unbind('a', 'issues');\n    key.unbind('m', 'issues');\n    key.unbind('i', 'issues');\n    key.unbind('c', 'issues');\n    key.unbind('space', 'issues');\n    key.unbind('t', 'issues');\n  }\n\n  togglePopup = (popupName: string, open?: boolean) => {\n    this.props.onPopupToggle(this.props.issue.key, popupName, open);\n  };\n\n  handleAssignement = (login: string) => {\n    const { issue } = this.props;\n    if (issue.assignee !== login) {\n      updateIssue(this.props.onChange, setIssueAssignee({ issue: issue.key, assignee: login }));\n    }\n    this.togglePopup('assign', false);\n  };\n\n  render() {\n    return (\n      <IssueView\n        branchLike={this.props.branchLike}\n        checked={this.props.checked}\n        currentPopup={this.props.openPopup}\n        displayLocationsCount={this.props.displayLocationsCount}\n        displayLocationsLink={this.props.displayLocationsLink}\n        issue={this.props.issue}\n        onAssign={this.handleAssignement}\n        onChange={this.props.onChange}\n        onCheck={this.props.onCheck}\n        onClick={this.props.onClick}\n        onFilter={this.props.onFilter}\n        selected={this.props.selected}\n        togglePopup={this.togglePopup}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  diff: T.IssueChangelogDiff;\n}\n\nexport default function IssueChangelogDiff({ diff }: Props) {\n  if (diff.key === 'file') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.file_move',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (['from_long_branch', 'from_branch'].includes(diff.key)) {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'from_short_branch') {\n    // Applies to both legacy short lived branch and pull request\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_non_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'line') {\n    return <p>{translateWithParameters('issue.changelog.line_removed_X', diff.oldValue || '')}</p>;\n  }\n\n  let message;\n  if (diff.newValue != null) {\n    let { newValue } = diff;\n    if (diff.key === 'effort') {\n      newValue = formatMeasure(diff.newValue, 'WORK_DUR');\n    }\n    message = translateWithParameters(\n      'issue.changelog.changed_to',\n      translate('issue.changelog.field', diff.key),\n      newValue\n    );\n  } else {\n    message = translateWithParameters(\n      'issue.changelog.removed',\n      translate('issue.changelog.field', diff.key)\n    );\n  }\n\n  if (diff.oldValue != null) {\n    let { oldValue } = diff;\n    if (diff.key === 'effort') {\n      oldValue = formatMeasure(diff.oldValue, 'WORK_DUR');\n    }\n    message += ` (${translateWithParameters('issue.changelog.was', oldValue)})`;\n  }\n  return <p>{message}</p>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './LocationMessage.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  selected: boolean;\n}\n\nexport default function LocationMessage(props: Props) {\n  return (\n    <div className={classNames('location-message', { selected: props.selected })}>\n      {props.children}\n    </div>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./EmptySearch.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".location-index{position:relative;display:inline-block;vertical-align:top;line-height:16px;padding-left:6px;padding-right:6px;border-radius:2px;background-color:#d18582;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;transition:background-color .3s ease;-webkit-user-select:none;-ms-user-select:none;user-select:none}.location-index.selected{background-color:#a4030f}.location-index.muted{background-color:#cdcdcd}.location-index.is-leading:first-child{margin-left:0}.location-index.is-leading:not(:first-child){margin-left:-22px}.location-index[tabindex]{cursor:pointer}.location-index[tabindex]:hover,a:hover>.location-index{background-color:#a4030f}.location-index[tabindex]:focus{outline:none}.source-line-code-inner .location-index{line-height:16px;margin:1px 4px}.source-line-code-inner .location-index+.location-index{margin-left:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".location-message{display:inline-block;vertical-align:top;line-height:16px;padding:0 6px;border-radius:2px;background-color:#9e9e9e;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;text-overflow:ellipsis;overflow:hidden;transition:background-color .3s ease}.location-message.selected{background-color:#475760}.location-index+.location-message{margin-left:4px}.location-index>.location-message{display:none;position:absolute;bottom:calc(100% + 4px);left:0}.location-index:hover>.location-message{display:block}.location-index>.location-message:after{position:absolute;bottom:-5px;left:4px;width:0;height:0;border-top:5px solid #475760;border-left:5px solid transparent;border-right:5px solid transparent;content:\\\"\\\"}.source-line-code .location-message{padding-top:2px;padding-bottom:2px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".issue{position:relative;padding-top:8px;padding-bottom:8px;background-color:#f2dede;transition:all .3s ease,border 0s ease}.issue.hotspot{background-color:#eeeff4}.issue.selected{box-shadow:none;outline:none;border:2px solid #4b9fd5!important}.issue+.issue,.issue-container+.issue-container{margin-top:5px}.issue.selected+.issue{border-top-color:transparent}.issue-row{display:flex;margin-bottom:5px}.issue-row-meta{flex-grow:0;padding-right:5px;white-space:nowrap}.issue-message{flex-grow:1;padding-left:8px;padding-right:8px;line-height:18px;font-size:13px;font-weight:600;text-overflow:ellipsis}.issue-actions{justify-content:space-between;flex-wrap:wrap;padding-left:8px}.issue-actions,.issue-meta-list{display:flex;align-items:center}.issue-meta{line-height:16px;font-size:12px}.issue-meta+.issue-meta{margin-left:8px}.issue-meta-label{display:inline-block;vertical-align:top;max-width:180px;line-height:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.issue-see-rule{border-bottom:none;font-size:12px}.issue-changelog{width:450px;max-height:320px;overflow:auto;white-space:normal}.issue-comments{margin-top:5px;padding-left:8px;font-size:12px}.issue-comment{display:flex}.issue-comment+.issue-comment{margin-top:4px}.issue-comment-author{max-width:130px;font-weight:600;overflow:hidden;text-overflow:ellipsis}.issue-comment-age,.issue-comment-author{flex-shrink:0;line-height:18px;color:#666;white-space:nowrap}.issue-comment-text{flex:1;min-width:0;margin-left:5px;margin-right:5px;line-height:18px;line-height:1.5;overflow:hidden;outline:none}.issue-comment-text.markdown pre{float:none;height:auto;margin:0;padding:8px;background-color:#e6e6e6;border:none;border-radius:3px}.issue-comment-text.markdown br~pre{margin-top:8px}.issue-comment-actions{flex-shrink:0;padding-left:5px;line-height:18px;white-space:nowrap}.issue-comment-bubble-popup{width:440px;font-size:12px}.issue-comment-form-text textarea{width:100%;max-width:100%}.issue-comment-form-footer{margin-top:5px;line-height:22px}.issue-comment-form-footer:after,.issue-comment-form-footer:before{display:table;content:\\\"\\\";line-height:0}.issue-comment-form-footer:after{clear:both}.issue-comment-form-actions{float:right}.issue-comment-form-tips{float:left}.issue-with-checkbox{padding-left:24px}.issue-with-checkbox .issue-checkbox-container{display:flex;justify-content:center;align-items:center}.issue-checkbox-container{display:none;position:absolute;width:28px;top:0;bottom:0;left:0;border:none}.issue-checkbox-container:hover{background-color:rgba(0,0,0,.05)}.issue:not(.selected) .location-index{background-color:#999}.issue .menu:not(.issues-similar-issues-menu):not(.issue-changelog){max-height:120px;overflow:auto}.issue .badge-error{background-color:#eec8c8}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nvar statusIcons = {\n    open: OpenStatusIcon,\n    confirmed: ConfirmedStatusIcon,\n    reopened: ReopenedStatusIcon,\n    resolved: ResolvedStatusIcon,\n    closed: ClosedStatusIcon,\n    to_review: OpenStatusIcon,\n    in_review: ConfirmedStatusIcon,\n    reviewed: ResolvedStatusIcon,\n};\nfunction StatusIcon(_a) {\n    var status = _a.status, iconProps = __rest(_a, [\"status\"]);\n    var Icon = statusIcons[status.toLowerCase()];\n    return Icon ? React.createElement(Icon, __assign({}, iconProps)) : null;\n}\nexports.default = StatusIcon;\nfunction OpenStatusIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\", style: { fill: theme.colors.blue } }));\n    }));\n}\nfunction ConfirmedStatusIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M10 8c0 .552-.195 1.023-.586 1.414-.39.39-.862.586-1.414.586a1.926 1.926 0 0 1-1.414-.586A1.928 1.928 0 0 1 6 8c0-.552.195-1.023.586-1.414C6.976 6.196 7.448 6 8 6c.552 0 1.023.195 1.414.586.39.39.586.862.586 1.414zM8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\", style: { fill: theme.colors.blue } }));\n    }));\n}\nfunction ReopenedStatusIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 12.25v-8.5c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\", style: { fill: theme.colors.blue } }));\n    }));\n}\nfunction ResolvedStatusIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M12.03 6.734a.49.49 0 0 0-.14-.36l-.71-.702a.48.48 0 0 0-.352-.15.474.474 0 0 0-.35.15l-3.19 3.18-1.765-1.766a.479.479 0 0 0-.35-.15.479.479 0 0 0-.353.15l-.71.703a.482.482 0 0 0-.14.358c0 .14.046.258.14.352l2.828 2.828c.098.1.216.15.35.15.142 0 .26-.05.36-.15l4.243-4.242a.475.475 0 0 0 .14-.352l-.001.001zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\", style: { fill: theme.colors.baseFontColor } }));\n    }));\n}\nfunction ClosedStatusIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\", style: { fill: theme.colors.baseFontColor } }));\n    }));\n}\n//# sourceMappingURL=StatusIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\nexport interface PageShortcutsTooltipProps {\n  className?: string;\n  leftAndRightLabel?: string;\n  leftLabel?: string;\n  upAndDownLabel?: string;\n  metaModifierLabel?: string;\n}\n\nexport default function PageShortcutsTooltip(props: PageShortcutsTooltipProps) {\n  const { className, leftAndRightLabel, leftLabel, upAndDownLabel, metaModifierLabel } = props;\n  return (\n    <Tooltip\n      overlay={\n        <div className=\"small nowrap\">\n          <div>\n            {upAndDownLabel && (\n              <span>\n                <span className=\"shortcut-button little-spacer-right\">↑</span>\n                <span className=\"shortcut-button spacer-right\">↓</span>\n                {upAndDownLabel}\n              </span>\n            )}\n            {leftAndRightLabel && (\n              <span className={classNames({ 'big-spacer-left': upAndDownLabel })}>\n                <span className=\"shortcut-button little-spacer-right\">←</span>\n                <span className=\"shortcut-button spacer-right\">→</span>\n                {leftAndRightLabel}\n              </span>\n            )}\n            {leftLabel && (\n              <span className={classNames({ 'big-spacer-left': upAndDownLabel })}>\n                <span className=\"shortcut-button spacer-right\">←</span>\n                {leftLabel}\n              </span>\n            )}\n          </div>\n          {metaModifierLabel && (\n            <div className=\"big-spacer-top big-padded-top bordered-top\">\n              <span className=\"shortcut-button little-spacer-right\">alt</span>\n              <span className=\"little-spacer-right\">+</span>\n              <span className=\"shortcut-button little-spacer-right\">↑</span>\n              <span className=\"shortcut-button spacer-right\">↓</span>\n              <span className=\"shortcut-button little-spacer-right\">←</span>\n              <span className=\"shortcut-button spacer-right\">→</span>\n              {metaModifierLabel}\n            </div>\n          )}\n        </div>\n      }>\n      <div\n        aria-label={`\n        ${translate('shortcuts.on_page.intro')}\n        ${\n          upAndDownLabel\n            ? translateWithParameters('shortcuts.on_page.up_down_x', upAndDownLabel)\n            : ''\n        }\n        ${\n          leftAndRightLabel\n            ? translateWithParameters('shortcuts.on_page.left_right_x', leftAndRightLabel)\n            : ''\n        }\n        ${leftLabel ? translateWithParameters('shortcuts.on_page.left_x', leftLabel) : ''}\n        ${\n          metaModifierLabel\n            ? translateWithParameters('shortcuts.on_page.meta_x', metaModifierLabel)\n            : ''\n        }\n      `}\n        className={classNames(\n          className,\n          'page-shortcuts-tooltip note text-center display-inline-block'\n        )}>\n        <div>\n          <span className=\"shortcut-button shortcut-button-tiny\">↑</span>\n        </div>\n        <div>\n          <span className=\"shortcut-button shortcut-button-tiny\">←</span>\n          <span className=\"shortcut-button shortcut-button-tiny\">↓</span>\n          <span className=\"shortcut-button shortcut-button-tiny\">→</span>\n        </div>\n      </div>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  displayReset: boolean;\n  onReset: () => void;\n}\n\nexport default function FiltersHeader({ displayReset, onReset }: Props) {\n  return (\n    <div className=\"search-navigator-filters-header\">\n      {displayReset && (\n        <div className=\"pull-right\">\n          <Button className=\"button-red\" id=\"coding-rules-clear-all-filters\" onClick={onReset}>\n            {translate('clear_all_filters')}\n          </Button>\n        </div>\n      )}\n\n      <h2 className=\"h3\">{translate('filters')}</h2>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport {\n  getStandards,\n  renderCWECategory,\n  renderOwaspTop10Category,\n  renderSansTop25Category,\n  renderSonarSourceSecurityCategory\n} from '../../../helpers/security-standard';\nimport { Facet } from '../../../types/issues';\nimport { SecurityStandard, Standards, StandardType } from '../../../types/security';\nimport { formatFacetStat, Query, STANDARDS } from '../utils';\n\ninterface Props {\n  cwe: string[];\n  cweOpen: boolean;\n  cweStats: T.Dict<number> | undefined;\n  fetchingCwe: boolean;\n  fetchingOwaspTop10: boolean;\n  fetchingSansTop25: boolean;\n  fetchingSonarSourceSecurity: boolean;\n  loadSearchResultCount?: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  owaspTop10: string[];\n  owaspTop10Open: boolean;\n  owaspTop10Stats: T.Dict<number> | undefined;\n  query: Partial<Query>;\n  sansTop25: string[];\n  sansTop25Open: boolean;\n  sansTop25Stats: T.Dict<number> | undefined;\n  sonarsourceSecurity: string[];\n  sonarsourceSecurityOpen: boolean;\n  sonarsourceSecurityStats: T.Dict<number> | undefined;\n}\n\ninterface State {\n  standards: Standards;\n}\n\ntype StatsProp = 'owaspTop10Stats' | 'cweStats' | 'sansTop25Stats' | 'sonarsourceSecurityStats';\ntype ValuesProp = StandardType;\n\nexport default class StandardFacet extends React.PureComponent<Props, State> {\n  mounted = false;\n  property = STANDARDS;\n  state: State = {\n    standards: { owaspTop10: {}, sansTop25: {}, cwe: {}, sonarsourceSecurity: {} }\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n\n    // load standards.json only if the facet is open, or there is a selected value\n    if (\n      this.props.open ||\n      this.props.owaspTop10.length > 0 ||\n      this.props.cwe.length > 0 ||\n      this.props.sansTop25.length > 0 ||\n      this.props.sonarsourceSecurity.length > 0\n    ) {\n      this.loadStandards();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.open && this.props.open) {\n      this.loadStandards();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStandards = () => {\n    getStandards().then(\n      ({ owaspTop10, sansTop25, cwe, sonarsourceSecurity }: Standards) => {\n        if (this.mounted) {\n          this.setState({ standards: { owaspTop10, sansTop25, cwe, sonarsourceSecurity } });\n        }\n      },\n      () => {}\n    );\n  };\n\n  getValues = () => {\n    return [\n      ...this.props.sonarsourceSecurity.map(item =>\n        renderSonarSourceSecurityCategory(this.state.standards, item, true)\n      ),\n      ...this.props.owaspTop10.map(item =>\n        renderOwaspTop10Category(this.state.standards, item, true)\n      ),\n      ...this.props.sansTop25.map(item =>\n        renderSansTop25Category(this.state.standards, item, true)\n      ),\n      ...this.props.cwe.map(item => renderCWECategory(this.state.standards, item))\n    ];\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleOwaspTop10HeaderClick = () => {\n    this.props.onToggle('owaspTop10');\n  };\n\n  handleSansTop25HeaderClick = () => {\n    this.props.onToggle('sansTop25');\n  };\n\n  handleSonarSourceSecurityHeaderClick = () => {\n    this.props.onToggle('sonarsourceSecurity');\n  };\n\n  handleClear = () => {\n    this.props.onChange({\n      [this.property]: [],\n      owaspTop10: [],\n      sansTop25: [],\n      cwe: [],\n      sonarsourceSecurity: []\n    });\n  };\n\n  handleItemClick = (prop: ValuesProp, itemValue: string, multiple: boolean) => {\n    const items = this.props[prop];\n    if (multiple) {\n      const newValue = sortBy(\n        items.includes(itemValue) ? without(items, itemValue) : [...items, itemValue]\n      );\n      this.props.onChange({ [prop]: newValue });\n    } else {\n      this.props.onChange({\n        [prop]: items.includes(itemValue) && items.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleOwaspTop10ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick(SecurityStandard.OWASP_TOP10, itemValue, multiple);\n  };\n\n  handleSansTop25ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick(SecurityStandard.SANS_TOP25, itemValue, multiple);\n  };\n\n  handleSonarSourceSecurityItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick(SecurityStandard.SONARSOURCE, itemValue, multiple);\n  };\n\n  handleCWESearch = (query: string) => {\n    return Promise.resolve({\n      results: Object.keys(this.state.standards.cwe).filter(cwe =>\n        renderCWECategory(this.state.standards, cwe)\n          .toLowerCase()\n          .includes(query.toLowerCase())\n      )\n    });\n  };\n\n  loadCWESearchResultCount = (categories: string[]) => {\n    const { loadSearchResultCount } = this.props;\n    return loadSearchResultCount\n      ? loadSearchResultCount('cwe', { cwe: categories })\n      : Promise.resolve({});\n  };\n\n  renderList = (\n    statsProp: StatsProp,\n    valuesProp: ValuesProp,\n    renderName: (standards: Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    const stats = this.props[statsProp];\n    const values = this.props[valuesProp];\n    if (!stats) {\n      return null;\n    }\n    const categories = sortBy(Object.keys(stats), key => -stats[key]);\n    return this.renderFacetItemsList(stats, values, categories, renderName, renderName, onClick);\n  };\n\n  // eslint-disable-next-line max-params\n  renderFacetItemsList = (\n    stats: any,\n    values: string[],\n    categories: string[],\n    renderName: (standards: Standards, category: string) => React.ReactNode,\n    renderTooltip: (standards: Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    if (!categories.length) {\n      return (\n        <div className=\"search-navigator-facet-empty little-spacer-top\">\n          {translate('no_results')}\n        </div>\n      );\n    }\n\n    const getStat = (category: string) => {\n      return stats ? stats[category] : undefined;\n    };\n\n    return (\n      <FacetItemsList>\n        {categories.map(category => (\n          <FacetItem\n            active={values.includes(category)}\n            key={category}\n            name={renderName(this.state.standards, category)}\n            onClick={onClick}\n            stat={formatFacetStat(getStat(category))}\n            tooltip={renderTooltip(this.state.standards, category)}\n            value={category}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  };\n\n  renderHint = (statsProp: StatsProp, valuesProp: ValuesProp) => {\n    const stats = this.props[statsProp] || {};\n    const values = this.props[valuesProp];\n    return <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />;\n  };\n\n  renderOwaspTop10List() {\n    return this.renderList(\n      'owaspTop10Stats',\n      SecurityStandard.OWASP_TOP10,\n      renderOwaspTop10Category,\n      this.handleOwaspTop10ItemClick\n    );\n  }\n\n  renderOwaspTop10Hint() {\n    return this.renderHint('owaspTop10Stats', SecurityStandard.OWASP_TOP10);\n  }\n\n  renderSansTop25List() {\n    return this.renderList(\n      'sansTop25Stats',\n      SecurityStandard.SANS_TOP25,\n      renderSansTop25Category,\n      this.handleSansTop25ItemClick\n    );\n  }\n\n  renderSansTop25Hint() {\n    return this.renderHint('sansTop25Stats', SecurityStandard.SANS_TOP25);\n  }\n\n  renderSonarSourceSecurityList() {\n    return this.renderList(\n      'sonarsourceSecurityStats',\n      SecurityStandard.SONARSOURCE,\n      renderSonarSourceSecurityCategory,\n      this.handleSonarSourceSecurityItemClick\n    );\n  }\n\n  renderSonarSourceSecurityHint() {\n    return this.renderHint('sonarsourceSecurityStats', SecurityStandard.SONARSOURCE);\n  }\n\n  renderSubFacets() {\n    return (\n      <>\n        <FacetBox className=\"is-inner\" property={SecurityStandard.SONARSOURCE}>\n          <FacetHeader\n            fetching={this.props.fetchingSonarSourceSecurity}\n            name={translate('issues.facet.sonarsourceSecurity')}\n            onClick={this.handleSonarSourceSecurityHeaderClick}\n            open={this.props.sonarsourceSecurityOpen}\n            values={this.props.sonarsourceSecurity.map(item =>\n              renderSonarSourceSecurityCategory(this.state.standards, item)\n            )}\n          />\n          {this.props.sonarsourceSecurityOpen && (\n            <>\n              {this.renderSonarSourceSecurityList()}\n              {this.renderSonarSourceSecurityHint()}\n            </>\n          )}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property={SecurityStandard.OWASP_TOP10}>\n          <FacetHeader\n            fetching={this.props.fetchingOwaspTop10}\n            name={translate('issues.facet.owaspTop10')}\n            onClick={this.handleOwaspTop10HeaderClick}\n            open={this.props.owaspTop10Open}\n            values={this.props.owaspTop10.map(item =>\n              renderOwaspTop10Category(this.state.standards, item)\n            )}\n          />\n          {this.props.owaspTop10Open && (\n            <>\n              {this.renderOwaspTop10List()}\n              {this.renderOwaspTop10Hint()}\n            </>\n          )}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property={SecurityStandard.SANS_TOP25}>\n          <FacetHeader\n            fetching={this.props.fetchingSansTop25}\n            name={translate('issues.facet.sansTop25')}\n            onClick={this.handleSansTop25HeaderClick}\n            open={this.props.sansTop25Open}\n            values={this.props.sansTop25.map(item =>\n              renderSansTop25Category(this.state.standards, item)\n            )}\n          />\n          {this.props.sansTop25Open && (\n            <>\n              {this.renderSansTop25List()}\n              {this.renderSansTop25Hint()}\n            </>\n          )}\n        </FacetBox>\n        <ListStyleFacet<string>\n          className=\"is-inner\"\n          facetHeader={translate('issues.facet.cwe')}\n          fetching={this.props.fetchingCwe}\n          getFacetItemText={item => renderCWECategory(this.state.standards, item)}\n          getSearchResultKey={item => item}\n          getSearchResultText={item => renderCWECategory(this.state.standards, item)}\n          loadSearchResultCount={this.loadCWESearchResultCount}\n          onChange={this.props.onChange}\n          onSearch={this.handleCWESearch}\n          onToggle={this.props.onToggle}\n          open={this.props.cweOpen}\n          property={SecurityStandard.CWE}\n          query={omit(this.props.query, 'cwe')}\n          renderFacetItem={item => renderCWECategory(this.state.standards, item)}\n          renderSearchResult={(item, query) =>\n            highlightTerm(renderCWECategory(this.state.standards, item), query)\n          }\n          searchPlaceholder={translate('search.search_for_cwe')}\n          stats={this.props.cweStats}\n          values={this.props.cwe}\n        />\n      </>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderSubFacets()}\n      </FacetBox>\n    );\n  }\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".multiple-selection-hint{margin-top:8px;margin-bottom:8px;text-align:center}.multiple-selection-hint-inner{display:inline-block;height:24px;line-height:24px;border-radius:24px;background-color:#e6e6e6;text-align:center;padding:0 8px;font-size:12px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\nexport interface PageCounterProps {\n  className?: string;\n  current?: number;\n  label: string;\n  total: number;\n}\n\nexport default function PageCounter({ className, current, label, total }: PageCounterProps) {\n  return (\n    <div className={classNames('display-inline-block', className)}>\n      <strong className=\"little-spacer-right\">\n        {current !== undefined && formatMeasure(current + 1, 'INT') + ' / '}\n        <span className=\"it__page-counter-total\">{formatMeasure(total, 'INT')}</span>\n      </strong>\n      {label}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  type: T.IssueType | T.RuleType;\n}\n\nexport default function TypeHelper(props: Props) {\n  return (\n    <span className={props.className}>\n      <IssueTypeIcon className=\"little-spacer-right\" query={props.type} />\n      {translate('issue.type', props.type)}\n    </span>\n  );\n}\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./BarChart.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".bar-chart-bar{fill:#4b9fd5}.bar-chart-tick{fill:#666;font-size:12px;text-anchor:middle}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport './EmptySearch.css';\n\nexport default function EmptySearch() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('no_results_search')}</h3>\n      <p className=\"big-spacer-top\">{translate('no_results_search.2')}</p>\n    </div>\n  );\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".empty-search{padding:60px 0;border:1px solid #e6e6e6;border-radius:2px;color:#666;text-align:center}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n"],"sourceRoot":""}