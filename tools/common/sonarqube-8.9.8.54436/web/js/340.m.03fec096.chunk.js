(window.webpackJsonp=window.webpackJsonp||[]).push([[340],{1812:function(e,t,s){"use strict";s.r(t),s.d(t,"ResetPassword",(function(){return c}));var a=s(2),r=s(31),n=s(864),o=s(640),l=s(6),i=s(672);function c({currentUser:e}){return a.createElement("div",{className:"page-wrapper-simple"},a.createElement("div",{className:"page-simple"},a.createElement(i.a,null),a.createElement("h1",{className:"text-center huge"},Object(r.translate)("my_account.reset_password")),a.createElement("p",{className:"text-center huge-spacer-top huge-spacer-bottom"},Object(r.translate)("my_account.reset_password.explain")),a.createElement("div",{className:"text-center"},a.createElement("h2",{className:"big-spacer-bottom big"},Object(r.translate)("my_profile.password.title")),a.createElement(n.a,{user:e,onPasswordChange:()=>{window.location.href=Object(l.getBaseUrl)()+"/"}}))))}t.default=Object(o.a)(c)},340:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(311),r=s(2),n=s(31);t.default=function(e){var t=e.className;return r.createElement("em",{"aria-label":n.translate("field_required"),className:a("mandatory little-spacer-left",t)},"*")}},346:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(311),r=s(2),n=s(316),o=s(31);t.default=function(e){var t=e.className;return r.createElement("div",{"aria-hidden":!0,className:a("text-muted",t)},r.createElement(n.FormattedMessage,{id:"fields_marked_with_x_required",defaultMessage:o.translate("fields_marked_with_x_required"),values:{star:r.createElement("em",{className:"mandatory"},"*")}}))}},640:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var a=s(2),r=s(35),n=s.n(r),o=s(353),l=s(528),i=s(424);function c(e){class t extends a.Component{componentDidMount(){Object(o.b)(this.props.currentUser)||n()()}render(){return Object(o.b)(this.props.currentUser)?a.createElement(e,Object.assign({},this.props)):null}}return t.displayName=Object(l.a)(e,"whenLoggedIn"),Object(i.a)(t)}},864:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var a=s(2),r=s(312),n=s(322),o=s(340),l=s.n(o),i=s(346),c=s.n(i),d=s(31),m=s(458);class u extends a.Component{constructor(){super(...arguments),this.oldPassword=null,this.password=null,this.passwordConfirmation=null,this.state={success:!1},this.handleSuccessfulChange=()=>{this.oldPassword&&this.password&&this.passwordConfirmation&&(this.oldPassword.value="",this.password.value="",this.passwordConfirmation.value="",this.setState({success:!0,errors:void 0}),this.props.onPasswordChange&&this.props.onPasswordChange())},this.setErrors=e=>{this.setState({success:!1,errors:e})},this.handleChangePassword=e=>{if(e.preventDefault(),!this.oldPassword||!this.password||!this.passwordConfirmation)return;const{user:t}=this.props,s=this.oldPassword.value,a=this.password.value;a!==this.passwordConfirmation.value?(this.password.focus(),this.setErrors([Object(d.translate)("user.password_doesnt_match_confirmation")])):Object(m.a)({login:t.login,password:a,previousPassword:s}).then(this.handleSuccessfulChange,()=>{})}}render(){const{className:e}=this.props,{success:t,errors:s}=this.state;return a.createElement("form",{className:e,onSubmit:this.handleChangePassword},t&&a.createElement(n.Alert,{variant:"success"},Object(d.translate)("my_profile.password.changed")),s&&s.map((e,t)=>a.createElement(n.Alert,{key:t,variant:"error"},e)),a.createElement(c.a,{className:"form-field"}),a.createElement("div",{className:"form-field"},a.createElement("label",{htmlFor:"old_password"},Object(d.translate)("my_profile.password.old"),a.createElement(l.a,null)),a.createElement("input",{autoComplete:"off",id:"old_password",name:"old_password",ref:e=>this.oldPassword=e,required:!0,type:"password"})),a.createElement("div",{className:"form-field"},a.createElement("label",{htmlFor:"password"},Object(d.translate)("my_profile.password.new"),a.createElement(l.a,null)),a.createElement("input",{autoComplete:"off",id:"password",name:"password",ref:e=>this.password=e,required:!0,type:"password"})),a.createElement("div",{className:"form-field"},a.createElement("label",{htmlFor:"password_confirmation"},Object(d.translate)("my_profile.password.confirm"),a.createElement(l.a,null)),a.createElement("input",{autoComplete:"off",id:"password_confirmation",name:"password_confirmation",ref:e=>this.passwordConfirmation=e,required:!0,type:"password"})),a.createElement("div",{className:"form-field"},a.createElement(r.SubmitButton,{id:"change-password"},Object(d.translate)("update_verb"))))}}}}]);
//# sourceMappingURL=340.m.03fec096.chunk.js.map