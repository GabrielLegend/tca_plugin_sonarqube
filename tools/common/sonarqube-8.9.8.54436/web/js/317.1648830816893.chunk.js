(window.webpackJsonp=window.webpackJsonp||[]).push([[317],{1151:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return p}));var r=n(49),o=n(673);function a(e){return Object(r.getJSON)("/api/user_groups/search",e).catch(o.a)}function s(e){return Object(r.getJSON)("/api/user_groups/users",e).catch(o.a)}function c(e){return Object(r.post)("/api/user_groups/add_user",e).catch(o.a)}function l(e){return Object(r.post)("/api/user_groups/remove_user",e).catch(o.a)}function i(e){return Object(r.postJSON)("/api/user_groups/create",e).then((function(e){return e.group}),o.a)}function u(e){return Object(r.post)("/api/user_groups/update",e).catch(o.a)}function p(e){return Object(r.post)("/api/user_groups/delete",e).catch(o.a)}},1330:function(e,t,n){"use strict";var r,o=n(13),a=n(661),s=n(668),c=n.n(s),l=n(176),i=n(953),u=n(665),p=n(742),m=n.n(p),d=n(666),f=n.n(d),h=n(712),g=n.n(h),y=n(715),v=n.n(y),b=n(754),E=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!1,showConfirmation:!1},t.handleClick=function(){t.state.showConfirmation?t.handleRevoke().then((function(){t.mounted&&t.setState({showConfirmation:!1})})):t.setState({showConfirmation:!0})},t.handleRevoke=function(){return t.setState({loading:!0}),Object(i.c)({login:t.props.login,name:t.props.token.name}).then((function(){return t.props.onRevokeToken(t.props.token)}),(function(){t.mounted&&t.setState({loading:!1})}))},t}return E(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.deleteConfirmation,n=e.token,r=this.state,s=r.loading,i=r.showConfirmation;return o.createElement("tr",null,o.createElement("td",null,o.createElement(f.a,{overlay:n.name},o.createElement("span",null,Object(b.limitComponentName)(n.name,20)))),o.createElement("td",{className:"nowrap"},o.createElement(v.a,{date:n.lastConnectionDate,hourPrecision:!0})),o.createElement("td",{className:"thin nowrap text-right"},o.createElement(g.a,{date:n.createdAt,long:!0})),o.createElement("td",{className:"thin nowrap text-right"},o.createElement(c.a,{loading:s},o.createElement("i",{className:"deferred-spinner-placeholder"})),"modal"===t?o.createElement(m.a,{confirmButtonText:Object(l.translate)("users.tokens.revoke_token"),isDestructive:!0,modalBody:o.createElement(u.FormattedMessage,{defaultMessage:Object(l.translate)("users.tokens.sure_X"),id:"users.tokens.sure_X",values:{token:o.createElement("strong",null,n.name)}}),modalHeader:Object(l.translate)("users.tokens.revoke_token"),onConfirm:this.handleRevoke},(function(e){var t=e.onClick;return o.createElement(a.Button,{className:"spacer-left button-red input-small",disabled:s,onClick:t,title:Object(l.translate)("users.tokens.revoke_token")},Object(l.translate)("users.tokens.revoke"))})):o.createElement(a.Button,{className:"button-red input-small spacer-left",disabled:s,onClick:this.handleClick},i?Object(l.translate)("users.tokens.sure"):Object(l.translate)("users.tokens.revoke"))))},t}(o.PureComponent),O=n(703),j=n(671);function w(e){var t=e.token;return o.createElement("div",{className:"panel panel-white big-spacer-top"},o.createElement(j.Alert,{variant:"warning"},Object(l.translateWithParameters)("users.tokens.new_token_created",t.name)),o.createElement(O.ClipboardButton,{copyValue:t.token}),o.createElement("code",{className:"big-spacer-left text-success"},t.token))}var C=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,c=a.length;s<c;s++,o++)r[o]=a[s];return r},N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={generating:!1,loading:!0,newTokenName:"",tokens:[]},t.fetchTokens=function(){t.setState({loading:!0}),Object(i.b)(t.props.login).then((function(e){t.mounted&&t.setState({loading:!1,tokens:e})}),(function(){t.mounted&&t.setState({loading:!1})}))},t.updateTokensCount=function(){t.props.updateTokensCount&&t.props.updateTokensCount(t.props.login,t.state.tokens.length)},t.handleGenerateToken=function(e){e.preventDefault(),t.state.newTokenName.length>0&&(t.setState({generating:!0}),Object(i.a)({name:t.state.newTokenName,login:t.props.login}).then((function(e){t.mounted&&t.setState((function(t){var n=k(t.tokens,[{name:e.name,createdAt:e.createdAt}]);return{generating:!1,newToken:e,newTokenName:"",tokens:n}}),t.updateTokensCount)}),(function(){t.mounted&&t.setState({generating:!1})})))},t.handleRevokeToken=function(e){t.setState((function(t){return{tokens:t.tokens.filter((function(t){return t.name!==e.name}))}}),t.updateTokensCount)},t.handleNewTokenChange=function(e){return t.setState({newTokenName:e.currentTarget.value})},t}return C(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchTokens()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.renderItems=function(){var e=this,t=this.state.tokens;return t.length<=0?o.createElement("tr",null,o.createElement("td",{className:"note",colSpan:3},Object(l.translate)("users.no_tokens"))):t.map((function(t){return o.createElement(_,{deleteConfirmation:e.props.deleteConfirmation,key:t.name,login:e.props.login,onRevokeToken:e.handleRevokeToken,token:t})}))},t.prototype.render=function(){var e=this.state,t=e.generating,n=e.loading,r=e.newToken,s=e.newTokenName,i=e.tokens,u=o.createElement("tr",null,o.createElement("td",null,o.createElement("i",{className:"spinner"})));return o.createElement(o.Fragment,null,o.createElement("h3",{className:"spacer-bottom"},Object(l.translate)("users.generate_tokens")),o.createElement("form",{autoComplete:"off",className:"display-flex-center",id:"generate-token-form",onSubmit:this.handleGenerateToken},o.createElement("input",{className:"input-large spacer-right",maxLength:100,onChange:this.handleNewTokenChange,placeholder:Object(l.translate)("users.enter_token_name"),required:!0,type:"text",value:s}),o.createElement(a.SubmitButton,{className:"js-generate-token",disabled:t||s.length<=0},Object(l.translate)("users.generate"))),r&&o.createElement(w,{token:r}),o.createElement("table",{className:"data zebra big-spacer-top"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,Object(l.translate)("name")),o.createElement("th",null,Object(l.translate)("my_account.tokens_last_usage")),o.createElement("th",{className:"text-right"},Object(l.translate)("created")),o.createElement("th",null))),o.createElement("tbody",null,o.createElement(c.a,{customSpinner:u,loading:n&&i.length<=0},this.renderItems()))))},t}(o.PureComponent);t.a=N},2188:function(e,t,n){"use strict";n.r(t),n.d(t,"UsersApp",(function(){return Te}));var r,o=n(13),a=n(684),s=n(699),c=n.n(s),l=n(176),i=n(806),u=n(690),p=n(773),m=n(716),d=n(661),f=n(668),h=n.n(f),g=n(805),y=n.n(g),v=n(681),b=n.n(v),E=n(671),_=n(688),O=n.n(_),j=n(695),w=n.n(j),C=n(49),k=n(673),N=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){return t.props.onChange(t.props.idx,e.currentTarget.value)},t.handleRemove=function(){return t.props.onRemove(t.props.idx)},t}return N(t,e),t.prototype.render=function(){return o.createElement("div",{className:"js-scm-account display-flex-row spacer-bottom"},o.createElement("input",{maxLength:255,onChange:this.handleChange,type:"text",value:this.props.scmAccount}),o.createElement(d.DeleteButton,{onClick:this.handleRemove}))},t}(o.PureComponent),S=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),U=function(e){function t(t){var n=e.call(this,t)||this;n.mounted=!1,n.handleError=function(e){return n.mounted&&[400,500].includes(e.status)?Object(C.parseError)(e).then((function(e){return n.setState({error:e})}),k.a):Object(k.a)(e)},n.handleEmailChange=function(e){return n.setState({email:e.currentTarget.value})},n.handleLoginChange=function(e){return n.setState({login:e.currentTarget.value})},n.handleNameChange=function(e){return n.setState({name:e.currentTarget.value})},n.handlePasswordChange=function(e){return n.setState({password:e.currentTarget.value})},n.handleCreateUser=function(){return Object(i.b)({email:n.state.email||void 0,login:n.state.login,name:n.state.name,password:n.state.password,scmAccount:y()(n.state.scmAccounts)}).then((function(){n.props.onUpdateUsers(),n.props.onClose()}),n.handleError)},n.handleUpdateUser=function(){var e=n.props.user;return Object(i.i)({email:e.local?n.state.email:void 0,login:n.state.login,name:e.local?n.state.name:void 0,scmAccount:y()(n.state.scmAccounts)}).then((function(){n.props.onUpdateUsers(),n.props.onClose()}),n.handleError)},n.handleAddScmAccount=function(){n.setState((function(e){return{scmAccounts:e.scmAccounts.concat("")}}))},n.handleUpdateScmAccount=function(e,t){return n.setState((function(n){var r=n.scmAccounts.slice();return r[e]=t,{scmAccounts:r}}))},n.handleRemoveScmAccount=function(e){return n.setState((function(t){var n=t.scmAccounts;return{scmAccounts:n.slice(0,e).concat(n.slice(e+1))}}))};var r=t.user;return n.state=r?{email:r.email||"",login:r.login,name:r.name||"",password:"",scmAccounts:r.scmAccounts||[]}:{email:"",login:"",name:"",password:"",scmAccounts:[]},n}return S(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this,t=this.props.user,n=this.state.error,r=t?Object(l.translate)("users.update_user"):Object(l.translate)("users.create_user");return o.createElement(b.a,{header:r,onClose:this.props.onClose,onSubmit:t?this.handleUpdateUser:this.handleCreateUser,size:"small"},(function(a){var s=a.onCloseClick,c=a.onFormSubmit,i=a.submitting;return o.createElement("form",{autoComplete:"off",id:"user-form",onSubmit:c},o.createElement("header",{className:"modal-head"},o.createElement("h2",null,r)),o.createElement("div",{className:"modal-body modal-container"},n&&o.createElement(E.Alert,{variant:"error"},n),!n&&t&&!t.local&&o.createElement(E.Alert,{variant:"warning"},Object(l.translate)("users.cannot_update_delegated_user")),o.createElement(w.a,{className:"modal-field"}),!t&&o.createElement("div",{className:"modal-field"},o.createElement("label",{htmlFor:"create-user-login"},Object(l.translate)("login"),o.createElement(O.a,null)),o.createElement("input",{className:"hidden",name:"login-fake",type:"text"}),o.createElement("input",{autoFocus:!0,id:"create-user-login",maxLength:255,minLength:3,name:"login",onChange:e.handleLoginChange,required:!0,type:"text",value:e.state.login}),o.createElement("p",{className:"note"},Object(l.translateWithParameters)("users.minimum_x_characters",3))),o.createElement("div",{className:"modal-field"},o.createElement("label",{htmlFor:"create-user-name"},Object(l.translate)("name"),o.createElement(O.a,null)),o.createElement("input",{className:"hidden",name:"name-fake",type:"text"}),o.createElement("input",{autoFocus:!!t,disabled:t&&!t.local,id:"create-user-name",maxLength:200,name:"name",onChange:e.handleNameChange,required:!0,type:"text",value:e.state.name})),o.createElement("div",{className:"modal-field"},o.createElement("label",{htmlFor:"create-user-email"},Object(l.translate)("users.email")),o.createElement("input",{className:"hidden",name:"email-fake",type:"email"}),o.createElement("input",{disabled:t&&!t.local,id:"create-user-email",maxLength:100,name:"email",onChange:e.handleEmailChange,type:"email",value:e.state.email})),!t&&o.createElement("div",{className:"modal-field"},o.createElement("label",{htmlFor:"create-user-password"},Object(l.translate)("password"),o.createElement(O.a,null)),o.createElement("input",{className:"hidden",name:"password-fake",type:"password"}),o.createElement("input",{id:"create-user-password",name:"password",onChange:e.handlePasswordChange,required:!0,type:"password",value:e.state.password})),o.createElement("div",{className:"modal-field"},o.createElement("label",null,Object(l.translate)("my_profile.scm_accounts")),e.state.scmAccounts.map((function(t,n){return o.createElement(P,{idx:n,key:n,onChange:e.handleUpdateScmAccount,onRemove:e.handleRemoveScmAccount,scmAccount:t})})),o.createElement("div",{className:"spacer-bottom"},o.createElement(d.Button,{className:"js-scm-account-add",onClick:e.handleAddScmAccount},Object(l.translate)("add_verb"))),o.createElement("p",{className:"note"},Object(l.translate)("user.login_or_email_used_as_scm_account")))),o.createElement("footer",{className:"modal-foot"},i&&o.createElement("i",{className:"spinner spacer-right"}),o.createElement(d.SubmitButton,{disabled:i},t?Object(l.translate)("update_verb"):Object(l.translate)("create")),o.createElement(d.ResetButtonLink,{onClick:s},Object(l.translate)("cancel"))))}))},t}(o.PureComponent),F=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openUserForm:!1},t.handleOpenUserForm=function(){t.setState({openUserForm:!0})},t.handleCloseUserForm=function(){t.setState({openUserForm:!1})},t}return F(t,e),t.prototype.render=function(){return o.createElement("header",{className:"page-header",id:"users-header"},o.createElement("h1",{className:"page-title"},Object(l.translate)("users.page")),o.createElement(h.a,{loading:this.props.loading}),o.createElement("div",{className:"page-actions"},o.createElement(d.Button,{id:"users-create",onClick:this.handleOpenUserForm},Object(l.translate)("users.create_user"))),o.createElement("p",{className:"page-description"},Object(l.translate)("users.page.description")),this.state.openUserForm&&o.createElement(U,{onClose:this.handleCloseUserForm,onUpdateUsers:this.props.onUpdateUsers}))},t}(o.PureComponent),T=n(709),x=n.n(T),D=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSearch=function(e){t.props.updateQuery({search:e})},t}return D(t,e),t.prototype.render=function(){var e=this.props.query;return o.createElement("div",{className:"panel panel-vertical bordered-bottom spacer-bottom",id:"users-search"},o.createElement(x.a,{minLength:2,onChange:this.handleSearch,placeholder:Object(l.translate)("search.search_by_login_or_name"),value:e.search}))},t}(o.PureComponent),R=n(978),B=n.n(R),q=n(715),L=n.n(q),W=n(745),I=n(665),G=n(680),z=n.n(G),J=n(1330);function H(e){return o.createElement(z.a,{contentLabel:Object(l.translate)("users.tokens"),onRequestClose:e.onClose},o.createElement("header",{className:"modal-head"},o.createElement("h2",null,o.createElement(I.FormattedMessage,{defaultMessage:Object(l.translate)("users.user_X_tokens"),id:"users.user_X_tokens",values:{user:o.createElement("em",null,e.user.name)}}))),o.createElement("div",{className:"modal-body modal-container"},o.createElement(J.a,{deleteConfirmation:"inline",login:e.user.login,updateTokensCount:e.updateTokensCount})),o.createElement("footer",{className:"modal-foot"},o.createElement(d.ResetButtonLink,{onClick:e.onClose},Object(l.translate)("Done"))))}var Q=n(723),X=n.n(Q),V=n(702),K=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={submitting:!1},t.handleDeactivate=function(e){e.preventDefault(),t.setState({submitting:!0}),Object(i.c)({login:t.props.user.login}).then((function(){t.props.onUpdateUsers(),t.props.onClose()}),(function(){t.mounted&&t.setState({submitting:!1})}))},t}return K(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props.user,t=this.state.submitting,n=Object(l.translate)("users.deactivate_user");return o.createElement(z.a,{contentLabel:n,onRequestClose:this.props.onClose},o.createElement("form",{autoComplete:"off",id:"deactivate-user-form",onSubmit:this.handleDeactivate},o.createElement("header",{className:"modal-head"},o.createElement("h2",null,n)),o.createElement("div",{className:"modal-body"},Object(l.translateWithParameters)("users.deactivate_user.confirmation",e.name,e.login)),o.createElement("footer",{className:"modal-foot"},t&&o.createElement("i",{className:"spinner spacer-right"}),o.createElement(d.SubmitButton,{className:"js-confirm button-red",disabled:t},Object(l.translate)("users.deactivate")),o.createElement(d.ResetButtonLink,{className:"js-modal-close",onClick:this.props.onClose},Object(l.translate)("cancel")))))},t}(o.PureComponent),Z=n(785),$=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={confirmPassword:"",newPassword:"",oldPassword:"",submitting:!1},t.handleError=function(e){return t.mounted&&400===e.status?Object(C.parseError)(e).then((function(e){return t.setState({error:e,submitting:!1})}),k.a):Object(k.a)(e)},t.handleConfirmPasswordChange=function(e){return t.setState({confirmPassword:e.currentTarget.value})},t.handleNewPasswordChange=function(e){return t.setState({newPassword:e.currentTarget.value})},t.handleOldPasswordChange=function(e){return t.setState({oldPassword:e.currentTarget.value})},t.handleChangePassword=function(e){e.preventDefault(),t.state.newPassword.length>0&&t.state.newPassword===t.state.confirmPassword&&(t.setState({submitting:!0}),Object(i.a)({login:t.props.user.login,password:t.state.newPassword,previousPassword:t.state.oldPassword}).then((function(){Object(Z.a)(Object(l.translate)("my_profile.password.changed")),t.props.onClose()}),t.handleError))},t}return $(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.state,t=e.error,n=e.submitting,r=e.newPassword,a=e.confirmPassword,s=Object(l.translate)("my_profile.password.title");return o.createElement(z.a,{contentLabel:s,onRequestClose:this.props.onClose,size:"small"},o.createElement("form",{autoComplete:"off",id:"user-password-form",onSubmit:this.handleChangePassword},o.createElement("header",{className:"modal-head"},o.createElement("h2",null,s)),o.createElement("div",{className:"modal-body"},t&&o.createElement(E.Alert,{variant:"error"},t),o.createElement(w.a,{className:"modal-field"}),this.props.isCurrentUser&&o.createElement("div",{className:"modal-field"},o.createElement("label",{htmlFor:"old-user-password"},Object(l.translate)("my_profile.password.old"),o.createElement(O.a,null)),o.createElement("input",{className:"hidden",name:"old-password-fake",type:"password"}),o.createElement("input",{id:"old-user-password",name:"old-password",onChange:this.handleOldPasswordChange,required:!0,type:"password",value:this.state.oldPassword})),o.createElement("div",{className:"modal-field"},o.createElement("label",{htmlFor:"user-password"},Object(l.translate)("my_profile.password.new"),o.createElement(O.a,null)),o.createElement("input",{className:"hidden",name:"password-fake",type:"password"}),o.createElement("input",{id:"user-password",name:"password",onChange:this.handleNewPasswordChange,required:!0,type:"password",value:this.state.newPassword})),o.createElement("div",{className:"modal-field"},o.createElement("label",{htmlFor:"confirm-user-password"},Object(l.translate)("my_profile.password.confirm"),o.createElement(O.a,null)),o.createElement("input",{className:"hidden",name:"confirm-password-fake",type:"password"}),o.createElement("input",{id:"confirm-user-password",name:"confirm-password",onChange:this.handleConfirmPasswordChange,required:!0,type:"password",value:this.state.confirmPassword}))),o.createElement("footer",{className:"modal-foot"},n&&o.createElement("i",{className:"spinner spacer-right"}),o.createElement(d.SubmitButton,{disabled:n||!r||r!==a},Object(l.translate)("change_verb")),o.createElement(d.ResetButtonLink,{onClick:this.props.onClose},Object(l.translate)("cancel")))))},t}(o.PureComponent),te=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.handleOpenDeactivateForm=function(){t.setState({openForm:"deactivate"})},t.handleOpenPasswordForm=function(){t.setState({openForm:"password"})},t.handleOpenUpdateForm=function(){t.setState({openForm:"update"})},t.handleCloseForm=function(){t.setState({openForm:void 0})},t.renderActions=function(){var e=t.props.user;return o.createElement(X.a,null,o.createElement(Q.ActionsDropdownItem,{className:"js-user-update",onClick:t.handleOpenUpdateForm},Object(l.translate)("update_details")),e.local&&o.createElement(Q.ActionsDropdownItem,{className:"js-user-change-password",onClick:t.handleOpenPasswordForm},Object(l.translate)("my_profile.password.title")),o.createElement(Q.ActionsDropdownDivider,null),Object(V.c)(e)&&o.createElement(Q.ActionsDropdownItem,{className:"js-user-deactivate",destructive:!0,onClick:t.handleOpenDeactivateForm},Object(l.translate)("users.deactivate")))},t}return te(t,e),t.prototype.render=function(){var e=this.state.openForm,t=this.props,n=t.isCurrentUser,r=t.onUpdateUsers,a=t.user;return o.createElement(o.Fragment,null,this.renderActions(),"deactivate"===e&&Object(V.c)(a)&&o.createElement(Y,{onClose:this.handleCloseForm,onUpdateUsers:r,user:a}),"password"===e&&o.createElement(ee,{isCurrentUser:n,onClose:this.handleCloseForm,user:a}),"update"===e&&o.createElement(U,{onClose:this.handleCloseForm,onUpdateUsers:r,user:a}))},t}(o.PureComponent),re=n(701),oe=n.n(re),ae=n(838),se=n.n(ae),ce=n(817),le=n.n(ce),ie=n(1151),ue=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pe=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,c=a.length;s<c;s++,o++)r[o]=a[s];return r},me=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.fetchUsers=function(e){return Object(i.e)({login:n.props.user.login,p:e.page,ps:e.pageSize,q:""!==e.query?e.query:void 0,selected:e.filter}).then((function(t){n.mounted&&n.setState((function(n){var r=null!=e.page&&e.page>1,o=r?pe(n.groups,t.groups):t.groups,a=t.groups.filter((function(e){return e.selected})).map((function(e){return e.name})),s=r?pe(n.selectedGroups,a):a;return{lastSearchParams:e,needToReload:!1,groups:o,groupsTotalCount:t.paging.total,selectedGroups:s}}))}))},n.handleSelect=function(e){return Object(ie.a)({name:e,login:n.props.user.login}).then((function(){n.mounted&&n.setState((function(t){return{needToReload:!0,selectedGroups:pe(t.selectedGroups,[e])}}))}))},n.handleUnselect=function(e){return Object(ie.e)({name:e,login:n.props.user.login}).then((function(){n.mounted&&n.setState((function(t){return{needToReload:!0,selectedGroups:oe()(t.selectedGroups,e)}}))}))},n.handleCloseClick=function(e){e.preventDefault(),n.handleClose()},n.handleClose=function(){n.props.onUpdateUsers(),n.props.onClose()},n.renderElement=function(e){var t=se()(n.state.groups,{name:e});return o.createElement("div",{className:"select-list-list-item"},void 0===t?e:o.createElement(o.Fragment,null,t.name,o.createElement("br",null),o.createElement("span",{className:"note"},t.description)))},n.state={needToReload:!1,groups:[],selectedGroups:[]},n}return ue(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=Object(l.translate)("users.update_groups");return o.createElement(z.a,{contentLabel:e,onRequestClose:this.handleClose},o.createElement("div",{className:"modal-head"},o.createElement("h2",null,e)),o.createElement("div",{className:"modal-body modal-container"},o.createElement(le.a,{elements:this.state.groups.map((function(e){return e.name})),elementsTotalCount:this.state.groupsTotalCount,needToReload:this.state.needToReload&&this.state.lastSearchParams&&this.state.lastSearchParams.filter!==ce.SelectListFilter.All,onSearch:this.fetchUsers,onSelect:this.handleSelect,onUnselect:this.handleUnselect,renderElement:this.renderElement,selectedElements:this.state.selectedGroups,withPaging:!0})),o.createElement("footer",{className:"modal-foot"},o.createElement("a",{className:"js-modal-close",href:"#",onClick:this.handleCloseClick},Object(l.translate)("Done"))))},t}(o.PureComponent),de=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openForm:!1,showMore:!1},t.handleOpenForm=function(){return t.setState({openForm:!0})},t.handleCloseForm=function(){return t.setState({openForm:!1})},t.toggleShowMore=function(e){e.preventDefault(),t.setState((function(e){return{showMore:!e.showMore}}))},t}return de(t,e),t.prototype.render=function(){var e=this.props.groups,t=e.length>3?2:3;return o.createElement("ul",null,e.slice(0,t).map((function(e){return o.createElement("li",{className:"little-spacer-bottom",key:e},e)})),e.length>3&&this.state.showMore&&e.slice(t).map((function(e){return o.createElement("li",{className:"little-spacer-bottom",key:e},e)})),o.createElement("li",{className:"little-spacer-bottom"},e.length>3&&!this.state.showMore&&o.createElement("a",{className:"js-user-more-groups spacer-right",href:"#",onClick:this.toggleShowMore},Object(l.translateWithParameters)("more_x",e.length-t)),o.createElement(d.ButtonIcon,{className:"js-user-groups button-small",onClick:this.handleOpenForm,tooltip:Object(l.translate)("users.update_groups")},o.createElement(B.a,null))),this.state.openForm&&o.createElement(me,{onClose:this.handleCloseForm,onUpdateUsers:this.props.onUpdateUsers,user:this.props.user}))},t}(o.PureComponent),he=n(1120),ge=n(687),ye=n(698);function ve(e){var t=e.identityProvider,n=e.user;return o.createElement("td",{className:"text-middle"},o.createElement("div",null,o.createElement("strong",{className:"js-user-name"},n.name),o.createElement("span",{className:"js-user-login note little-spacer-left"},n.login)),n.email&&o.createElement("div",{className:"js-user-email little-spacer-top"},n.email),!n.local&&"sonarqube"!==n.externalProvider&&o.createElement(be,{identityProvider:t,user:n}))}function be(e){var t=e.identityProvider,n=e.user;return t?o.createElement("div",{className:"js-user-identity-provider little-spacer-top"},o.createElement("div",{className:"identity-provider",style:{backgroundColor:t.backgroundColor,color:Object(he.getTextColor)(t.backgroundColor,ye.colors.secondFontColor)}},o.createElement("img",{alt:t.name,className:"little-spacer-right",height:"14",src:Object(ge.getBaseUrl)()+t.iconPath,width:"14"}),n.externalIdentity)):o.createElement("div",{className:"js-user-identity-provider little-spacer-top"},o.createElement("span",null,n.externalProvider,": ",n.externalIdentity))}var Ee=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showMore:!1},t.toggleShowMore=function(e){e.preventDefault(),t.setState((function(e){return{showMore:!e.showMore}}))},t}return Ee(t,e),t.prototype.render=function(){var e=this.props.scmAccounts,t=e.length>3?2:3;return o.createElement("ul",{className:"js-scm-accounts"},e.slice(0,t).map((function(e,t){return o.createElement("li",{className:"little-spacer-bottom",key:t},e)})),e.length>3&&(this.state.showMore?e.slice(t).map((function(e,n){return o.createElement("li",{className:"little-spacer-bottom",key:n+t},e)})):o.createElement("li",{className:"little-spacer-bottom"},o.createElement("a",{className:"js-user-more-scm",href:"#",onClick:this.toggleShowMore},Object(l.translateWithParameters)("more_x",e.length-t)))))},t}(o.PureComponent),Oe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openTokenForm:!1},t.handleOpenTokensForm=function(){return t.setState({openTokenForm:!0})},t.handleCloseTokensForm=function(){return t.setState({openTokenForm:!1})},t}return Oe(t,e),t.prototype.render=function(){var e=this.props,t=e.identityProvider,n=e.onUpdateUsers,r=e.user;return o.createElement("tr",null,o.createElement("td",{className:"thin nowrap text-middle"},o.createElement(W.a,{hash:r.avatar,name:r.name,size:36})),o.createElement(ve,{identityProvider:t,user:r}),o.createElement("td",{className:"thin nowrap text-middle"},o.createElement(_e,{scmAccounts:r.scmAccounts||[]})),o.createElement("td",{className:"thin nowrap text-middle"},o.createElement(L.a,{date:r.lastConnectionDate,hourPrecision:!0})),o.createElement("td",{className:"thin nowrap text-middle"},o.createElement(fe,{groups:r.groups||[],onUpdateUsers:n,user:r})),o.createElement("td",{className:"thin nowrap text-middle"},r.tokensCount,o.createElement(d.ButtonIcon,{className:"js-user-tokens spacer-left button-small",onClick:this.handleOpenTokensForm,tooltip:Object(l.translate)("users.update_tokens")},o.createElement(B.a,null))),o.createElement("td",{className:"thin nowrap text-right text-middle"},o.createElement(ne,{isCurrentUser:this.props.isCurrentUser,onUpdateUsers:n,user:r})),this.state.openTokenForm&&o.createElement(H,{onClose:this.handleCloseTokensForm,updateTokensCount:this.props.updateTokensCount,user:r}))},t}(o.PureComponent);function we(e){var t=e.currentUser,n=e.identityProviders,r=e.onUpdateUsers,a=e.updateTokensCount,s=e.users;return o.createElement("div",{className:"boxed-group boxed-group-inner"},o.createElement("table",{className:"data zebra",id:"users-list"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null),o.createElement("th",{className:"nowrap"}),o.createElement("th",{className:"nowrap"},Object(l.translate)("my_profile.scm_accounts")),o.createElement("th",{className:"nowrap"},Object(l.translate)("users.last_connection")),o.createElement("th",{className:"nowrap"},Object(l.translate)("my_profile.groups")),o.createElement("th",{className:"nowrap"},Object(l.translate)("users.tokens")),o.createElement("th",{className:"nowrap"}," "))),o.createElement("tbody",null,s.map((function(e){return o.createElement(je,{identityProvider:n.find((function(t){return e.externalProvider===t.key})),isCurrentUser:t.isLoggedIn&&t.login===e.login,key:e.login,onUpdateUsers:r,updateTokensCount:a,user:e})})))))}var Ce=n(936),ke=n.n(Ce),Ne=n(826),Pe=ke()((function(e){return{search:Object(Ne.parseAsString)(e.search)}})),Se=ke()((function(e){return Object(Ne.cleanQuery)({search:e.search?Object(Ne.serializeString)(e.search):void 0})})),Ue=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fe=function(){return(Fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ae=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,c=a.length;s<c;s++,o++)r[o]=a[s];return r},Te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={identityProviders:[],loading:!0,users:[]},t.finishLoading=function(){t.mounted&&t.setState({loading:!1})},t.fetchIdentityProviders=function(){return Object(i.d)().then((function(e){var n=e.identityProviders;t.mounted&&t.setState({identityProviders:n})}))},t.fetchUsers=function(e){var n=(void 0===e?t.props:e).location;t.setState({loading:!0}),Object(i.f)({q:Pe(n.query).search}).then((function(e){var n=e.paging,r=e.users;t.mounted&&t.setState({loading:!1,paging:n,users:r})}),t.finishLoading)},t.fetchMoreUsers=function(){var e=t.state.paging;e&&(t.setState({loading:!0}),Object(i.f)({p:e.pageIndex+1,q:Pe(t.props.location.query).search}).then((function(e){var n=e.paging,r=e.users;t.mounted&&t.setState((function(e){return{loading:!1,users:Ae(e.users,r),paging:n}}))}),t.finishLoading))},t.updateQuery=function(e){var n=Se(Fe(Fe({},Pe(t.props.location.query)),e));t.props.router.push(Fe(Fe({},t.props.location),{query:n}))},t.updateTokensCount=function(e,n){t.setState((function(t){return{users:t.users.map((function(t){return t.login===e?Fe(Fe({},t),{tokensCount:n}):t}))}}))},t}return Ue(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchIdentityProviders(),this.fetchUsers()},t.prototype.componentWillReceiveProps=function(e){e.location.query.search!==this.props.location.query.search&&this.fetchUsers(e)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=Pe(this.props.location.query),t=this.state,n=t.loading,r=t.paging,s=t.users;return o.createElement("div",{className:"page page-limited",id:"users-page"},o.createElement(u.a,{suggestions:"users"}),o.createElement(a.a,{defer:!1,title:Object(l.translate)("users.page")}),o.createElement(A,{loading:n,onUpdateUsers:this.fetchUsers}),o.createElement(M,{query:e,updateQuery:this.updateQuery}),o.createElement(we,{currentUser:this.props.currentUser,identityProviders:this.state.identityProviders,onUpdateUsers:this.fetchUsers,updateTokensCount:this.updateTokensCount,users:s}),void 0!==r&&o.createElement(c.a,{count:s.length,loadMore:this.fetchMoreUsers,ready:!n,total:r.total}))},t}(o.PureComponent);t.default=Object(m.a)(Object(p.a)(Te))},690:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,o=n(13),a=n(728),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function c(e){var t=e.suggestions;return o.createElement(a.a.Consumer,null,(function(e){var n=e.addSuggestions,r=e.removeSuggestions;return o.createElement(l,{addSuggestions:n,removeSuggestions:r,suggestions:t})}))}var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.componentDidMount=function(){this.props.addSuggestions(this.props.suggestions)},t.prototype.componentDidUpdate=function(e){e.suggestions!==this.props.suggestions&&(this.props.removeSuggestions(this.props.suggestions),this.props.addSuggestions(e.suggestions))},t.prototype.componentWillUnmount=function(){this.props.removeSuggestions(this.props.suggestions)},t.prototype.render=function(){return null},t}(o.PureComponent)},706:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(13),c=n(176),l=n(668),i=n(661),u=n(790),p=n(681),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.handleSubmit=function(){var e=t.props.onConfirm(t.props.confirmData);return e?e.then(t.props.onClose,(function(){})):void t.props.onClose()},t.renderModalContent=function(e){var n=e.onCloseClick,r=e.onFormSubmit,o=e.submitting,a=t.props,p=a.children,m=a.confirmButtonText,d=a.confirmDisable,f=a.header,h=a.headerDescription,g=a.isDestructive,y=a.cancelButtonText,v=void 0===y?c.translate("cancel"):y;return s.createElement(u.default,null,s.createElement("form",{onSubmit:r},s.createElement("header",{className:"modal-head"},s.createElement("h2",null,f),h),s.createElement("div",{className:"modal-body"},p),s.createElement("footer",{className:"modal-foot"},s.createElement(l.default,{className:"spacer-right",loading:o}),s.createElement(i.SubmitButton,{autoFocus:!0,className:g?"button-red":void 0,disabled:o||d},m),s.createElement(i.ResetButtonLink,{disabled:o,onClick:n},v))))},t}return o(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t={header:e.header,onClose:e.onClose,noBackdrop:e.noBackdrop,size:e.size};return s.createElement(p.default,a({onSubmit:this.handleSubmit},t),this.renderModalContent)},t}(s.PureComponent);t.default=m},712:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=n(665),s=n(129);t.formatterOption={year:"numeric",month:"short",day:"2-digit"},t.longFormatterOption={year:"numeric",month:"long",day:"numeric"},t.default=function(e){var n=e.children,c=e.date,l=e.long;return o.createElement(a.FormattedDate,r({value:s.parseDate(c)},l?t.longFormatterOption:t.formatterOption),n)}},715:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(799),o=n(13),a=n(665),s=n(129),c=n(176),l=n(714);t.default=function(e){var t=e.children,n=void 0===t?function(e){return e}:t,i=e.date,u=e.hourPrecision,p=n;if(!i)return o.createElement(o.Fragment,null,n(c.translate("never")));i&&u&&r.differenceInHours(Date.now(),i)<1&&(p=function(){return n(c.translate("less_than_1_hour_ago"))});var m=s.parseDate(i);return o.createElement(l.default,{date:m},(function(e){return o.createElement("span",{title:e},o.createElement(a.FormattedRelative,{value:m},p))}))}},742:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var c=n(13),l=n(706),i=n(743),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderConfirmModal=function(e){var n=e.onClose,r=t.props,o=(r.children,r.modalBody),i=r.modalHeader,u=r.modalHeaderDescription,p=s(r,["children","modalBody","modalHeader","modalHeaderDescription"]);return c.createElement(l.default,a({header:i,headerDescription:u,onClose:n},p),o)},t}return o(t,e),t.prototype.render=function(){return c.createElement(i.default,{modal:this.renderConfirmModal},this.props.children)},t}(c.PureComponent);t.default=u},743:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={modal:!1},t.handleButtonClick=function(){t.setState({modal:!0})},t.handleFormSubmit=function(e){e&&e.preventDefault(),t.setState({modal:!0})},t.handleCloseModal=function(){t.mounted&&t.setState({modal:!1})},t}return o(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){return a.createElement(a.Fragment,null,this.props.children({onClick:this.handleButtonClick,onFormSubmit:this.handleFormSubmit}),this.state.modal&&this.props.modal({onClose:this.handleCloseModal}))},t}(a.PureComponent);t.default=s},785:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(765),o=n(763);function a(e){Object(o.default)().dispatch(r.b(e))}},953:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n(49),o=n(673);function a(e){return Object(r.getJSON)("/api/user_tokens/search",{login:e}).then((function(e){return e.userTokens}),o.a)}function s(e){return Object(r.postJSON)("/api/user_tokens/generate",e).catch(o.a)}function c(e){return Object(r.post)("/api/user_tokens/revoke",e).catch(o.a)}}}]);
//# sourceMappingURL=317.1648830816893.chunk.js.map